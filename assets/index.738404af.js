(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function nt(){}function no(i){return i()}function ls(){return Object.create(null)}function jt(i){i.forEach(no)}function rs(i){return typeof i=="function"}function wt(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let kr;function he(i,e){return kr||(kr=document.createElement("a")),kr.href=e,i===kr.href}function eh(i){return Object.keys(i).length===0}function rh(i,...e){if(i==null)return nt;const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function so(i,e,t){i.$$.on_destroy.push(rh(e,t))}function Ee(i){return i&&rs(i.destroy)?i.destroy:nt}function w(i,e){i.appendChild(e)}function V(i,e,t){i.insertBefore(e,t||null)}function X(i){i.parentNode&&i.parentNode.removeChild(i)}function S(i){return document.createElement(i)}function Yt(i){return document.createTextNode(i)}function I(){return Yt(" ")}function ih(){return Yt("")}function _t(i,e,t,r){return i.addEventListener(e,t,r),()=>i.removeEventListener(e,t,r)}function T(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function nh(i){return Array.from(i.childNodes)}function ir(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function ao(i,e,t,r){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,r?"important":"")}function W(i,e,t){i.classList[t?"add":"remove"](e)}let wr;function Tr(i){wr=i}function sh(){if(!wr)throw new Error("Function called outside component initialization");return wr}function is(i){sh().$$.on_mount.push(i)}const br=[],ci=[],ui=[],fs=[],ah=Promise.resolve();let pn=!1;function oh(){pn||(pn=!0,ah.then(oo))}function vn(i){ui.push(i)}const Di=new Set;let zr=0;function oo(){const i=wr;do{for(;zr<br.length;){const e=br[zr];zr++,Tr(e),hh(e.$$)}for(Tr(null),br.length=0,zr=0;ci.length;)ci.pop()();for(let e=0;e<ui.length;e+=1){const t=ui[e];Di.has(t)||(Di.add(t),t())}ui.length=0}while(br.length);for(;fs.length;)fs.pop()();pn=!1,Di.clear(),Tr(i)}function hh(i){if(i.fragment!==null){i.update(),jt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(vn)}}const li=new Set;let Ue;function Gt(){Ue={r:0,c:[],p:Ue}}function $t(){Ue.r||jt(Ue.c),Ue=Ue.p}function P(i,e){i&&i.i&&(li.delete(i),i.i(e))}function O(i,e,t,r){if(i&&i.o){if(li.has(i))return;li.add(i),Ue.c.push(()=>{li.delete(i),r&&(t&&i.d(1),r())}),i.o(e)}else r&&r()}function j(i){i&&i.c()}function G(i,e,t,r){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),r||vn(()=>{const a=i.$$.on_mount.map(no).filter(rs);i.$$.on_destroy?i.$$.on_destroy.push(...a):jt(a),i.$$.on_mount=[]}),s.forEach(vn)}function $(i,e){const t=i.$$;t.fragment!==null&&(jt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function uh(i,e){i.$$.dirty[0]===-1&&(br.push(i),oh(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function St(i,e,t,r,n,s,a,o=[-1]){const h=wr;Tr(i);const u=i.$$={fragment:null,ctx:[],props:s,update:nt,not_equal:n,bound:ls(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:ls(),dirty:o,skip_bound:!1,root:e.target||h.$$.root};a&&a(u.root);let l=!1;if(u.ctx=t?t(i,e.props||{},(f,c,...d)=>{const p=d.length?d[0]:c;return u.ctx&&n(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),l&&uh(i,f)),c}):[],u.update(),l=!0,jt(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=nh(e.target);u.fragment&&u.fragment.l(f),f.forEach(X)}else u.fragment&&u.fragment.c();e.intro&&P(i.$$.fragment),G(i,e.target,e.anchor,e.customElement),oo()}Tr(h)}class Pt{$destroy(){$(this,1),this.$destroy=nt}$on(e,t){if(!rs(t))return nt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!eh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let di;function lh(){di||(di=new IntersectionObserver(i=>{i.forEach(e=>{const t=e.isIntersecting?"enterViewport":"exitViewport";e.target.dispatchEvent(new CustomEvent(t))})}))}function Se(i){return lh(),di.observe(i),{destroy(){di.unobserve(i)}}}function fh(i){let e,t,r;return{c(){e=S("main"),e.innerHTML=`<div id="acc1" class="svelte-js2f9l"></div> 
    <div id="acc2" class="svelte-js2f9l"></div> 
    <div id="portrait" class="svelte-js2f9l"></div> 
    <div id="text" class="svelte-js2f9l"><p class="svelte-js2f9l">I 
            <span id="l" class="svelte-js2f9l">l</span><span id="o" class="svelte-js2f9l">o</span><span id="v" class="svelte-js2f9l">v</span><span id="e" class="svelte-js2f9l">e</span>
            math and computer science!</p></div>`,T(e,"class","svelte-js2f9l"),W(e,"active",i[0])},m(n,s){V(n,e,s),t||(r=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[1])],t=!0)},p(n,[s]){s&1&&W(e,"active",n[0])},i:nt,o:nt,d(n){n&&X(e),t=!1,jt(r)}}}function ch(i,e,t){let r=!1;return[r,()=>{t(0,r=!0)}]}class dh extends Pt{constructor(e){super(),St(this,e,ch,fh,wt,{})}}function ph(i){var e=this.constructor;return this.then(function(t){return e.resolve(i()).then(function(){return t})},function(t){return e.resolve(i()).then(function(){return e.reject(t)})})}function vh(i){var e=this;return new e(function(t,r){if(!(i&&typeof i.length<"u"))return r(new TypeError(typeof i+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(i);if(n.length===0)return t([]);var s=n.length;function a(h,u){if(u&&(typeof u=="object"||typeof u=="function")){var l=u.then;if(typeof l=="function"){l.call(u,function(f){a(h,f)},function(f){n[h]={status:"rejected",reason:f},--s===0&&t(n)});return}}n[h]={status:"fulfilled",value:u},--s===0&&t(n)}for(var o=0;o<n.length;o++)a(o,n[o])})}var _h=setTimeout;function ho(i){return Boolean(i&&typeof i.length<"u")}function mh(){}function gh(i,e){return function(){i.apply(e,arguments)}}function Rt(i){if(!(this instanceof Rt))throw new TypeError("Promises must be constructed via new");if(typeof i!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],lo(i,this)}function uo(i,e){for(;i._state===3;)i=i._value;if(i._state===0){i._deferreds.push(e);return}i._handled=!0,Rt._immediateFn(function(){var t=i._state===1?e.onFulfilled:e.onRejected;if(t===null){(i._state===1?_n:Er)(e.promise,i._value);return}var r;try{r=t(i._value)}catch(n){Er(e.promise,n);return}_n(e.promise,r)})}function _n(i,e){try{if(e===i)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var t=e.then;if(e instanceof Rt){i._state=3,i._value=e,mn(i);return}else if(typeof t=="function"){lo(gh(t,e),i);return}}i._state=1,i._value=e,mn(i)}catch(r){Er(i,r)}}function Er(i,e){i._state=2,i._value=e,mn(i)}function mn(i){i._state===2&&i._deferreds.length===0&&Rt._immediateFn(function(){i._handled||Rt._unhandledRejectionFn(i._value)});for(var e=0,t=i._deferreds.length;e<t;e++)uo(i,i._deferreds[e]);i._deferreds=null}function yh(i,e,t){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof e=="function"?e:null,this.promise=t}function lo(i,e){var t=!1;try{i(function(r){t||(t=!0,_n(e,r))},function(r){t||(t=!0,Er(e,r))})}catch(r){if(t)return;t=!0,Er(e,r)}}Rt.prototype.catch=function(i){return this.then(null,i)};Rt.prototype.then=function(i,e){var t=new this.constructor(mh);return uo(this,new yh(i,e,t)),t};Rt.prototype.finally=ph;Rt.all=function(i){return new Rt(function(e,t){if(!ho(i))return t(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(i);if(r.length===0)return e([]);var n=r.length;function s(o,h){try{if(h&&(typeof h=="object"||typeof h=="function")){var u=h.then;if(typeof u=="function"){u.call(h,function(l){s(o,l)},t);return}}r[o]=h,--n===0&&e(r)}catch(l){t(l)}}for(var a=0;a<r.length;a++)s(a,r[a])})};Rt.allSettled=vh;Rt.resolve=function(i){return i&&typeof i=="object"&&i.constructor===Rt?i:new Rt(function(e){e(i)})};Rt.reject=function(i){return new Rt(function(e,t){t(i)})};Rt.race=function(i){return new Rt(function(e,t){if(!ho(i))return t(new TypeError("Promise.race accepts an array"));for(var r=0,n=i.length;r<n;r++)Rt.resolve(i[r]).then(e,t)})};Rt._immediateFn=typeof setImmediate=="function"&&function(i){setImmediate(i)}||function(i){_h(i,0)};Rt._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var cs=Object.getOwnPropertySymbols,bh=Object.prototype.hasOwnProperty,xh=Object.prototype.propertyIsEnumerable;function Th(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function wh(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Eh=wh()?Object.assign:function(i,e){for(var t,r=Th(i),n,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var a in t)bh.call(t,a)&&(r[a]=t[a]);if(cs){n=cs(t);for(var o=0;o<n.length;o++)xh.call(t,n[o])&&(r[n[o]]=t[n[o]])}}return r};/*!
 * @pixi/polyfill - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */self.Promise||(self.Promise=Rt);Object.assign||(Object.assign=Eh);var Sh=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(self.performance&&self.performance.now)){var Ph=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-Ph}}var Ni=Date.now(),ds=["ms","moz","webkit","o"];for(var Ui=0;Ui<ds.length&&!self.requestAnimationFrame;++Ui){var Bi=ds[Ui];self.requestAnimationFrame=self[Bi+"RequestAnimationFrame"],self.cancelAnimationFrame=self[Bi+"CancelAnimationFrame"]||self[Bi+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(i){if(typeof i!="function")throw new TypeError(i+"is not a function");var e=Date.now(),t=Sh+Ni-e;return t<0&&(t=0),Ni=e,self.setTimeout(function(){Ni=Date.now(),i(performance.now())},t)});self.cancelAnimationFrame||(self.cancelAnimationFrame=function(i){return clearTimeout(i)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});self.ArrayBuffer||(self.ArrayBuffer=Array);self.Float32Array||(self.Float32Array=Array);self.Uint32Array||(self.Uint32Array=Array);self.Uint16Array||(self.Uint16Array=Array);self.Uint8Array||(self.Uint8Array=Array);self.Int32Array||(self.Int32Array=Array);var ki=/iPhone/i,ps=/iPod/i,vs=/iPad/i,_s=/\biOS-universal(?:.+)Mac\b/i,zi=/\bAndroid(?:.+)Mobile\b/i,ms=/Android/i,We=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Gr=/Silk/i,le=/Windows Phone/i,gs=/\bWindows(?:.+)ARM\b/i,ys=/BlackBerry/i,bs=/BB10/i,xs=/Opera Mini/i,Ts=/\b(CriOS|Chrome)(?:.+)Mobile/i,ws=/Mobile(?:.+)Firefox\b/i,Es=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function Ih(i){return function(e){return e.test(i)}}function Ch(i){var e={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?e.userAgent=i:i&&i.userAgent&&(e={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var n=Ih(t),s={apple:{phone:n(ki)&&!n(le),ipod:n(ps),tablet:!n(ki)&&(n(vs)||Es(e))&&!n(le),universal:n(_s),device:(n(ki)||n(ps)||n(vs)||n(_s)||Es(e))&&!n(le)},amazon:{phone:n(We),tablet:!n(We)&&n(Gr),device:n(We)||n(Gr)},android:{phone:!n(le)&&n(We)||!n(le)&&n(zi),tablet:!n(le)&&!n(We)&&!n(zi)&&(n(Gr)||n(ms)),device:!n(le)&&(n(We)||n(Gr)||n(zi)||n(ms))||n(/\bokhttp\b/i)},windows:{phone:n(le),tablet:n(gs),device:n(le)||n(gs)},other:{blackberry:n(ys),blackberry10:n(bs),opera:n(xs),firefox:n(ws),chrome:n(Ts),device:n(ys)||n(bs)||n(xs)||n(ws)||n(Ts)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}/*!
 * @pixi/settings - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ae=Ch(self.navigator);function Ah(i){var e=!0;if(ae.tablet||ae.phone){if(ae.apple.device){var t=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(t){var r=parseInt(t[1],10);r<11&&(e=!1)}}if(ae.android.device){var t=navigator.userAgent.match(/Android\s([0-9.]*)/);if(t){var r=parseInt(t[1],10);r<7&&(e=!1)}}}return e?i:4}function Rh(){return!ae.apple.device}var Z={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:Ah(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:ae.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:Rh(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},fo={exports:{}};(function(i){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function n(h,u,l){this.fn=h,this.context=u,this.once=l||!1}function s(h,u,l,f,c){if(typeof l!="function")throw new TypeError("The listener must be a function");var d=new n(l,f||h,c),p=t?t+u:u;return h._events[p]?h._events[p].fn?h._events[p]=[h._events[p],d]:h._events[p].push(d):(h._events[p]=d,h._eventsCount++),h}function a(h,u){--h._eventsCount===0?h._events=new r:delete h._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)e.call(l,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},o.prototype.listeners=function(u){var l=t?t+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var c=0,d=f.length,p=new Array(d);c<d;c++)p[c]=f[c].fn;return p},o.prototype.listenerCount=function(u){var l=t?t+u:u,f=this._events[l];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,l,f,c,d,p){var v=t?t+u:u;if(!this._events[v])return!1;var _=this._events[v],g=arguments.length,m,b;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),g){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,l),!0;case 3:return _.fn.call(_.context,l,f),!0;case 4:return _.fn.call(_.context,l,f,c),!0;case 5:return _.fn.call(_.context,l,f,c,d),!0;case 6:return _.fn.call(_.context,l,f,c,d,p),!0}for(b=1,m=new Array(g-1);b<g;b++)m[b-1]=arguments[b];_.fn.apply(_.context,m)}else{var x=_.length,y;for(b=0;b<x;b++)switch(_[b].once&&this.removeListener(u,_[b].fn,void 0,!0),g){case 1:_[b].fn.call(_[b].context);break;case 2:_[b].fn.call(_[b].context,l);break;case 3:_[b].fn.call(_[b].context,l,f);break;case 4:_[b].fn.call(_[b].context,l,f,c);break;default:if(!m)for(y=1,m=new Array(g-1);y<g;y++)m[y-1]=arguments[y];_[b].fn.apply(_[b].context,m)}}return!0},o.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},o.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},o.prototype.removeListener=function(u,l,f,c){var d=t?t+u:u;if(!this._events[d])return this;if(!l)return a(this,d),this;var p=this._events[d];if(p.fn)p.fn===l&&(!c||p.once)&&(!f||p.context===f)&&a(this,d);else{for(var v=0,_=[],g=p.length;v<g;v++)(p[v].fn!==l||c&&!p[v].once||f&&p[v].context!==f)&&_.push(p[v]);_.length?this._events[d]=_.length===1?_[0]:_:a(this,d)}return this},o.prototype.removeAllListeners=function(u){var l;return u?(l=t?t+u:u,this._events[l]&&a(this,l)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,i.exports=o})(fo);const Nr=fo.exports;var Ei={exports:{}};Ei.exports=Si;Ei.exports.default=Si;function Si(i,e,t){t=t||2;var r=e&&e.length,n=r?e[0]*t:i.length,s=co(i,0,n,t,!0),a=[];if(!s||s.next===s.prev)return a;var o,h,u,l,f,c,d;if(r&&(s=Fh(i,e,s,t)),i.length>80*t){o=u=i[0],h=l=i[1];for(var p=t;p<n;p+=t)f=i[p],c=i[p+1],f<o&&(o=f),c<h&&(h=c),f>u&&(u=f),c>l&&(l=c);d=Math.max(u-o,l-h),d=d!==0?32767/d:0}return Sr(s,a,t,o,h,d,0),a}function co(i,e,t,r,n){var s,a;if(n===bn(i,e,t,r)>0)for(s=e;s<t;s+=r)a=Ss(s,i[s],i[s+1],a);else for(s=t-r;s>=e;s-=r)a=Ss(s,i[s],i[s+1],a);return a&&Pi(a,a.next)&&(Ir(a),a=a.next),a}function ze(i,e){if(!i)return i;e||(e=i);var t=i,r;do if(r=!1,!t.steiner&&(Pi(t,t.next)||At(t.prev,t,t.next)===0)){if(Ir(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Sr(i,e,t,r,n,s,a){if(!!i){!a&&s&&zh(i,r,n,s);for(var o=i,h,u;i.prev!==i.next;){if(h=i.prev,u=i.next,s?Lh(i,r,n,s):Oh(i)){e.push(h.i/t|0),e.push(i.i/t|0),e.push(u.i/t|0),Ir(i),i=u.next,o=u.next;continue}if(i=u,i===o){a?a===1?(i=Mh(ze(i),e,t),Sr(i,e,t,r,n,s,2)):a===2&&Dh(i,e,t,r,n,s):Sr(ze(i),e,t,r,n,s,1);break}}}}function Oh(i){var e=i.prev,t=i,r=i.next;if(At(e,t,r)>=0)return!1;for(var n=e.x,s=t.x,a=r.x,o=e.y,h=t.y,u=r.y,l=n<s?n<a?n:a:s<a?s:a,f=o<h?o<u?o:u:h<u?h:u,c=n>s?n>a?n:a:s>a?s:a,d=o>h?o>u?o:u:h>u?h:u,p=r.next;p!==e;){if(p.x>=l&&p.x<=c&&p.y>=f&&p.y<=d&&tr(n,o,s,h,a,u,p.x,p.y)&&At(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Lh(i,e,t,r){var n=i.prev,s=i,a=i.next;if(At(n,s,a)>=0)return!1;for(var o=n.x,h=s.x,u=a.x,l=n.y,f=s.y,c=a.y,d=o<h?o<u?o:u:h<u?h:u,p=l<f?l<c?l:c:f<c?f:c,v=o>h?o>u?o:u:h>u?h:u,_=l>f?l>c?l:c:f>c?f:c,g=gn(d,p,e,t,r),m=gn(v,_,e,t,r),b=i.prevZ,x=i.nextZ;b&&b.z>=g&&x&&x.z<=m;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=_&&b!==n&&b!==a&&tr(o,l,h,f,u,c,b.x,b.y)&&At(b.prev,b,b.next)>=0||(b=b.prevZ,x.x>=d&&x.x<=v&&x.y>=p&&x.y<=_&&x!==n&&x!==a&&tr(o,l,h,f,u,c,x.x,x.y)&&At(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;b&&b.z>=g;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=_&&b!==n&&b!==a&&tr(o,l,h,f,u,c,b.x,b.y)&&At(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=m;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=_&&x!==n&&x!==a&&tr(o,l,h,f,u,c,x.x,x.y)&&At(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Mh(i,e,t){var r=i;do{var n=r.prev,s=r.next.next;!Pi(n,s)&&po(n,r,r.next,s)&&Pr(n,s)&&Pr(s,n)&&(e.push(n.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Ir(r),Ir(r.next),r=i=s),r=r.next}while(r!==i);return ze(r)}function Dh(i,e,t,r,n,s){var a=i;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&Xh(a,o)){var h=vo(a,o);a=ze(a,a.next),h=ze(h,h.next),Sr(a,e,t,r,n,s,0),Sr(h,e,t,r,n,s,0);return}o=o.next}a=a.next}while(a!==i)}function Fh(i,e,t,r){var n=[],s,a,o,h,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,h=s<a-1?e[s+1]*r:i.length,u=co(i,o,h,r,!1),u===u.next&&(u.steiner=!0),n.push($h(u));for(n.sort(Nh),s=0;s<n.length;s++)t=Uh(n[s],t);return t}function Nh(i,e){return i.x-e.x}function Uh(i,e){var t=Bh(i,e);if(!t)return e;var r=vo(t,i);return ze(r,r.next),ze(t,t.next)}function Bh(i,e){var t=e,r=i.x,n=i.y,s=-1/0,a;do{if(n<=t.y&&n>=t.next.y&&t.next.y!==t.y){var o=t.x+(n-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(o<=r&&o>s&&(s=o,a=t.x<t.next.x?t:t.next,o===r))return a}t=t.next}while(t!==e);if(!a)return null;var h=a,u=a.x,l=a.y,f=1/0,c;t=a;do r>=t.x&&t.x>=u&&r!==t.x&&tr(n<l?r:s,n,u,l,n<l?s:r,n,t.x,t.y)&&(c=Math.abs(n-t.y)/(r-t.x),Pr(t,i)&&(c<f||c===f&&(t.x>a.x||t.x===a.x&&kh(a,t)))&&(a=t,f=c)),t=t.next;while(t!==h);return a}function kh(i,e){return At(i.prev,i,e.prev)<0&&At(e.next,i,i.next)<0}function zh(i,e,t,r){var n=i;do n.z===0&&(n.z=gn(n.x,n.y,e,t,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==i);n.prevZ.nextZ=null,n.prevZ=null,Gh(n)}function Gh(i){var e,t,r,n,s,a,o,h,u=1;do{for(t=i,i=null,s=null,a=0;t;){for(a++,r=t,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(h=u;o>0||h>0&&r;)o!==0&&(h===0||!r||t.z<=r.z)?(n=t,t=t.nextZ,o--):(n=r,r=r.nextZ,h--),s?s.nextZ=n:i=n,n.prevZ=s,s=n;t=r}s.nextZ=null,u*=2}while(a>1);return i}function gn(i,e,t,r,n){return i=(i-t)*n|0,e=(e-r)*n|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function $h(i){var e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function tr(i,e,t,r,n,s,a,o){return(n-a)*(e-o)>=(i-a)*(s-o)&&(i-a)*(r-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(n-a)*(r-o)}function Xh(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!Hh(i,e)&&(Pr(i,e)&&Pr(e,i)&&jh(i,e)&&(At(i.prev,i,e.prev)||At(i,e.prev,e))||Pi(i,e)&&At(i.prev,i,i.next)>0&&At(e.prev,e,e.next)>0)}function At(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Pi(i,e){return i.x===e.x&&i.y===e.y}function po(i,e,t,r){var n=Xr(At(i,e,t)),s=Xr(At(i,e,r)),a=Xr(At(t,r,i)),o=Xr(At(t,r,e));return!!(n!==s&&a!==o||n===0&&$r(i,t,e)||s===0&&$r(i,r,e)||a===0&&$r(t,i,r)||o===0&&$r(t,e,r))}function $r(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Xr(i){return i>0?1:i<0?-1:0}function Hh(i,e){var t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&po(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Pr(i,e){return At(i.prev,i,i.next)<0?At(i,e,i.next)>=0&&At(i,i.prev,e)>=0:At(i,e,i.prev)<0||At(i,i.next,e)<0}function jh(i,e){var t=i,r=!1,n=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&n<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==i);return r}function vo(i,e){var t=new yn(i.i,i.x,i.y),r=new yn(e.i,e.x,e.y),n=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=n,n.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function Ss(i,e,t,r){var n=new yn(i,e,t);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Ir(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function yn(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Si.deviation=function(i,e,t,r){var n=e&&e.length,s=n?e[0]*t:i.length,a=Math.abs(bn(i,0,s,t));if(n)for(var o=0,h=e.length;o<h;o++){var u=e[o]*t,l=o<h-1?e[o+1]*t:i.length;a-=Math.abs(bn(i,u,l,t))}var f=0;for(o=0;o<r.length;o+=3){var c=r[o]*t,d=r[o+1]*t,p=r[o+2]*t;f+=Math.abs((i[c]-i[p])*(i[d+1]-i[c+1])-(i[c]-i[d])*(i[p+1]-i[c+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function bn(i,e,t,r){for(var n=0,s=e,a=t-r;s<t;s+=r)n+=(i[a]-i[s])*(i[s+1]+i[a+1]),a=s;return n}Si.flatten=function(i){for(var e=i[0][0].length,t={vertices:[],holes:[],dimensions:e},r=0,n=0;n<i.length;n++){for(var s=0;s<i[n].length;s++)for(var a=0;a<e;a++)t.vertices.push(i[n][s][a]);n>0&&(r+=i[n-1].length,t.holes.push(r))}return t};var xn={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(i,e){(function(t){var r=e&&!e.nodeType&&e,n=i&&!i.nodeType&&i,s=typeof Fi=="object"&&Fi;(s.global===s||s.window===s||s.self===s)&&(t=s);var a,o=2147483647,h=36,u=1,l=26,f=38,c=700,d=72,p=128,v="-",_=/^xn--/,g=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-u,y=Math.floor,E=String.fromCharCode,L;function M(N){throw RangeError(b[N])}function C(N,B){for(var tt=N.length,dt=[];tt--;)dt[tt]=B(N[tt]);return dt}function A(N,B){var tt=N.split("@"),dt="";tt.length>1&&(dt=tt[0]+"@",N=tt[1]),N=N.replace(m,".");var H=N.split("."),at=C(H,B).join(".");return dt+at}function z(N){for(var B=[],tt=0,dt=N.length,H,at;tt<dt;)H=N.charCodeAt(tt++),H>=55296&&H<=56319&&tt<dt?(at=N.charCodeAt(tt++),(at&64512)==56320?B.push(((H&1023)<<10)+(at&1023)+65536):(B.push(H),tt--)):B.push(H);return B}function R(N){return C(N,function(B){var tt="";return B>65535&&(B-=65536,tt+=E(B>>>10&1023|55296),B=56320|B&1023),tt+=E(B),tt}).join("")}function st(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:h}function mt(N,B){return N+22+75*(N<26)-((B!=0)<<5)}function F(N,B,tt){var dt=0;for(N=tt?y(N/c):N>>1,N+=y(N/B);N>x*l>>1;dt+=h)N=y(N/x);return y(dt+(x+1)*N/(N+f))}function U(N){var B=[],tt=N.length,dt,H=0,at=p,J=d,ut,ot,rt,lt,D,Q,ft,k,ht;for(ut=N.lastIndexOf(v),ut<0&&(ut=0),ot=0;ot<ut;++ot)N.charCodeAt(ot)>=128&&M("not-basic"),B.push(N.charCodeAt(ot));for(rt=ut>0?ut+1:0;rt<tt;){for(lt=H,D=1,Q=h;rt>=tt&&M("invalid-input"),ft=st(N.charCodeAt(rt++)),(ft>=h||ft>y((o-H)/D))&&M("overflow"),H+=ft*D,k=Q<=J?u:Q>=J+l?l:Q-J,!(ft<k);Q+=h)ht=h-k,D>y(o/ht)&&M("overflow"),D*=ht;dt=B.length+1,J=F(H-lt,dt,lt==0),y(H/dt)>o-at&&M("overflow"),at+=y(H/dt),H%=dt,B.splice(H++,0,at)}return R(B)}function K(N){var B,tt,dt,H,at,J,ut,ot,rt,lt,D,Q=[],ft,k,ht,bt;for(N=z(N),ft=N.length,B=p,tt=0,at=d,J=0;J<ft;++J)D=N[J],D<128&&Q.push(E(D));for(dt=H=Q.length,H&&Q.push(v);dt<ft;){for(ut=o,J=0;J<ft;++J)D=N[J],D>=B&&D<ut&&(ut=D);for(k=dt+1,ut-B>y((o-tt)/k)&&M("overflow"),tt+=(ut-B)*k,B=ut,J=0;J<ft;++J)if(D=N[J],D<B&&++tt>o&&M("overflow"),D==B){for(ot=tt,rt=h;lt=rt<=at?u:rt>=at+l?l:rt-at,!(ot<lt);rt+=h)bt=ot-lt,ht=h-lt,Q.push(E(mt(lt+bt%ht,0))),ot=y(bt/ht);Q.push(E(mt(ot,0))),at=F(tt,k,dt==H),tt=0,++dt}++tt,++B}return Q.join("")}function xt(N){return A(N,function(B){return _.test(B)?U(B.slice(4).toLowerCase()):B})}function Y(N){return A(N,function(B){return g.test(B)?"xn--"+K(B):B})}if(a={version:"1.3.2",ucs2:{decode:z,encode:R},decode:U,encode:K,toASCII:Y,toUnicode:xt},r&&n)if(i.exports==r)n.exports=a;else for(L in a)a.hasOwnProperty(L)&&(r[L]=a[L]);else t.punycode=a})(Fi)})(xn,xn.exports);var Vh={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}},Cr={};function Yh(i,e){return Object.prototype.hasOwnProperty.call(i,e)}var Wh=function(i,e,t,r){e=e||"&",t=t||"=";var n={};if(typeof i!="string"||i.length===0)return n;var s=/\+/g;i=i.split(e);var a=1e3;r&&typeof r.maxKeys=="number"&&(a=r.maxKeys);var o=i.length;a>0&&o>a&&(o=a);for(var h=0;h<o;++h){var u=i[h].replace(s,"%20"),l=u.indexOf(t),f,c,d,p;l>=0?(f=u.substr(0,l),c=u.substr(l+1)):(f=u,c=""),d=decodeURIComponent(f),p=decodeURIComponent(c),Yh(n,d)?Array.isArray(n[d])?n[d].push(p):n[d]=[n[d],p]:n[d]=p}return n},cr=function(i){switch(typeof i){case"string":return i;case"boolean":return i?"true":"false";case"number":return isFinite(i)?i:"";default:return""}},qh=function(i,e,t,r){return e=e||"&",t=t||"=",i===null&&(i=void 0),typeof i=="object"?Object.keys(i).map(function(n){var s=encodeURIComponent(cr(n))+t;return Array.isArray(i[n])?i[n].map(function(a){return s+encodeURIComponent(cr(a))}).join(e):s+encodeURIComponent(cr(i[n]))}).join(e):r?encodeURIComponent(cr(r))+t+encodeURIComponent(cr(i)):""};Cr.decode=Cr.parse=Wh;Cr.encode=Cr.stringify=qh;var Zh=xn.exports,ne=Vh,_o=Ii,Kh=hu,Jh=ou;function re(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Qh=/^([a-z0-9.+-]+:)/i,tu=/:[0-9]*$/,eu=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ru=["<",">",'"',"`"," ","\r",`
`,"	"],iu=["{","}","|","\\","^","`"].concat(ru),Tn=["'"].concat(iu),Ps=["%","/","?",";","#"].concat(Tn),Is=["/","?","#"],nu=255,Cs=/^[+a-z0-9A-Z_-]{0,63}$/,su=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,au={javascript:!0,"javascript:":!0},wn={javascript:!0,"javascript:":!0},nr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},En=Cr;function Ii(i,e,t){if(i&&ne.isObject(i)&&i instanceof re)return i;var r=new re;return r.parse(i,e,t),r}re.prototype.parse=function(i,e,t){if(!ne.isString(i))throw new TypeError("Parameter 'url' must be a string, not "+typeof i);var r=i.indexOf("?"),n=r!==-1&&r<i.indexOf("#")?"?":"#",s=i.split(n),a=/\\/g;s[0]=s[0].replace(a,"/"),i=s.join(n);var o=i;if(o=o.trim(),!t&&i.split("#").length===1){var h=eu.exec(o);if(h)return this.path=o,this.href=o,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=En.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=Qh.exec(o);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l,o=o.substr(u.length)}if(t||u||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=o.substr(0,2)==="//";f&&!(u&&wn[u])&&(o=o.substr(2),this.slashes=!0)}if(!wn[u]&&(f||u&&!nr[u])){for(var c=-1,d=0;d<Is.length;d++){var p=o.indexOf(Is[d]);p!==-1&&(c===-1||p<c)&&(c=p)}var v,_;c===-1?_=o.lastIndexOf("@"):_=o.lastIndexOf("@",c),_!==-1&&(v=o.slice(0,_),o=o.slice(_+1),this.auth=decodeURIComponent(v)),c=-1;for(var d=0;d<Ps.length;d++){var p=o.indexOf(Ps[d]);p!==-1&&(c===-1||p<c)&&(c=p)}c===-1&&(c=o.length),this.host=o.slice(0,c),o=o.slice(c),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var m=this.hostname.split(/\./),d=0,b=m.length;d<b;d++){var x=m[d];if(!!x&&!x.match(Cs)){for(var y="",E=0,L=x.length;E<L;E++)x.charCodeAt(E)>127?y+="x":y+=x[E];if(!y.match(Cs)){var M=m.slice(0,d),C=m.slice(d+1),A=x.match(su);A&&(M.push(A[1]),C.unshift(A[2])),C.length&&(o="/"+C.join(".")+o),this.hostname=M.join(".");break}}}this.hostname.length>nu?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Zh.toASCII(this.hostname));var z=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+z,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!au[l])for(var d=0,b=Tn.length;d<b;d++){var st=Tn[d];if(o.indexOf(st)!==-1){var mt=encodeURIComponent(st);mt===st&&(mt=escape(st)),o=o.split(st).join(mt)}}var F=o.indexOf("#");F!==-1&&(this.hash=o.substr(F),o=o.slice(0,F));var U=o.indexOf("?");if(U!==-1?(this.search=o.substr(U),this.query=o.substr(U+1),e&&(this.query=En.parse(this.query)),o=o.slice(0,U)):e&&(this.search="",this.query={}),o&&(this.pathname=o),nr[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",K=this.search||"";this.path=z+K}return this.href=this.format(),this};function ou(i){return ne.isString(i)&&(i=Ii(i)),i instanceof re?i.format():re.prototype.format.call(i)}re.prototype.format=function(){var i=this.auth||"";i&&(i=encodeURIComponent(i),i=i.replace(/%3A/i,":"),i+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",n=!1,s="";this.host?n=i+this.host:this.hostname&&(n=i+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&ne.isObject(this.query)&&Object.keys(this.query).length&&(s=En.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||nr[e])&&n!==!1?(n="//"+(n||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):n||(n=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),t=t.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),a=a.replace("#","%23"),e+n+t+a+r};function hu(i,e){return Ii(i,!1,!0).resolve(e)}re.prototype.resolve=function(i){return this.resolveObject(Ii(i,!1,!0)).format()};re.prototype.resolveObject=function(i){if(ne.isString(i)){var e=new re;e.parse(i,!1,!0),i=e}for(var t=new re,r=Object.keys(this),n=0;n<r.length;n++){var s=r[n];t[s]=this[s]}if(t.hash=i.hash,i.href==="")return t.href=t.format(),t;if(i.slashes&&!i.protocol){for(var a=Object.keys(i),o=0;o<a.length;o++){var h=a[o];h!=="protocol"&&(t[h]=i[h])}return nr[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(i.protocol&&i.protocol!==t.protocol){if(!nr[i.protocol]){for(var u=Object.keys(i),l=0;l<u.length;l++){var f=u[l];t[f]=i[f]}return t.href=t.format(),t}if(t.protocol=i.protocol,!i.host&&!wn[i.protocol]){for(var b=(i.pathname||"").split("/");b.length&&!(i.host=b.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),t.pathname=b.join("/")}else t.pathname=i.pathname;if(t.search=i.search,t.query=i.query,t.host=i.host||"",t.auth=i.auth,t.hostname=i.hostname||i.host,t.port=i.port,t.pathname||t.search){var c=t.pathname||"",d=t.search||"";t.path=c+d}return t.slashes=t.slashes||i.slashes,t.href=t.format(),t}var p=t.pathname&&t.pathname.charAt(0)==="/",v=i.host||i.pathname&&i.pathname.charAt(0)==="/",_=v||p||t.host&&i.pathname,g=_,m=t.pathname&&t.pathname.split("/")||[],b=i.pathname&&i.pathname.split("/")||[],x=t.protocol&&!nr[t.protocol];if(x&&(t.hostname="",t.port=null,t.host&&(m[0]===""?m[0]=t.host:m.unshift(t.host)),t.host="",i.protocol&&(i.hostname=null,i.port=null,i.host&&(b[0]===""?b[0]=i.host:b.unshift(i.host)),i.host=null),_=_&&(b[0]===""||m[0]==="")),v)t.host=i.host||i.host===""?i.host:t.host,t.hostname=i.hostname||i.hostname===""?i.hostname:t.hostname,t.search=i.search,t.query=i.query,m=b;else if(b.length)m||(m=[]),m.pop(),m=m.concat(b),t.search=i.search,t.query=i.query;else if(!ne.isNullOrUndefined(i.search)){if(x){t.hostname=t.host=m.shift();var y=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;y&&(t.auth=y.shift(),t.host=t.hostname=y.shift())}return t.search=i.search,t.query=i.query,(!ne.isNull(t.pathname)||!ne.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!m.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var E=m.slice(-1)[0],L=(t.host||i.host||m.length>1)&&(E==="."||E==="..")||E==="",M=0,C=m.length;C>=0;C--)E=m[C],E==="."?m.splice(C,1):E===".."?(m.splice(C,1),M++):M&&(m.splice(C,1),M--);if(!_&&!g)for(;M--;M)m.unshift("..");_&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),L&&m.join("/").substr(-1)!=="/"&&m.push("");var A=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(x){t.hostname=t.host=A?"":m.length?m.shift():"";var y=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;y&&(t.auth=y.shift(),t.host=t.hostname=y.shift())}return _=_||t.host&&m.length,_&&!A&&m.unshift(""),m.length?t.pathname=m.join("/"):(t.pathname=null,t.path=null),(!ne.isNull(t.pathname)||!ne.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=i.auth||t.auth,t.slashes=t.slashes||i.slashes,t.href=t.format(),t};re.prototype.parseHost=function(){var i=this.host,e=tu.exec(i);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),i=i.substr(0,i.length-e.length)),i&&(this.hostname=i)};/*!
 * @pixi/constants - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ve;(function(i){i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2"})(ve||(ve={}));var Ar;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS"})(Ar||(Ar={}));var pi;(function(i){i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL"})(pi||(pi={}));var et;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR"})(et||(et={}));var ee;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ee||(ee={}));var se;(function(i){i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(se||(se={}));var Be;(function(i){i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Be||(Be={}));var It;(function(i){i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT"})(It||(It={}));var de;(function(i){i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR"})(de||(de={}));var Te;(function(i){i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Te||(Te={}));var Ge;(function(i){i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL"})(Ge||(Ge={}));var _e;(function(i){i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(_e||(_e={}));var ye;(function(i){i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT"})(ye||(ye={}));var Sn;(function(i){i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL"})(Sn||(Sn={}));var oe;(function(i){i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp"})(oe||(oe={}));var Ht;(function(i){i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE"})(Ht||(Ht={}));var ar;(function(i){i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH"})(ar||(ar={}));/*!
 * @pixi/utils - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Z.RETINA_PREFIX=/@([0-9\.]+)x/;Z.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var As=!1,Rs="6.0.0";function uu(i){var e;if(!As){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+Rs+" - \u2730 "+i+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,t)}else self.console&&self.console.log("PixiJS "+Rs+" - "+i+" - http://www.pixijs.com/");As=!0}}var Gi;function lu(){return typeof Gi>"u"&&(Gi=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Z.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n=!!(r&&r.getContextAttributes().stencil);if(r){var s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,n}catch{return!1}}()),Gi}var fu="#f0f8ff",cu="#faebd7",du="#00ffff",pu="#7fffd4",vu="#f0ffff",_u="#f5f5dc",mu="#ffe4c4",gu="#000000",yu="#ffebcd",bu="#0000ff",xu="#8a2be2",Tu="#a52a2a",wu="#deb887",Eu="#5f9ea0",Su="#7fff00",Pu="#d2691e",Iu="#ff7f50",Cu="#6495ed",Au="#fff8dc",Ru="#dc143c",Ou="#00ffff",Lu="#00008b",Mu="#008b8b",Du="#b8860b",Fu="#a9a9a9",Nu="#006400",Uu="#a9a9a9",Bu="#bdb76b",ku="#8b008b",zu="#556b2f",Gu="#ff8c00",$u="#9932cc",Xu="#8b0000",Hu="#e9967a",ju="#8fbc8f",Vu="#483d8b",Yu="#2f4f4f",Wu="#2f4f4f",qu="#00ced1",Zu="#9400d3",Ku="#ff1493",Ju="#00bfff",Qu="#696969",tl="#696969",el="#1e90ff",rl="#b22222",il="#fffaf0",nl="#228b22",sl="#ff00ff",al="#dcdcdc",ol="#f8f8ff",hl="#daa520",ul="#ffd700",ll="#808080",fl="#008000",cl="#adff2f",dl="#808080",pl="#f0fff0",vl="#ff69b4",_l="#cd5c5c",ml="#4b0082",gl="#fffff0",yl="#f0e68c",bl="#fff0f5",xl="#e6e6fa",Tl="#7cfc00",wl="#fffacd",El="#add8e6",Sl="#f08080",Pl="#e0ffff",Il="#fafad2",Cl="#d3d3d3",Al="#90ee90",Rl="#d3d3d3",Ol="#ffb6c1",Ll="#ffa07a",Ml="#20b2aa",Dl="#87cefa",Fl="#778899",Nl="#778899",Ul="#b0c4de",Bl="#ffffe0",kl="#00ff00",zl="#32cd32",Gl="#faf0e6",$l="#ff00ff",Xl="#800000",Hl="#66cdaa",jl="#0000cd",Vl="#ba55d3",Yl="#9370db",Wl="#3cb371",ql="#7b68ee",Zl="#00fa9a",Kl="#48d1cc",Jl="#c71585",Ql="#191970",tf="#f5fffa",ef="#ffe4e1",rf="#ffe4b5",nf="#ffdead",sf="#000080",af="#fdf5e6",of="#808000",hf="#6b8e23",uf="#ffa500",lf="#ff4500",ff="#da70d6",cf="#eee8aa",df="#98fb98",pf="#afeeee",vf="#db7093",_f="#ffefd5",mf="#ffdab9",gf="#cd853f",yf="#ffc0cb",bf="#dda0dd",xf="#b0e0e6",Tf="#800080",wf="#663399",Ef="#ff0000",Sf="#bc8f8f",Pf="#4169e1",If="#8b4513",Cf="#fa8072",Af="#f4a460",Rf="#2e8b57",Of="#fff5ee",Lf="#a0522d",Mf="#c0c0c0",Df="#87ceeb",Ff="#6a5acd",Nf="#708090",Uf="#708090",Bf="#fffafa",kf="#00ff7f",zf="#4682b4",Gf="#d2b48c",$f="#008080",Xf="#d8bfd8",Hf="#ff6347",jf="#40e0d0",Vf="#ee82ee",Yf="#f5deb3",Wf="#ffffff",qf="#f5f5f5",Zf="#ffff00",Kf="#9acd32",Jf={aliceblue:fu,antiquewhite:cu,aqua:du,aquamarine:pu,azure:vu,beige:_u,bisque:mu,black:gu,blanchedalmond:yu,blue:bu,blueviolet:xu,brown:Tu,burlywood:wu,cadetblue:Eu,chartreuse:Su,chocolate:Pu,coral:Iu,cornflowerblue:Cu,cornsilk:Au,crimson:Ru,cyan:Ou,darkblue:Lu,darkcyan:Mu,darkgoldenrod:Du,darkgray:Fu,darkgreen:Nu,darkgrey:Uu,darkkhaki:Bu,darkmagenta:ku,darkolivegreen:zu,darkorange:Gu,darkorchid:$u,darkred:Xu,darksalmon:Hu,darkseagreen:ju,darkslateblue:Vu,darkslategray:Yu,darkslategrey:Wu,darkturquoise:qu,darkviolet:Zu,deeppink:Ku,deepskyblue:Ju,dimgray:Qu,dimgrey:tl,dodgerblue:el,firebrick:rl,floralwhite:il,forestgreen:nl,fuchsia:sl,gainsboro:al,ghostwhite:ol,goldenrod:hl,gold:ul,gray:ll,green:fl,greenyellow:cl,grey:dl,honeydew:pl,hotpink:vl,indianred:_l,indigo:ml,ivory:gl,khaki:yl,lavenderblush:bl,lavender:xl,lawngreen:Tl,lemonchiffon:wl,lightblue:El,lightcoral:Sl,lightcyan:Pl,lightgoldenrodyellow:Il,lightgray:Cl,lightgreen:Al,lightgrey:Rl,lightpink:Ol,lightsalmon:Ll,lightseagreen:Ml,lightskyblue:Dl,lightslategray:Fl,lightslategrey:Nl,lightsteelblue:Ul,lightyellow:Bl,lime:kl,limegreen:zl,linen:Gl,magenta:$l,maroon:Xl,mediumaquamarine:Hl,mediumblue:jl,mediumorchid:Vl,mediumpurple:Yl,mediumseagreen:Wl,mediumslateblue:ql,mediumspringgreen:Zl,mediumturquoise:Kl,mediumvioletred:Jl,midnightblue:Ql,mintcream:tf,mistyrose:ef,moccasin:rf,navajowhite:nf,navy:sf,oldlace:af,olive:of,olivedrab:hf,orange:uf,orangered:lf,orchid:ff,palegoldenrod:cf,palegreen:df,paleturquoise:pf,palevioletred:vf,papayawhip:_f,peachpuff:mf,peru:gf,pink:yf,plum:bf,powderblue:xf,purple:Tf,rebeccapurple:wf,red:Ef,rosybrown:Sf,royalblue:Pf,saddlebrown:If,salmon:Cf,sandybrown:Af,seagreen:Rf,seashell:Of,sienna:Lf,silver:Mf,skyblue:Df,slateblue:Ff,slategray:Nf,slategrey:Uf,snow:Bf,springgreen:kf,steelblue:zf,tan:Gf,teal:$f,thistle:Xf,tomato:Hf,turquoise:jf,violet:Vf,wheat:Yf,white:Wf,whitesmoke:qf,yellow:Zf,yellowgreen:Kf};function or(i,e){return e===void 0&&(e=[]),e[0]=(i>>16&255)/255,e[1]=(i>>8&255)/255,e[2]=(i&255)/255,e}function mo(i){var e=i.toString(16);return e="000000".substr(0,6-e.length)+e,"#"+e}function go(i){return typeof i=="string"&&(i=Jf[i.toLowerCase()]||i,i[0]==="#"&&(i=i.substr(1))),parseInt(i,16)}function Qf(){for(var i=[],e=[],t=0;t<32;t++)i[t]=t,e[t]=t;i[et.NORMAL_NPM]=et.NORMAL,i[et.ADD_NPM]=et.ADD,i[et.SCREEN_NPM]=et.SCREEN,e[et.NORMAL]=et.NORMAL_NPM,e[et.ADD]=et.ADD_NPM,e[et.SCREEN]=et.SCREEN_NPM;var r=[];return r.push(e),r.push(i),r}var yo=Qf();function bo(i,e){return yo[e?1:0][i]}function tc(i,e,t,r){return t=t||new Float32Array(4),r||r===void 0?(t[0]=i[0]*e,t[1]=i[1]*e,t[2]=i[2]*e):(t[0]=i[0],t[1]=i[1],t[2]=i[2]),t[3]=e,t}function ns(i,e){if(e===1)return(e*255<<24)+i;if(e===0)return 0;var t=i>>16&255,r=i>>8&255,n=i&255;return t=t*e+.5|0,r=r*e+.5|0,n=n*e+.5|0,(e*255<<24)+(t<<16)+(r<<8)+n}function xo(i,e,t,r){return t=t||new Float32Array(4),t[0]=(i>>16&255)/255,t[1]=(i>>8&255)/255,t[2]=(i&255)/255,(r||r===void 0)&&(t[0]*=e,t[1]*=e,t[2]*=e),t[3]=e,t}function ec(i,e){e===void 0&&(e=null);var t=i*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+t);for(var r=0,n=0;r<t;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function vi(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Os(i){return!(i&i-1)&&!!i}function Ls(i){var e=(i>65535?1:0)<<4;i>>>=e;var t=(i>255?1:0)<<3;return i>>>=t,e|=t,t=(i>15?1:0)<<2,i>>>=t,e|=t,t=(i>3?1:0)<<1,i>>>=t,e|=t,e|i>>1}function sr(i,e,t){var r=i.length,n;if(!(e>=r||t===0)){t=e+t>r?r-e:t;var s=r-t;for(n=e;n<s;++n)i[n]=i[n+t];i.length=s}}function er(i){return i===0?0:i<0?-1:1}var rc=0;function hr(){return++rc}var Ms={};function _i(i,e,t){if(t===void 0&&(t=3),!Ms[e]){var r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+i):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+i),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+i),console.warn(r))),Ms[e]=!0}}var Ds={},fe=Object.create(null),Ce=Object.create(null),Fs=function(){function i(e,t,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Z.RESOLUTION,this.resize(e,t)}return i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},i.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(i.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),i}();function ic(i){var e=i.width,t=i.height,r=i.getContext("2d"),n=r.getImageData(0,0,e,t),s=n.data,a=s.length,o={top:null,left:null,right:null,bottom:null},h=null,u,l,f;for(u=0;u<a;u+=4)s[u+3]!==0&&(l=u/4%e,f=~~(u/4/e),o.top===null&&(o.top=f),(o.left===null||l<o.left)&&(o.left=l),(o.right===null||o.right<l)&&(o.right=l+1),(o.bottom===null||o.bottom<f)&&(o.bottom=f));return o.top!==null&&(e=o.right-o.left,t=o.bottom-o.top+1,h=r.getImageData(o.left,o.top,e,t)),{height:t,width:e,data:h}}var Hr;function nc(i,e){if(e===void 0&&(e=self.location),i.indexOf("data:")===0)return"";e=e||self.location,Hr||(Hr=document.createElement("a")),Hr.href=i;var t=_o(Hr.href),r=!t.port&&e.port===""||t.port===e.port;return t.hostname!==e.hostname||!r||t.protocol!==e.protocol?"anonymous":""}function mi(i,e){var t=Z.RETINA_PREFIX.exec(i);return t?parseFloat(t[1]):e!==void 0?e:1}var jr={parse:_o,format:Jh,resolve:Kh};/*!
 * @pixi/math - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gi=Math.PI*2,sc=180/Math.PI,ac=Math.PI/180,Ot;(function(i){i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC"})(Ot||(Ot={}));var yt=function(){function i(e,t,r,n){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(n),this.type=Ot.RECT}return Object.defineProperty(i.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i,"EMPTY",{get:function(){return new i(0,0,0,0)},enumerable:!1,configurable:!0}),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},i.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},i.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},i.prototype.pad=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this},i.prototype.fit=function(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(s-n,0),this},i.prototype.ceil=function(e,t){e===void 0&&(e=1),t===void 0&&(t=.001);var r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this},i.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=s-n,this},i.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},i}(),oc=function(){function i(e,t,r){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),this.x=e,this.y=t,this.radius=r,this.type=Ot.CIRC}return i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-e,s=this.y-t;return n*=n,s*=s,n+s<=r},i.prototype.getBounds=function(){return new yt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},i.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},i}(),hc=function(){function i(e,t,r,n){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=t,this.width=r,this.height=n,this.type=Ot.ELIP}return i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,n=(t-this.y)/this.height;return r*=r,n*=n,r+n<=1},i.prototype.getBounds=function(){return new yt(this.x-this.width,this.y-this.height,this.width,this.height)},i.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},i}(),fi=function(){function i(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){for(var s=[],a=0,o=n.length;a<o;a++)s.push(n[a].x,n[a].y);n=s}this.points=n,this.type=Ot.POLY,this.closeStroke=!0}return i.prototype.clone=function(){var e=this.points.slice(),t=new i(e);return t.closeStroke=this.closeStroke,t},i.prototype.contains=function(e,t){for(var r=!1,n=this.points.length/2,s=0,a=n-1;s<n;a=s++){var o=this.points[s*2],h=this.points[s*2+1],u=this.points[a*2],l=this.points[a*2+1],f=h>t!=l>t&&e<(u-o)*((t-h)/(l-h))+o;f&&(r=!r)}return r},i.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,t){return e+", "+t},"")+"]")},i}(),uc=function(){function i(e,t,r,n,s){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=20),this.x=e,this.y=t,this.width=r,this.height=n,this.radius=s,this.type=Ot.RREC}return i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),n=t-(this.y+this.radius),s=this.radius*this.radius;if(r*r+n*n<=s||(r=e-(this.x+this.width-this.radius),r*r+n*n<=s)||(n=t-(this.y+this.height-this.radius),r*r+n*n<=s)||(r=e-(this.x+this.radius),r*r+n*n<=s))return!0}return!1},i.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},i}(),Lt=function(){function i(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.x=e,this.y=t}return i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},i.prototype.copyTo=function(e){return e.set(this.x,this.y),e},i.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},i.prototype.set=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x=e,this.y=t,this},i.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},i}(),rr=function(){function i(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0),this._x=r,this._y=n,this.cb=e,this.scope=t}return i.prototype.clone=function(e,t){return e===void 0&&(e=this.cb),t===void 0&&(t=this.scope),new i(e,t,this._x,this._y)},i.prototype.set=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},i.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},i.prototype.copyTo=function(e){return e.set(this._x,this._y),e},i.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},i.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(i.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),i}(),Mt=function(){function i(e,t,r,n,s,a){e===void 0&&(e=1),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=1),s===void 0&&(s=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=t,this.c=r,this.d=n,this.tx=s,this.ty=a}return i.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},i.prototype.set=function(e,t,r,n,s,a){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=s,this.ty=a,this},i.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},i.prototype.apply=function(e,t){t=t||new Lt;var r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t},i.prototype.applyInverse=function(e,t){t=t||new Lt;var r=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return t.x=this.d*r*n+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*s+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t},i.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},i.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},i.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this.a,s=this.c,a=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=s*t-this.d*r,this.d=s*r+this.d*t,this.tx=a*t-this.ty*r,this.ty=a*r+this.ty*t,this},i.prototype.append=function(e){var t=this.a,r=this.b,n=this.c,s=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*s,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*s,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this},i.prototype.setTransform=function(e,t,r,n,s,a,o,h,u){return this.a=Math.cos(o+u)*s,this.b=Math.sin(o+u)*s,this.c=-Math.sin(o-h)*a,this.d=Math.cos(o-h)*a,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this},i.prototype.prepend=function(e){var t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},i.prototype.decompose=function(e){var t=this.a,r=this.b,n=this.c,s=this.d,a=e.pivot,o=-Math.atan2(-n,s),h=Math.atan2(r,t),u=Math.abs(o+h);return u<1e-5||Math.abs(gi-u)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=h),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(a.x*t+a.y*n),e.position.y=this.ty+(a.x*r+a.y*s),e},i.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,n=this.d,s=this.tx,a=e*n-t*r;return this.a=n/a,this.b=-t/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-n*s)/a,this.ty=-(e*this.ty-t*s)/a,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var e=new i;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},i.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},i.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},i.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(i,"IDENTITY",{get:function(){return new i},enumerable:!1,configurable:!0}),Object.defineProperty(i,"TEMP_MATRIX",{get:function(){return new i},enumerable:!1,configurable:!0}),i}(),Me=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],De=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ne=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Pn=[],To=[],Vr=Math.sign;function lc(){for(var i=0;i<16;i++){var e=[];Pn.push(e);for(var t=0;t<16;t++)for(var r=Vr(Me[i]*Me[t]+Fe[i]*De[t]),n=Vr(De[i]*Me[t]+Ne[i]*De[t]),s=Vr(Me[i]*Fe[t]+Fe[i]*Ne[t]),a=Vr(De[i]*Fe[t]+Ne[i]*Ne[t]),o=0;o<16;o++)if(Me[o]===r&&De[o]===n&&Fe[o]===s&&Ne[o]===a){e.push(o);break}}for(var i=0;i<16;i++){var h=new Mt;h.set(Me[i],De[i],Fe[i],Ne[i],0,0),To.push(h)}}lc();var Ct={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(i){return Me[i]},uY:function(i){return De[i]},vX:function(i){return Fe[i]},vY:function(i){return Ne[i]},inv:function(i){return i&8?i&15:-i&7},add:function(i,e){return Pn[i][e]},sub:function(i,e){return Pn[i][Ct.inv(e)]},rotate180:function(i){return i^4},isVertical:function(i){return(i&3)===2},byDirection:function(i,e){return Math.abs(i)*2<=Math.abs(e)?e>=0?Ct.S:Ct.N:Math.abs(e)*2<=Math.abs(i)?i>0?Ct.E:Ct.W:e>0?i>0?Ct.SE:Ct.SW:i>0?Ct.NE:Ct.NW},matrixAppendRotationInv:function(i,e,t,r){t===void 0&&(t=0),r===void 0&&(r=0);var n=To[Ct.inv(e)];n.tx=t,n.ty=r,i.append(n)}},wo=function(){function i(){this.worldTransform=new Mt,this.localTransform=new Mt,this.position=new rr(this.onChange,this,0,0),this.scale=new rr(this.onChange,this,1,1),this.pivot=new rr(this.onChange,this,0,0),this.skew=new rr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},i.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},i.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},i.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(i.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),i.IDENTITY=new i,i}();/*!
 * @pixi/display - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Z.SORTABLE_CHILDREN=!1;var yi=function(){function i(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return i.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},i.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},i.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?yt.EMPTY:(e=e||new yt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},i.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},i.prototype.addPointMatrix=function(e,t){var r=e.a,n=e.b,s=e.c,a=e.d,o=e.tx,h=e.ty,u=r*t.x+s*t.y+o,l=n*t.x+a*t.y+h;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},i.prototype.addQuad=function(e){var t=this.minX,r=this.minY,n=this.maxX,s=this.maxY,a=e[0],o=e[1];t=a<t?a:t,r=o<r?o:r,n=a>n?a:n,s=o>s?o:s,a=e[2],o=e[3],t=a<t?a:t,r=o<r?o:r,n=a>n?a:n,s=o>s?o:s,a=e[4],o=e[5],t=a<t?a:t,r=o<r?o:r,n=a>n?a:n,s=o>s?o:s,a=e[6],o=e[7],t=a<t?a:t,r=o<r?o:r,n=a>n?a:n,s=o>s?o:s,this.minX=t,this.minY=r,this.maxX=n,this.maxY=s},i.prototype.addFrame=function(e,t,r,n,s){this.addFrameMatrix(e.worldTransform,t,r,n,s)},i.prototype.addFrameMatrix=function(e,t,r,n,s){var a=e.a,o=e.b,h=e.c,u=e.d,l=e.tx,f=e.ty,c=this.minX,d=this.minY,p=this.maxX,v=this.maxY,_=a*t+h*r+l,g=o*t+u*r+f;c=_<c?_:c,d=g<d?g:d,p=_>p?_:p,v=g>v?g:v,_=a*n+h*r+l,g=o*n+u*r+f,c=_<c?_:c,d=g<d?g:d,p=_>p?_:p,v=g>v?g:v,_=a*t+h*s+l,g=o*t+u*s+f,c=_<c?_:c,d=g<d?g:d,p=_>p?_:p,v=g>v?g:v,_=a*n+h*s+l,g=o*n+u*s+f,c=_<c?_:c,d=g<d?g:d,p=_>p?_:p,v=g>v?g:v,this.minX=c,this.minY=d,this.maxX=p,this.maxY=v},i.prototype.addVertexData=function(e,t,r){for(var n=this.minX,s=this.minY,a=this.maxX,o=this.maxY,h=t;h<r;h+=2){var u=e[h],l=e[h+1];n=u<n?u:n,s=l<s?l:s,a=u>a?u:a,o=l>o?l:o}this.minX=n,this.minY=s,this.maxX=a,this.maxY=o},i.prototype.addVertices=function(e,t,r,n){this.addVerticesMatrix(e.worldTransform,t,r,n)},i.prototype.addVerticesMatrix=function(e,t,r,n,s,a){s===void 0&&(s=0),a===void 0&&(a=s);for(var o=e.a,h=e.b,u=e.c,l=e.d,f=e.tx,c=e.ty,d=this.minX,p=this.minY,v=this.maxX,_=this.maxY,g=r;g<n;g+=2){var m=t[g],b=t[g+1],x=o*m+u*b+f,y=l*b+h*m+c;d=Math.min(d,x-s),v=Math.max(v,x+s),p=Math.min(p,y-a),_=Math.max(_,y+a)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=_},i.prototype.addBounds=function(e){var t=this.minX,r=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s},i.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=s&&n<=a){var o=this.minX,h=this.minY,u=this.maxX,l=this.maxY;this.minX=r<o?r:o,this.minY=n<h?n:h,this.maxX=s>u?s:u,this.maxY=a>l?a:l}},i.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},i.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=s&&n<=a){var o=this.minX,h=this.minY,u=this.maxX,l=this.maxY;this.minX=r<o?r:o,this.minY=n<h?n:h,this.maxX=s>u?s:u,this.maxY=a>l?a:l}},i.prototype.pad=function(e,t){e===void 0&&(e=0),t===void 0&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},i.prototype.addFramePad=function(e,t,r,n,s,a){e-=s,t-=a,r+=s,n+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>n?this.maxY:n},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var In=function(i,e){return In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},In(i,e)};function ss(i,e){In(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Dt=function(i){ss(e,i);function e(){var t=i.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new wo,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new yi,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return e.mixin=function(t){for(var r=Object.keys(t),n=0;n<r.length;++n){var s=r[n];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(t,s))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,r){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new yt),r=this._boundsRect),this._bounds.getRectangle(r)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new yt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new yi);var r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=n,this.transform=r,this._bounds=s,this._bounds.updateID+=this._boundsID-a,o},e.prototype.toGlobal=function(t,r,n){return n===void 0&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,r)},e.prototype.toLocal=function(t,r,n,s){return r&&(t=r.toGlobal(t,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,r,n,s,a,o,h,u,l){return t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=1),s===void 0&&(s=1),a===void 0&&(a=0),o===void 0&&(o=0),h===void 0&&(h=0),u===void 0&&(u=0),l===void 0&&(l=0),this.position.x=t,this.position.y=r,this.scale.x=n||1,this.scale.y=s||1,this.rotation=a,this.skew.x=o,this.skew.y=h,this.pivot.x=u,this.pivot.y=l,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Eo),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*sc},set:function(t){this.transform.rotation=t*ac},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask){var r=this._mask.maskObject||this._mask;r.renderable=!0,r.isMask=!1}if(this._mask=t,this._mask){var r=this._mask.maskObject||this._mask;r.renderable=!1,r.isMask=!0}},enumerable:!1,configurable:!0}),e}(Nr),Eo=function(i){ss(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.sortDirty=null,t}return e}(Dt);Dt.prototype.displayObjectUpdateTransform=Dt.prototype.updateTransform;function fc(i,e){return i.zIndex===e.zIndex?i._lastSortedIndex-e._lastSortedIndex:i.zIndex-e.zIndex}var Wt=function(i){ss(e,i);function e(){var t=i.call(this)||this;return t.children=[],t.sortableChildren=Z.SORTABLE_CHILDREN,t.sortDirty=!1,t}return e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(r.length>1)for(var s=0;s<r.length;s++)this.addChild(r[s]);else{var a=r[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return r[0]},e.prototype.addChildAt=function(t,r){if(r<0||r>this.children.length)throw new Error(t+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(r,0,t),this._boundsID++,this.onChildrenChange(r),t.emit("added",this),this.emit("childAdded",t,this,r),t},e.prototype.swapChildren=function(t,r){if(t!==r){var n=this.getChildIndex(t),s=this.getChildIndex(r);this.children[n]=r,this.children[s]=t,this.onChildrenChange(n<s?n:s)}},e.prototype.getChildIndex=function(t){var r=this.children.indexOf(t);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r},e.prototype.setChildIndex=function(t,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);sr(this.children,n,1),this.children.splice(r,0,t),this.onChildrenChange(r)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(r.length>1)for(var s=0;s<r.length;s++)this.removeChild(r[s]);else{var a=r[0],o=this.children.indexOf(a);if(o===-1)return null;a.parent=null,a.transform._parentID=-1,sr(this.children,o,1),this._boundsID++,this.onChildrenChange(o),a.emit("removed",this),this.emit("childRemoved",a,this,o)}return r[0]},e.prototype.removeChildAt=function(t){var r=this.getChildAt(t);return r.parent=null,r.transform._parentID=-1,sr(this.children,t,1),this._boundsID++,this.onChildrenChange(t),r.emit("removed",this),this.emit("childRemoved",r,this,t),r},e.prototype.removeChildren=function(t,r){t===void 0&&(t=0),r===void 0&&(r=this.children.length);var n=t,s=r,a=s-n,o;if(a>0&&a<=s){o=this.children.splice(n,a);for(var h=0;h<o.length;++h)o[h].parent=null,o[h].transform&&(o[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var h=0;h<o.length;++h)o[h].emit("removed",this),this.emit("childRemoved",o[h],this,h);return o}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,r=0,n=this.children.length;r<n;++r){var s=this.children[r];s._lastSortedIndex=r,!t&&s.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(fc),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,r=this.children.length;t<r;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var r=this.children[t];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){var n=r._mask.maskObject||r._mask;n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(t,r){r===void 0&&(r=!1);var n=i.prototype.getLocalBounds.call(this,t);if(!r)for(var s=0,a=this.children.length;s<a;++s){var o=this.children[s];o.visible&&o.updateTransform()}return n},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<r.length;s++)r[s].enabled&&this._enabledFilters.push(r[s]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}n&&t.mask.push(this,this._mask),this._render(t);for(var s=0,a=this.children.length;s<a;s++)this.children[s].render(t);t.batch.flush(),n&&t.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(t){i.prototype.destroy.call(this),this.sortDirty=!1;var r=typeof t=="boolean"?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(r)for(var s=0;s<n.length;++s)n[s].destroy(t)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var r=this.getLocalBounds().width;r!==0?this.scale.x=t/r:this.scale.x=1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var r=this.getLocalBounds().height;r!==0?this.scale.y=t/r:this.scale.y=1,this._height=t},enumerable:!1,configurable:!0}),e}(Dt);Wt.prototype.containerUpdateTransform=Wt.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var cc={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Dt.mixin(cc);var dc=9,Yr=100,pc=0,vc=0,Ns=2,Us=1,_c=-1e3,mc=-1e3,gc=2,yc=function(){function i(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ae.tablet||ae.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Yr+"px",t.style.height=Yr+"px",t.style.position="absolute",t.style.top=pc+"px",t.style.left=vc+"px",t.style.zIndex=Ns.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(i.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),i.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=Us+"px",t.style.height=Us+"px",t.style.position="absolute",t.style.top=_c+"px",t.style.left=mc+"px",t.style.zIndex=gc.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},i.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},i.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},i.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},i.prototype.update=function(){var e=performance.now();if(!(ae.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),r=t.left,n=t.top,s=t.width,a=t.height,o=this.renderer,h=o.width,u=o.height,l=o.resolution,f=s/h*l,c=a/u*l,d=this.div;d.style.left=r+"px",d.style.top=n+"px",d.style.width=h+"px",d.style.height=u+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,sr(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var _=v.hitArea,g=v.worldTransform;v.hitArea?(d.style.left=(g.tx+_.x*g.a)*f+"px",d.style.top=(g.ty+_.y*g.d)*c+"px",d.style.width=_.width*g.a*f+"px",d.style.height=_.height*g.d*c+"px"):(_=v.getBounds(),this.capHitArea(_),d.style.left=_.x*f+"px",d.style.top=_.y*c+"px",d.style.width=_.width*f+"px",d.style.height=_.height*c+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},i.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},i.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,r=t.width,n=t.height;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)},i.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=Yr+"px",t.style.height=Yr+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Ns.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},i.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,r=e.target.displayObject,n=t.eventData;t.dispatchEvent(r,"click",n),t.dispatchEvent(r,"pointertap",n),t.dispatchEvent(r,"tap",n)},i.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,r=e.target.displayObject,n=t.eventData;t.dispatchEvent(r,"mouseover",n)},i.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,r=e.target.displayObject,n=t.eventData;t.dispatchEvent(r,"mouseout",n)},i.prototype._onKeyDown=function(e){e.keyCode===dc&&this.activate()},i.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},i.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i}();/*!
 * @pixi/ticker - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Z.TARGET_FPMS=.06;var me;(function(i){i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY"})(me||(me={}));var $i=function(){function i(e,t,r,n){t===void 0&&(t=null),r===void 0&&(r=0),n===void 0&&(n=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=n}return i.prototype.match=function(e,t){return t===void 0&&(t=null),this.fn===e&&this.context===t},i.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},i.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},i.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},i}(),Bt=function(){function i(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new $i(null,null,1/0),this.deltaMS=1/Z.TARGET_FPMS,this.elapsedMS=1/Z.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return i.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(e,t,r){return r===void 0&&(r=me.NORMAL),this._addListener(new $i(e,t,r))},i.prototype.addOnce=function(e,t,r){return r===void 0&&(r=me.NORMAL),this._addListener(new $i(e,t,r,!0))},i.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this},i.prototype.remove=function(e,t){for(var r=this._head.next;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(i.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},i.prototype.update=function(e){e===void 0&&(e=performance.now());var t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Z.TARGET_FPMS;for(var n=this._head,s=n.next;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(i.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Z.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"shared",{get:function(){if(!i._shared){var e=i._shared=new i;e.autoStart=!0,e._protected=!0}return i._shared},enumerable:!1,configurable:!0}),Object.defineProperty(i,"system",{get:function(){if(!i._system){var e=i._system=new i;e.autoStart=!0,e._protected=!0}return i._system},enumerable:!1,configurable:!0}),i}(),bc=function(){function i(){}return i.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,me.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Bt.shared:new Bt,e.autoStart&&this.start()},i.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},i}();/*!
 * @pixi/interaction - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bs=function(){function i(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Lt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(i.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),i.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},i.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},i.prototype.reset=function(){this.isPrimary=!1},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cn=function(i,e){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Cn(i,e)};function xc(i,e){Cn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Tc=function(){function i(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return i.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},i.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},i}(),Xi=function(){function i(e){this._pointerId=e,this._flags=i.FLAGS.NONE}return i.prototype._doSet=function(e,t){t?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(i.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"none",{get:function(){return this._flags===i.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"over",{get:function(){return(this._flags&i.FLAGS.OVER)!==0},set:function(e){this._doSet(i.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightDown",{get:function(){return(this._flags&i.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(i.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftDown",{get:function(){return(this._flags&i.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(i.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),i.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),i}(),wc=function(){function i(){this._tempPoint=new Lt}return i.prototype.recursiveFindHit=function(e,t,r,n,s){if(!t||!t.visible)return!1;var a=e.data.global;s=t.interactive||s;var o=!1,h=s,u=!0;if(t.hitArea?(n&&(t.worldTransform.applyInverse(a,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(n=!1,u=!1)),h=!1):t._mask&&n&&(t._mask.containsPoint&&t._mask.containsPoint(a)||(n=!1)),u&&t.interactiveChildren&&t.children)for(var l=t.children,f=l.length-1;f>=0;f--){var c=l[f],d=this.recursiveFindHit(e,c,r,n,h);if(d){if(!c.parent)continue;h=!1,d&&(e.target&&(n=!1),o=!0)}}return s&&(n&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(a)&&(o=!0),t.interactive&&(o&&!e.target&&(e.target=t),r&&r(e,t,!!o))),o},i.prototype.findHit=function(e,t,r,n){this.recursiveFindHit(e,t,r,n,!1)},i}(),Ec={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(i){i?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Dt.mixin(Ec);var Wr=1,qr={target:null,data:{global:null}},Sc=function(i){xc(e,i);function e(t,r){var n=i.call(this)||this;return r=r||{},n.renderer=t,n.autoPreventDefault=r.autoPreventDefault!==void 0?r.autoPreventDefault:!0,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new Bs,n.mouse.identifier=Wr,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[Wr]=n.mouse,n.interactionDataPool=[],n.eventData=new Tc,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!("PointerEvent"in self),n.supportsTouchEvents="ontouchstart"in self,n.supportsPointerEvents=!!self.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new wc,n._tempDisplayObject=new Eo,n._useSystemTicker=r.useSystemTicker!==void 0?r.useSystemTicker:!0,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,r){return qr.target=null,qr.data.global=t,r||(r=this.lastObjectRendered),this.processInteractive(qr,r,null,!0),qr.target},e.prototype.setTargetElement=function(t,r){r===void 0&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=r,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Bt.system.add(this.tickerUpdate,this,me.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){!this.tickerAdded||(Bt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var t in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var r=this.activeInteractionData[t];if(r.originalEvent&&r.pointerType!=="touch"){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var r=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(r=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var n=this.cursorStyles[t];if(n)switch(typeof n){case"string":r&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(t);break;case"object":r&&Object.assign(this.interactionDOMElement.style,n);break}else r&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,r,n){(!n.stopPropagationHint||t===n.stopsPropagatingAt)&&(n.currentTarget=t,n.type=r,t.emit(r,n),t[r]&&t[r](n))},e.prototype.delayDispatchEvent=function(t,r,n){this.delayedEvents.push({displayObject:t,eventString:r,eventData:n})},e.prototype.mapPositionToPoint=function(t,r,n){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;t.x=(r-s.left)*(this.interactionDOMElement.width/s.width)*a,t.y=(n-s.top)*(this.interactionDOMElement.height/s.height)*a},e.prototype.processInteractive=function(t,r,n,s){var a=this.search.findHit(t,r,n,s),o=this.delayedEvents;if(!o.length)return a;t.stopPropagationHint=!1;var h=o.length;this.delayedEvents=[];for(var u=0;u<h;u++){var l=o[u],f=l.displayObject,c=l.eventString,d=l.eventData;d.stopsPropagatingAt===f&&(d.stopPropagationHint=!0),this.dispatchEvent(f,c,d)}return a},e.prototype.onPointerDown=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var r=this.normalizeToPointerData(t);if(this.autoPreventDefault&&r[0].isNormalized){var n=t.cancelable||!("cancelable"in t);n&&t.preventDefault()}for(var s=r.length,a=0;a<s;a++){var o=r[a],h=this.getInteractionDataForPointerId(o),u=this.configureInteractionEventForDOMEvent(this.eventData,o,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),o.pointerType==="touch")this.emit("touchstart",u);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var l=o.button===2;this.emit(l?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,r,n){var s=t.data,a=t.data.identifier;if(n){if(r.trackedPointers[a]||(r.trackedPointers[a]=new Xi(a)),this.dispatchEvent(r,"pointerdown",t),s.pointerType==="touch")this.dispatchEvent(r,"touchstart",t);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var o=s.button===2;o?r.trackedPointers[a].rightDown=!0:r.trackedPointers[a].leftDown=!0,this.dispatchEvent(r,o?"rightdown":"mousedown",t)}}},e.prototype.onPointerComplete=function(t,r,n){for(var s=this.normalizeToPointerData(t),a=s.length,o=t.target!==this.interactionDOMElement?"outside":"",h=0;h<a;h++){var u=s[h],l=this.getInteractionDataForPointerId(u),f=this.configureInteractionEventForDOMEvent(this.eventData,u,l);if(f.data.originalEvent=t,this.processInteractive(f,this.lastObjectRendered,n,r||!o),this.emit(r?"pointercancel":"pointerup"+o,f),u.pointerType==="mouse"||u.pointerType==="pen"){var c=u.button===2;this.emit(c?"rightup"+o:"mouseup"+o,f)}else u.pointerType==="touch"&&(this.emit(r?"touchcancel":"touchend"+o,f),this.releaseInteractionDataForPointerId(u.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,r){var n=t.data,s=t.data.identifier;r.trackedPointers[s]!==void 0&&(delete r.trackedPointers[s],this.dispatchEvent(r,"pointercancel",t),n.pointerType==="touch"&&this.dispatchEvent(r,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,r,n){var s=t.data,a=t.data.identifier,o=r.trackedPointers[a],h=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen",l=!1;if(u){var f=s.button===2,c=Xi.FLAGS,d=f?c.RIGHT_DOWN:c.LEFT_DOWN,p=o!==void 0&&o.flags&d;n?(this.dispatchEvent(r,f?"rightup":"mouseup",t),p&&(this.dispatchEvent(r,f?"rightclick":"click",t),l=!0)):p&&this.dispatchEvent(r,f?"rightupoutside":"mouseupoutside",t),o&&(f?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(r,"pointerup",t),h&&this.dispatchEvent(r,"touchend",t),o&&((!u||l)&&this.dispatchEvent(r,"pointertap",t),h&&(this.dispatchEvent(r,"tap",t),o.over=!1))):o&&(this.dispatchEvent(r,"pointerupoutside",t),h&&this.dispatchEvent(r,"touchendoutside",t)),o&&o.none&&delete r.trackedPointers[a]},e.prototype.onPointerMove=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var r=this.normalizeToPointerData(t);(r[0].pointerType==="mouse"||r[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var n=r.length,s=0;s<n;s++){var a=r[s],o=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,o);h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",h),a.pointerType==="touch"&&this.emit("touchmove",h),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",h)}r[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,r,n){var s=t.data,a=s.pointerType==="touch",o=s.pointerType==="mouse"||s.pointerType==="pen";o&&this.processPointerOverOut(t,r,n),(!this.moveWhenInside||n)&&(this.dispatchEvent(r,"pointermove",t),a&&this.dispatchEvent(r,"touchmove",t),o&&this.dispatchEvent(r,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var r=this.normalizeToPointerData(t),n=r[0];n.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(n),a=this.configureInteractionEventForDOMEvent(this.eventData,n,s);a.data.originalEvent=n,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),n.pointerType==="mouse"||n.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(t,r,n){var s=t.data,a=t.data.identifier,o=s.pointerType==="mouse"||s.pointerType==="pen",h=r.trackedPointers[a];n&&!h&&(h=r.trackedPointers[a]=new Xi(a)),h!==void 0&&(n&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(r,"pointerover",t),o&&this.delayDispatchEvent(r,"mouseover",t)),o&&this.cursor===null&&(this.cursor=r.cursor)):h.over&&(h.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),o&&this.dispatchEvent(r,"mouseout",t),h.none&&delete r.trackedPointers[a]))},e.prototype.onPointerOver=function(t){var r=this.normalizeToPointerData(t),n=r[0],s=this.getInteractionDataForPointerId(n),a=this.configureInteractionEventForDOMEvent(this.eventData,n,s);a.data.originalEvent=n,n.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(n.pointerType==="mouse"||n.pointerType==="pen")&&this.emit("mouseover",a)},e.prototype.getInteractionDataForPointerId=function(t){var r=t.pointerId,n;return r===Wr||t.pointerType==="mouse"?n=this.mouse:this.activeInteractionData[r]?n=this.activeInteractionData[r]:(n=this.interactionDataPool.pop()||new Bs,n.identifier=r,this.activeInteractionData[r]=n),n.copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var r=this.activeInteractionData[t];r&&(delete this.activeInteractionData[t],r.reset(),this.interactionDataPool.push(r))},e.prototype.configureInteractionEventForDOMEvent=function(t,r,n){return t.data=n,this.mapPositionToPoint(n.global,r.clientX,r.clientY),r.pointerType==="touch"&&(r.globalX=n.global.x,r.globalY=n.global.y),n.originalEvent=r,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,s=t.changedTouches.length;n<s;n++){var a=t.changedTouches[n];typeof a.button>"u"&&(a.button=t.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=t.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,r.push(a)}else if(!self.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof self.PointerEvent))){var o=t;typeof o.isPrimary>"u"&&(o.isPrimary=!0),typeof o.width>"u"&&(o.width=1),typeof o.height>"u"&&(o.height=1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="mouse"),typeof o.pointerId>"u"&&(o.pointerId=Wr),typeof o.pressure>"u"&&(o.pressure=.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(t);return r},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Nr);/*!
 * @pixi/runner - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zt=function(){function i(e){this.items=[],this._name=e,this._aliasCount=0}return i.prototype.emit=function(e,t,r,n,s,a,o,h){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,f=u.items;this._aliasCount++;for(var c=0,d=f.length;c<d;c++)f[c][l](e,t,r,n,s,a,o,h);return f===this.items&&this._aliasCount--,this},i.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},i.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},i.prototype.remove=function(e){var t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},i.prototype.contains=function(e){return this.items.indexOf(e)!==-1},i.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},i.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(i.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),i}();Object.defineProperties(zt.prototype,{dispatch:{value:zt.prototype.emit},run:{value:zt.prototype.emit}});/*!
 * @pixi/core - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Z.PREFER_ENV=ae.any?ve.WEBGL:ve.WEBGL2;Z.STRICT_TEXTURE_CACHE=!1;var An=[];function So(i,e){if(!i)return null;var t="";if(typeof i=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);r&&(t=r[1].toLowerCase())}for(var n=An.length-1;n>=0;--n){var s=An[n];if(s.test&&s.test(i,t))return new s(i,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rn=function(i,e){return Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Rn(i,e)};function vt(i,e){Rn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Rr=function(){function i(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new zt("setRealSize"),this.onUpdate=new zt("update"),this.onError=new zt("onError")}return i.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},i.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},i.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(i.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),i.prototype.update=function(){this.destroyed||this.onUpdate.emit()},i.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),i.prototype.style=function(e,t,r){return!1},i.prototype.dispose=function(){},i.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},i.test=function(e,t){return!1},i}(),Ci=function(i){vt(e,i);function e(t,r){var n=this,s=r||{},a=s.width,o=s.height;if(!a||!o)throw new Error("BufferResource width or height invalid");return n=i.call(this,a,o)||this,n.data=t,n}return e.prototype.upload=function(t,r,n){var s=t.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===_e.UNPACK),n.width===r.width&&n.height===r.height?s.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(n.width=r.width,n.height=r.height,s.texImage2D(r.target,0,n.internalFormat,r.width,r.height,0,r.format,n.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Rr),Pc={scaleMode:de.NEAREST,format:se.RGBA,alphaMode:_e.NPM},Et=function(i){vt(e,i);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=null);var n=i.call(this)||this;r=r||{};var s=r.alphaMode,a=r.mipmap,o=r.anisotropicLevel,h=r.scaleMode,u=r.width,l=r.height,f=r.wrapMode,c=r.format,d=r.type,p=r.target,v=r.resolution,_=r.resourceOptions;return t&&!(t instanceof Rr)&&(t=So(t,_),t.internal=!0),n.width=u||0,n.height=l||0,n.resolution=v||Z.RESOLUTION,n.mipmap=a!==void 0?a:Z.MIPMAP_TEXTURES,n.anisotropicLevel=o!==void 0?o:Z.ANISOTROPIC_LEVEL,n.wrapMode=f||Z.WRAP_MODE,n.scaleMode=h!==void 0?h:Z.SCALE_MODE,n.format=c||se.RGBA,n.type=d||It.UNSIGNED_BYTE,n.target=p||Be.TEXTURE_2D,n.alphaMode=s!==void 0?s:_e.UNPACK,n.uid=hr(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&l>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(t),n}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,r){var n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,r,n){return this.resolution=n||this.resolution,this.width=t,this.height=r,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,r,n){return this.resolution=n||this.resolution,this.width=t/this.resolution,this.height=r/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Os(this.realWidth)&&Os(this.realHeight)},e.prototype.setResolution=function(t){var r=this.resolution;return r===t?this:(this.resolution=t,this.valid&&(this.width=this.width*r/t,this.height=this.height*r/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ce[this.cacheId],delete fe[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,n){n===void 0&&(n=Z.STRICT_TEXTURE_CACHE);var s=typeof t=="string",a=null;if(s)a=t;else{if(!t._pixiId){var o=r&&r.pixiIdPrefix||"pixiid";t._pixiId=o+"_"+hr()}a=t._pixiId}var h=Ce[a];if(s&&n&&!h)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return h||(h=new e(t,r),h.cacheId=a,e.addToCache(h,a)),h},e.fromBuffer=function(t,r,n,s){t=t||new Float32Array(r*n*4);var a=new Ci(t,{width:r,height:n}),o=t instanceof Float32Array?It.FLOAT:It.UNSIGNED_BYTE;return new e(a,Object.assign(Pc,s||{width:r,height:n,type:o}))},e.addToCache=function(t,r){r&&(t.textureCacheIds.indexOf(r)===-1&&t.textureCacheIds.push(r),Ce[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Ce[r]=t)},e.removeFromCache=function(t){if(typeof t=="string"){var r=Ce[t];if(r){var n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete Ce[t],r}}else if(t&&t.textureCacheIds){for(var s=0;s<t.textureCacheIds.length;++s)delete Ce[t.textureCacheIds[s]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Nr),Po=function(i){vt(e,i);function e(t,r){var n=this,s=r||{},a=s.width,o=s.height;n=i.call(this,a,o)||this,n.items=[],n.itemDirtyIds=[];for(var h=0;h<t;h++){var u=new Et;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=t,n._load=null,n.baseTexture=null,n}return e.prototype.initFromArray=function(t,r){for(var n=0;n<this.length;n++)!t[n]||(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof Rr?this.addResourceAt(t[n],n):this.addResourceAt(So(t[n],r),n))},e.prototype.dispose=function(){for(var t=0,r=this.length;t<r;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[r].setResource(t),this},e.prototype.bind=function(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");i.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},e.prototype.unbind=function(t){i.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var r=this.items.map(function(s){return s.resource}).filter(function(s){return s}),n=r.map(function(s){return s.load()});return this._load=Promise.all(n).then(function(){var s=t.items[0],a=s.realWidth,o=s.realHeight;return t.resize(a,o),Promise.resolve(t)}),this._load},e}(Rr),Ic=function(i){vt(e,i);function e(t,r){var n=this,s=r||{},a=s.width,o=s.height,h,u;return Array.isArray(t)?(h=t,u=t.length):u=t,n=i.call(this,u,{width:a,height:o})||this,h&&n.initFromArray(h,r),n}return e.prototype.addBaseTextureAt=function(t,r){if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(t){i.prototype.bind.call(this,t),t.target=Be.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,r,n){var s=this,a=s.length,o=s.itemDirtyIds,h=s.items,u=t.gl;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,r.format,this._width,this._height,a,0,r.format,r.type,null);for(var l=0;l<a;l++){var f=h[l];o[l]<f.dirtyId&&(o[l]=f.dirtyId,f.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,l,f.resource.width,f.resource.height,1,r.format,r.type,f.resource.source))}return!0},e}(Po),we=function(i){vt(e,i);function e(t){var r=this,n=t,s=n.naturalWidth||n.videoWidth||n.width,a=n.naturalHeight||n.videoHeight||n.height;return r=i.call(this,s,a)||this,r.source=t,r.noSubImage=!1,r}return e.crossOrigin=function(t,r,n){n===void 0&&r.indexOf("data:")!==0?t.crossOrigin=nc(r):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")},e.prototype.upload=function(t,r,n,s){var a=t.gl,o=r.realWidth,h=r.realHeight;return s=s||this.source,a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===_e.UNPACK),!this.noSubImage&&r.target===a.TEXTURE_2D&&n.width===o&&n.height===h?a.texSubImage2D(a.TEXTURE_2D,0,0,0,r.format,r.type,s):(n.width=o,n.height=h,a.texImage2D(r.target,0,r.format,r.format,r.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),i.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Rr),Io=function(i){vt(e,i);function e(t){return i.call(this,t)||this}return e.test=function(t){var r=self.OffscreenCanvas;return r&&t instanceof r?!0:self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(we),Cc=function(i){vt(e,i);function e(t,r){var n=this,s=r||{},a=s.width,o=s.height,h=s.autoLoad,u=s.linkBaseTexture;if(t&&t.length!==e.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");n=i.call(this,6,{width:a,height:o})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=Be.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=u!==!1,t&&n.initFromArray(t,r),h!==!1&&n.load(),n}return e.prototype.bind=function(t){i.prototype.bind.call(this,t),t.target=Be.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Be.TEXTURE_CUBE_MAP_POSITIVE_X+r,t.parentTextureArray=this.baseTexture,this.items[r]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[r]=t,this},e.prototype.upload=function(t,r,n){for(var s=this.itemDirtyIds,a=0;a<e.SIDES;a++){var o=this.items[a];s[a]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,n),s[a]=o.dirtyId):s[a]<-1&&(t.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),s[a]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Po),Co=function(i){vt(e,i);function e(t,r){var n=this;if(r=r||{},!(t instanceof HTMLImageElement)){var s=new Image;we.crossOrigin(s,t,r.crossorigin),s.src=t,t=s}return n=i.call(this,t)||this,!t.complete&&!!n._width&&!!n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(r.createBitmap!==void 0?r.createBitmap:Z.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,n.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,n.bitmap=null,n._load=null,r.autoLoad!==!1&&n.load(),n}return e.prototype.load=function(t){var r=this;return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise(function(n,s){var a=r.source;r.url=a.src;var o=function(){r.destroyed||(a.onload=null,a.onerror=null,r.resize(a.width,a.height),r._load=null,r.createBitmap?n(r.process()):n(r))};a.complete&&a.src?o():(a.onload=o,a.onerror=function(h){s(h),r.onError.emit(h)})}),this._load)},e.prototype.process=function(){var t=this,r=this.source;return this._process!==null?this._process:this.bitmap!==null||!self.createImageBitmap?Promise.resolve(this):(this._process=self.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===_e.UNPACK?"premultiply":"none"}).then(function(n){return t.destroyed?Promise.reject():(t.bitmap=n,t.update(),t._process=null,Promise.resolve(t))}),this._process)},e.prototype.upload=function(t,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return i.prototype.upload.call(this,t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(i.prototype.upload.call(this,t,r,n,this.bitmap),!this.preserveBitmap){var s=!0,a=r._glTextures;for(var o in a){var h=a[o];if(h!==n&&h.dirtyId!==r.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,i.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return typeof t=="string"||t instanceof HTMLImageElement},e}(we),Ac=function(i){vt(e,i);function e(t,r){var n=this;return r=r||{},n=i.call(this,document.createElement("canvas"))||this,n._width=0,n._height=0,n.svg=t,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,r.autoLoad!==!1&&n.load(),n}return e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(r){if(t._resolve=function(){t.resize(t.source.width,t.source.height),r(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var t=this,r=new Image;we.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(n){!t._resolve||(r.onerror=null,t.onError.emit(n))},r.onload=function(){if(!!t._resolve){var n=r.width,s=r.height;if(!n||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=n*t.scale,o=s*t.scale;(t._overrideWidth||t._overrideHeight)&&(a=t._overrideWidth||t._overrideHeight/s*n,o=t._overrideHeight||t._overrideWidth/n*s),a=Math.round(a),o=Math.round(o);var h=t.source;h.width=a,h.height=o,h._pixiId="canvas_"+hr(),h.getContext("2d").drawImage(r,0,0,n,s,0,0,a,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},e.prototype.dispose=function(){i.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,r){return r==="svg"||typeof t=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||typeof t=="string"&&t.indexOf("<svg")===0},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(we),Rc=function(i){vt(e,i);function e(t,r){var n=this;if(r=r||{},!(t instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);var a=t[0].src||t[0];we.crossOrigin(s,a,r.crossorigin);for(var o=0;o<t.length;++o){var h=document.createElement("source"),u=t[o],l=u.src,f=u.mime;l=l||t[o];var c=l.split("?").shift().toLowerCase(),d=c.substr(c.lastIndexOf(".")+1);f=f||e.MIME_TYPES[d]||"video/"+d,h.src=l,h.type=f,s.appendChild(h)}t=s}return n=i.call(this,t)||this,n.noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=r.autoPlay!==!1,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),r.autoLoad!==!1&&n.load(),n}return e.prototype.update=function(t){if(!this.destroyed){var r=Bt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(i.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(n){t.valid?n(t):(t._resolve=n,r.load())}),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===!1&&t.ended===!1&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return t.readyState===3||t.readyState===4},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Bt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Bt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(t.videoWidth,t.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Bt.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),i.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Bt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Bt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(we),Oc=function(i){vt(e,i);function e(t){return i.call(this,t)||this}return e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(we);An.push(Co,Oc,Io,Rc,Ac,Ci,Cc,Ic);var Vt=function(){function i(e){this.renderer=e}return i.prototype.destroy=function(){this.renderer=null},i}(),Lc=function(i){vt(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.upload=function(t,r,n){var s=t.gl;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===_e.UNPACK),n.width===r.width&&n.height===r.height?s.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(n.width=r.width,n.height=r.height,s.texImage2D(r.target,0,t.context.webGLVersion===1?s.DEPTH_COMPONENT:s.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},e}(Ci),On=function(){function i(e,t){this.width=Math.ceil(e||100),this.height=Math.ceil(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new zt("disposeFramebuffer"),this.multisample=ar.NONE}return Object.defineProperty(i.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),i.prototype.addColorTexture=function(e,t){return e===void 0&&(e=0),this.colorTextures[e]=t||new Et(null,{scaleMode:de.NEAREST,resolution:1,mipmap:Ge.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},i.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Et(new Lc(null,{width:this.width,height:this.height}),{scaleMode:de.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ge.OFF,format:se.DEPTH_COMPONENT,type:It.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},i.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},i.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},i.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],s=n.resolution;n.setSize(e/s,t/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,t/s)}}},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},i}(),Ao=function(i){vt(e,i);function e(t){var r=this;if(typeof t=="number"){var n=arguments[0],s=arguments[1],a=arguments[2],o=arguments[3];t={width:n,height:s,scaleMode:a,resolution:o}}r=i.call(this,null,t)||this;var h=t||{},u=h.width,l=h.height;return r.mipmap=0,r.width=Math.ceil(u)||100,r.height=Math.ceil(l)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new On(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return e.prototype.resize=function(t,r){t=Math.ceil(t),r=Math.ceil(r),this.framebuffer.resize(t*this.resolution,r*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),i.prototype.dispose.call(this)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Et),Ro=function(){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return i.prototype.set=function(e,t,r){var n=t.width,s=t.height;if(r){var a=e.width/2/n,o=e.height/2/s,h=e.x/n+a,u=e.y/s+o;r=Ct.add(r,Ct.NW),this.x0=h+a*Ct.uX(r),this.y0=u+o*Ct.uY(r),r=Ct.add(r,2),this.x1=h+a*Ct.uX(r),this.y1=u+o*Ct.uY(r),r=Ct.add(r,2),this.x2=h+a*Ct.uX(r),this.y2=u+o*Ct.uY(r),r=Ct.add(r,2),this.x3=h+a*Ct.uX(r),this.y3=u+o*Ct.uY(r)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},i.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},i}(),ks=new Ro,it=function(i){vt(e,i);function e(t,r,n,s,a,o){var h=i.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new yt(0,0,1,1)),t instanceof e&&(t=t.baseTexture),h.baseTexture=t,h._frame=r,h.trim=s,h.valid=!1,h._uvs=ks,h.uvMatrix=null,h.orig=n||r,h._rotate=Number(a||0),a===!0)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=o?new Lt(o.x,o.y):new Lt(0,0),h._updateID=0,h.textureCacheIds=[],t.valid?h.noFrame?t.valid&&h.onBaseTextureUpdated(t):h.frame=r:t.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&t.on("update",h.onBaseTextureUpdated,h),h}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&r.url&&fe[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===ks&&(this._uvs=new Ro),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,n){r===void 0&&(r={}),n===void 0&&(n=Z.STRICT_TEXTURE_CACHE);var s=typeof t=="string",a=null;if(s)a=t;else{if(!t._pixiId){var o=r&&r.pixiIdPrefix||"pixiid";t._pixiId=o+"_"+hr()}a=t._pixiId}var h=fe[a];if(s&&n&&!h)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return h||(r.resolution||(r.resolution=mi(t)),h=new e(new Et(t,r)),h.baseTexture.cacheId=a,Et.addToCache(h.baseTexture,a),e.addToCache(h,a)),h},e.fromURL=function(t,r){var n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),s=e.from(t,Object.assign({resourceOptions:n},r),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(t,r,n,s){return new e(Et.fromBuffer(t,r,n,s))},e.fromLoader=function(t,r,n,s){var a=new Et(t,Object.assign({scaleMode:Z.SCALE_MODE,resolution:mi(r)},s)),o=a.resource;o instanceof Co&&(o.url=r);var h=new e(a);return n||(n=r),Et.addToCache(h.baseTexture,n),e.addToCache(h,n),n!==r&&(Et.addToCache(h.baseTexture,r),e.addToCache(h,r)),h.baseTexture.valid?Promise.resolve(h):new Promise(function(u){h.baseTexture.once("loaded",function(){return u(h)})})},e.addToCache=function(t,r){r&&(t.textureCacheIds.indexOf(r)===-1&&t.textureCacheIds.push(r),fe[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),fe[r]=t)},e.removeFromCache=function(t){if(typeof t=="string"){var r=fe[t];if(r){var n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete fe[t],r}}else if(t&&t.textureCacheIds){for(var s=0;s<t.textureCacheIds.length;++s)fe[t.textureCacheIds[s]]===t&&delete fe[t.textureCacheIds[s]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var r=t.x,n=t.y,s=t.width,a=t.height,o=r+s>this.baseTexture.width,h=n+a>this.baseTexture.height;if(o||h){var u=o&&h?"and":"or",l="X: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.width,f="Y: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+u+" "+f))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Nr);function Mc(){var i=document.createElement("canvas");i.width=16,i.height=16;var e=i.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new it(new Et(new Io(i)))}function Ai(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}it.EMPTY=new it(new Et);Ai(it.EMPTY);Ai(it.EMPTY.baseTexture);it.WHITE=Mc();Ai(it.WHITE);Ai(it.WHITE.baseTexture);var $e=function(i){vt(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,r,n){n===void 0&&(n=!0),t=Math.ceil(t),r=Math.ceil(r),this.valid=t>0&&r>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=r,n&&this.baseTexture.resize(t,r),this.updateUvs()},e.prototype.setResolution=function(t){var r=this.baseTexture;r.resolution!==t&&(r.setResolution(t),this.resize(r.width,r.height,!1))},e.create=function(t){for(var r=arguments,n=[],s=1;s<arguments.length;s++)n[s-1]=r[s];return typeof t=="number"&&(_i("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:n[0],scaleMode:n[1],resolution:n[2]}),new e(new Ao(t))},e}(it),Dc=function(){function i(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return i.prototype.createTexture=function(e,t){var r=new Ao(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new $e(r)},i.prototype.getOptimalTexture=function(e,t,r){r===void 0&&(r=1);var n=i.SCREEN_KEY;e*=r,t*=r,(!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight)&&(e=vi(e),t=vi(t),n=(e&65535)<<16|t&65535),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t)),s.filterPoolKey=n,s.setResolution(r),s},i.prototype.getFilterTexture=function(e,t){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},i.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},i.prototype.returnFilterTexture=function(e){this.returnTexture(e)},i.prototype.clear=function(e){if(e=e!==!1,e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},i.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){var t=i.SCREEN_KEY,r=this.texturePool[t];if(this.enableFullScreen=e.width>0&&e.height>0,r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[t]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},i.SCREEN_KEY="screen",i}(),zs=function(){function i(e,t,r,n,s,a,o){t===void 0&&(t=0),r===void 0&&(r=!1),n===void 0&&(n=5126),this.buffer=e,this.size=t,this.normalized=r,this.type=n,this.stride=s,this.start=a,this.instance=o}return i.prototype.destroy=function(){this.buffer=null},i.from=function(e,t,r,n,s){return new i(e,t,r,n,s)},i}(),Fc=0,Ut=function(){function i(e,t,r){t===void 0&&(t=!0),r===void 0&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Fc++,this.disposeRunner=new zt("disposeBuffer")}return i.prototype.update=function(e){this.data=e||this.data,this._updateID++},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroy=function(){this.dispose(),this.data=null},i.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new i(e)},i}();function Oo(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}var Nc={Float32Array,Uint32Array,Int32Array,Uint8Array};function Uc(i,e){for(var t=0,r=0,n={},s=0;s<i.length;s++)r+=e[s],t+=i[s].length;for(var a=new ArrayBuffer(t*4),o=null,h=0,s=0;s<i.length;s++){var u=e[s],l=i[s],f=Oo(l);n[f]||(n[f]=new Nc[f](a)),o=n[f];for(var c=0;c<l.length;c++){var d=(c/u|0)*r+h,p=c%u;o[d+p]=l[c]}h+=u}return new Float32Array(a)}var Gs={5126:4,5123:2,5121:1},Bc=0,kc={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Ur=function(){function i(e,t){e===void 0&&(e=[]),t===void 0&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Bc++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new zt("disposeGeometry"),this.refCount=0}return i.prototype.addAttribute=function(e,t,r,n,s,a,o,h){if(r===void 0&&(r=0),n===void 0&&(n=!1),h===void 0&&(h=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Ut||(t instanceof Array&&(t=new Float32Array(t)),t=new Ut(t));var u=e.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],t,r,n,s);return this}var f=this.buffers.indexOf(t);return f===-1&&(this.buffers.push(t),f=this.buffers.length-1),this.attributes[e]=new zs(f,r,n,s,a,o,h),this.instanced=this.instanced||h,this},i.prototype.getAttribute=function(e){return this.attributes[e]},i.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},i.prototype.addIndex=function(e){return e instanceof Ut||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ut(e)),e.index=!0,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},i.prototype.getIndex=function(){return this.indexBuffer},i.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],t=[],r=new Ut,n;for(n in this.attributes){var s=this.attributes[n],a=this.buffers[s.buffer];e.push(a.data),t.push(s.size*Gs[s.type]/4),s.buffer=0}for(r.data=Uc(e,t),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},i.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e],r=this.buffers[t.buffer];return r.data.length/(t.stride/4||t.size)}return 0},i.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},i.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},i.prototype.clone=function(){for(var e=new i,t=0;t<this.buffers.length;t++)e.buffers[t]=new Ut(this.buffers[t].data.slice(0));for(var t in this.attributes){var r=this.attributes[t];e.attributes[t]=new zs(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},i.merge=function(e){for(var t=new i,r=[],n=[],s=[],a,o=0;o<e.length;o++){a=e[o];for(var h=0;h<a.buffers.length;h++)n[h]=n[h]||0,n[h]+=a.buffers[h].data.length,s[h]=0}for(var o=0;o<a.buffers.length;o++)r[o]=new kc[Oo(a.buffers[o].data)](n[o]),t.buffers[o]=new Ut(r[o]);for(var o=0;o<e.length;o++){a=e[o];for(var h=0;h<a.buffers.length;h++)r[h].set(a.buffers[h].data,s[h]),s[h]+=a.buffers[h].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.index=!0;for(var u=0,l=0,f=0,c=0,o=0;o<a.buffers.length;o++)if(a.buffers[o]!==a.indexBuffer){c=o;break}for(var o in a.attributes){var d=a.attributes[o];(d.buffer|0)===c&&(l+=d.size*Gs[d.type]/4)}for(var o=0;o<e.length;o++){for(var p=e[o].indexBuffer.data,h=0;h<p.length;h++)t.indexBuffer.data[h+f]+=u;u+=a.buffers[c].data.length/l,f+=p.length}}return t},i}(),zc=function(i){vt(e,i);function e(){var t=i.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return e}(Ur),Lo=function(i){vt(e,i);function e(){var t=i.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Ut(t.vertices),t.uvBuffer=new Ut(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return e.prototype.map=function(t,r){var n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+r.width/t.width,this.uvs[3]=s,this.uvs[4]=n+r.width/t.width,this.uvs[5]=s+r.height/t.height,this.uvs[6]=n,this.uvs[7]=s+r.height/t.height,n=r.x,s=r.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+r.width,this.vertices[3]=s,this.vertices[4]=n+r.width,this.vertices[5]=s+r.height,this.vertices[6]=n,this.vertices[7]=s+r.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ur),Gc=0,ke=function(){function i(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Gc++,this.static=!!t}return i.prototype.update=function(){this.dirtyId++},i.prototype.add=function(e,t,r){this.uniforms[e]=new i(t,r)},i.from=function(e,t){return new i(e,t)},i}(),$c=function(){function i(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new yt,this.destinationFrame=new yt,this.bindingSourceFrame=new yt,this.bindingDestinationFrame=new yt,this.filters=[],this.transform=null}return i.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},i}(),Zr=[new Lt,new Lt,new Lt,new Lt],Hi=new Mt,Xc=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.defaultFilterStack=[{}],r.texturePool=new Dc,r.texturePool.setScreenSize(t.view),r.statePool=[],r.quad=new zc,r.quadUv=new Lo,r.tempRect=new yt,r.activeState={},r.globalUniforms=new ke({outputFrame:new yt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return e.prototype.push=function(t,r){for(var n=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new $c,o=this.renderer.renderTexture,h=r[0].resolution,u=r[0].padding,l=r[0].autoFit,f=r[0].legacy,c=1;c<r.length;c++){var d=r[c];h=Math.min(h,d.resolution),u=this.useMaxPadding?Math.max(u,d.padding):u+d.padding,l=l&&d.autoFit,f=f||d.legacy}if(s.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),s.push(a),a.resolution=h,a.legacy=f,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(u),l){var p=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Hi.copyFrom(n.projection.transform).invert(),p),a.sourceFrame.fit(p)}this.roundFrame(a.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,h),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var v=this.tempRect;v.x=0,v.y=0,v.width=a.sourceFrame.width,v.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,v),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;var s=this.globalUniforms.uniforms;s.outputFrame=r.sourceFrame,s.resolution=r.resolution;var a=s.inputSize,o=s.inputPixel,h=s.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=a[0]*r.resolution,o[1]=a[1]*r.resolution,o[2]=1/o[0],o[3]=1/o[1],h[0]=.5*o[2],h[1]=.5*o[3],h[2]=r.sourceFrame.width*a[2]-.5*o[2],h[3]=r.sourceFrame.height*a[3]-.5*o[3],r.legacy){var u=s.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,ye.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var f=r.renderTexture,c=this.getOptimalFilterTexture(f.width,f.height,r.resolution);c.filterFrame=f.filterFrame;var d=0;for(d=0;d<n.length-1;++d){n[d].apply(this,f,c,ye.CLEAR,r);var p=f;f=c,c=p}n[d].apply(this,f,l.renderTexture,ye.BLEND,r),this.returnFilterTexture(f),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=ye.CLEAR);var n=this.renderer,s=n.renderTexture,a=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,s.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?s.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var h=a.stateId&1||this.forceClear;(r===ye.CLEAR||r===ye.BLIT&&h)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,n,s){var a=this.renderer;a.state.set(t.state),this.bindAndClear(n,s),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(t),t.legacy?(this.quadUv.map(r._frame,r.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(ee.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(ee.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var n=this.activeState,s=n.sourceFrame,a=n.destinationFrame,o=r._texture.orig,h=t.set(a.width,0,0,a.height,s.x,s.y),u=r.worldTransform.copyTo(Mt.TEMP_MATRIX);return u.invert(),h.prepend(u),h.scale(1/o.width,1/o.height),h.translate(r.anchor.x,r.anchor.y),h},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,n){return n===void 0&&(n=1),this.texturePool.getOptimalTexture(t,r,n)},e.prototype.getFilterTexture=function(t,r){if(typeof t=="number"){var n=t;t=r,r=n}t=t||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution);return s.filterFrame=t.filterFrame,s},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var n=Zr[0],s=Zr[1],a=Zr[2],o=Zr[3];n.set(r.left,r.top),s.set(r.left,r.bottom),a.set(r.right,r.top),o.set(r.right,r.bottom),t.apply(n,n),t.apply(s,s),t.apply(a,a),t.apply(o,o);var h=Math.min(n.x,s.x,a.x,o.x),u=Math.min(n.y,s.y,a.y,o.y),l=Math.max(n.x,s.x,a.x,o.x),f=Math.max(n.y,s.y,a.y,o.y);r.x=h,r.y=u,r.width=l-h,r.height=f-u},e.prototype.roundFrame=function(t,r,n,s,a){if(a){var o=a.a,h=a.b,u=a.c,l=a.d;if((h!==0||u!==0)&&(o!==0||l!==0))return}a=a?Hi.copyFrom(a):Hi.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(a,t),t.ceil(r),this.transformAABB(a.invert(),t)},e}(Vt),Ri=function(){function i(e){this.renderer=e}return i.prototype.flush=function(){},i.prototype.destroy=function(){this.renderer=null},i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.render=function(e){},i}(),Hc=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.emptyRenderer=new Ri(t),r.currentRenderer=r.emptyRenderer,r}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var n=this.renderer.texture.boundTextures,s=r-1;s>=0;--s)t[s]=n[s]||null,t[s]&&(t[s]._batchLocation=s)},e.prototype.boundArray=function(t,r,n,s){for(var a=t.elements,o=t.ids,h=t.count,u=0,l=0;l<h;l++){var f=a[l],c=f._batchLocation;if(c>=0&&c<s&&r[c]===f){o[l]=c;continue}for(;u<s;){var d=r[u];if(d&&d._batchEnabled===n&&d._batchLocation===u){u++;continue}o[l]=u,f._batchLocation=u,r[u]=f;break}}},e}(Vt),$s=0,jc=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),t.view.addEventListener("webglcontextlost",r.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=$s++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=$s++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var n;if(Z.PREFER_ENV>=ve.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),n="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;n&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var s=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(Vt),Vc=function(){function i(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=ar.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return i}(),Yc=new yt,Wc=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new On(10,10),r.msaaSamples=null,r}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new yt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Z.PREFER_ENV===ve.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=function(s){return r.drawBuffersWEBGL(s)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r){var n=this.gl;if(t){var s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var o=t.colorTextures[a];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,n,s){var a=this.viewport;(a.width!==n||a.height!==s||a.x!==t||a.y!==r)&&(a.x=t,a.y=r,a.width=n,a.height=s,this.gl.viewport(t,r,n,s))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,n,s,a){a===void 0&&(a=pi.COLOR|pi.DEPTH);var o=this.gl;o.clearColor(t,r,n,s),o.clear(a)},e.prototype.initFramebuffer=function(t){var r=this.gl,n=new Vc(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));for(var s=t.colorTextures,a=0;a<s.length;a++)this.renderer.texture.bind(s[a],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures,a=s.length;r.drawBuffers||(a=Math.min(a,1)),n.multisample>1&&(n.msaaBuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer));for(var o=[],h=0;h<a;h++)if(!(h===0&&n.multisample>1)){var u=t.colorTextures[h],l=u.parentTextureArray||u;this.renderer.texture.bind(l,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+h,u.target,l._glTextures[this.CONTEXT_UID].texture,0),o.push(r.COLOR_ATTACHMENT0+h)}if(o.length>1&&r.drawBuffers(o),t.depthTexture){var f=this.writeDepthTexture;if(f){var c=t.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,0)}}!n.stencil&&(t.stencil||t.depth)&&(n.stencil=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),t.depthTexture||r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n.stencil))},e.prototype.detectSamples=function(t){var r=this.msaaSamples,n=ar.NONE;if(t<=1||r===null)return n;for(var s=0;s<r.length;s++)if(r[s]<=t){n=r[s];break}return n===1&&(n=ar.NONE),n},e.prototype.blit=function(t,r,n){var s=this,a=s.current,o=s.renderer,h=s.gl,u=s.CONTEXT_UID;if(o.context.webGLVersion===2&&!!a){var l=a.glFramebuffers[u];if(!!l){if(!t){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new On(a.width,a.height),l.blitFramebuffer.addColorTexture(0,a.colorTextures[0])),t=l.blitFramebuffer,t.width=a.width,t.height=a.height}r||(r=Yc,r.width=a.width,r.height=a.height),n||(n=r);var f=r.width===n.width&&r.height===n.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,l.framebuffer),h.blitFramebuffer(r.x,r.y,r.width,r.height,n.x,n.y,n.width,n.height,h.COLOR_BUFFER_BIT,f?h.NEAREST:h.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var n=t.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!!n){delete t.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(t);a>=0&&this.managedFramebuffers.splice(a,1),t.disposeRunner.remove(this),r||(s.deleteFramebuffer(n.framebuffer),n.stencil&&s.deleteRenderbuffer(n.stencil))}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(!!t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.enableStencil();var n=t.width,s=t.height,a=this.gl,o=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,o),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,s),r.stencil=o,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new yt},e}(Vt),qc=function(){function i(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return i}(),ji={5126:4,5123:2,5121:1},Zc=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Z.PREFER_ENV===ve.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},t.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var s=t.getExtension("ANGLE_instanced_arrays");s?(t.vertexAttribDivisor=function(a,o){return s.vertexAttribDivisorANGLE(a,o)},t.drawElementsInstanced=function(a,o,h,u,l){return s.drawElementsInstancedANGLE(a,o,h,u,l)},t.drawArraysInstanced=function(a,o,h,u){return s.drawArraysInstancedANGLE(a,o,h,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var n=this.gl,s=t.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);var o=s[r.program.id]||this.initGeometryVao(t,r.program,a);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.gl,n=0;n<t.buffers.length;n++){var s=t.buffers[n],a=s._glBuffers[this.CONTEXT_UID];if(s._updateID!==a.updateID){a.updateID=s._updateID;var o=s.index?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER;if(r.bindBuffer(o,a.buffer),this._boundBuffer=a,a.byteLength>=s.data.byteLength)r.bufferSubData(o,0,s.data);else{var h=s.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;a.byteLength=s.data.byteLength,r.bufferData(o,s.data,h)}}}},e.prototype.checkCompatibility=function(t,r){var n=t.attributes,s=r.attributeData;for(var a in s)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},e.prototype.getSignature=function(t,r){var n=t.attributes,s=r.attributeData,a=["g",t.id];for(var o in n)s[o]&&a.push(o);return a.join("-")},e.prototype.initGeometryVao=function(t,r,n){n===void 0&&(n=!0),this.checkCompatibility(t,r);var s=this.gl,a=this.CONTEXT_UID,o=this.getSignature(t,r),h=t.glVertexArrayObjects[this.CONTEXT_UID],u=h[o];if(u)return h[r.id]=u,u;var l=t.buffers,f=t.attributes,c={},d={};for(var p in l)c[p]=0,d[p]=0;for(var p in f)!f[p].size&&r.attributeData[p]?f[p].size=r.attributeData[p].size:f[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[f[p].buffer]+=f[p].size*ji[f[p].type];for(var p in f){var v=f[p],_=v.size;v.stride===void 0&&(c[v.buffer]===_*ji[v.type]?v.stride=0:v.stride=c[v.buffer]),v.start===void 0&&(v.start=d[v.buffer],d[v.buffer]+=_*ji[v.type])}u=s.createVertexArray(),s.bindVertexArray(u);for(var g=0;g<l.length;g++){var m=l[g];m._glBuffers[a]||(m._glBuffers[a]=new qc(s.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),n&&m._glBuffers[a].refCount++}return this.activateVao(t,r),this._activeVao=u,h[r.id]=u,h[o]=u,u},e.prototype.disposeBuffer=function(t,r){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],s=this.gl;t.disposeRunner.remove(this),n&&(r||s.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,r){if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=t.buffers;if(t.disposeRunner.remove(this),!!n){for(var o=0;o<a.length;o++){var h=a[o]._glBuffers[this.CONTEXT_UID];h.refCount--,h.refCount===0&&!r&&this.disposeBuffer(a[o],r)}if(!r){for(var u in n)if(u[0]==="g"){var l=n[u];this._activeVao===l&&this.unbind(),s.deleteVertexArray(l)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t);r=Object.keys(this.managedBuffers);for(var n=0;n<r.length;n++)this.disposeBuffer(this.managedBuffers[r[n]],t)},e.prototype.activateVao=function(t,r){var n=this.gl,s=this.CONTEXT_UID,a=t.buffers,o=t.attributes;t.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[s].buffer);var h=null;for(var u in o){var l=o[u],f=a[l.buffer],c=f._glBuffers[s];if(r.attributeData[u]){h!==c&&(n.bindBuffer(n.ARRAY_BUFFER,c.buffer),h=c);var d=r.attributeData[u].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,n,s){var a=this.gl,o=this._activeGeometry;if(o.indexBuffer){var h=o.indexBuffer.data.BYTES_PER_ELEMENT,u=h===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?o.instanced?a.drawElementsInstanced(t,r||o.indexBuffer.data.length,u,(n||0)*h,s||1):a.drawElements(t,r||o.indexBuffer.data.length,u,(n||0)*h):console.warn("unsupported index buffer type: uint32")}else o.instanced?a.drawArraysInstanced(t,n,r||o.getSize(),s||1):a.drawArrays(t,n,r||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(Vt),Kc=function(){function i(e){e===void 0&&(e=null),this.type=Ht.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return i.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ht.NONE,this.autoDetect=!0),this._target=null},i.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},i}();function Xs(i,e,t){var r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}function Mo(i,e,t,r){var n=Xs(i,i.VERTEX_SHADER,e),s=Xs(i,i.FRAGMENT_SHADER,t),a=i.createProgram();if(i.attachShader(a,n),i.attachShader(a,s),r)for(var o in r)i.bindAttribLocation(a,r[o],o);return i.linkProgram(a),i.getProgramParameter(a,i.LINK_STATUS)||(i.getShaderParameter(n,i.COMPILE_STATUS)||(console.warn(e),console.error(i.getShaderInfoLog(n))),i.getShaderParameter(s,i.COMPILE_STATUS)||(console.warn(t),console.error(i.getShaderInfoLog(s))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",i.getProgramParameter(a,i.VALIDATE_STATUS)),console.error("gl.getError()",i.getError()),i.getProgramInfoLog(a)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(a)),i.deleteProgram(a),a=null),i.deleteShader(n),i.deleteShader(s),a}function Vi(i){for(var e=new Array(i),t=0;t<e.length;t++)e[t]=!1;return e}function Do(i,e){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Vi(2*e);case"bvec3":return Vi(3*e);case"bvec4":return Vi(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Fo={},dr=Fo;function No(){if(dr===Fo||dr&&dr.isContextLost()){var i=document.createElement("canvas"),e=void 0;Z.PREFER_ENV>=ve.WEBGL2&&(e=i.getContext("webgl2",{})),e||(e=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),dr=e}return dr}var Kr;function Jc(){if(!Kr){Kr=oe.MEDIUM;var i=No();if(i&&i.getShaderPrecisionFormat){var e=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);Kr=e.precision?oe.HIGH:oe.MEDIUM}}return Kr}function Hs(i,e,t){if(i.substring(0,9)!=="precision"){var r=e;return e===oe.HIGH&&t!==oe.HIGH&&(r=oe.MEDIUM),"precision "+r+` float;
`+i}else if(t!==oe.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}var Qc={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function td(i){return Qc[i]}var Jr=null,js={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Vs(i,e){if(!Jr){var t=Object.keys(js);Jr={};for(var r=0;r<t.length;++r){var n=t[r];Jr[i[n]]=js[n]}}return Jr[e]}var Yi=[{test:function(i){return i.type==="float"&&i.size===1},code:function(i){return`
            if(uv["`+i+'"] !== ud["'+i+`"].value)
            {
                ud["`+i+'"].value = uv["'+i+`"]
                gl.uniform1f(ud["`+i+'"].location, uv["'+i+`"])
            }
            `}},{test:function(i){return(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray},code:function(i){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+i+`"], t);

            if(ud["`+i+`"].value !== t)
            {
                ud["`+i+`"].value = t;
                gl.uniform1i(ud["`+i+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(i,e){return i.type==="mat3"&&i.size===1&&e.a!==void 0},code:function(i){return`
            gl.uniformMatrix3fv(ud["`+i+'"].location, false, uv["'+i+`"].toArray(true));
            `}},{test:function(i,e){return i.type==="vec2"&&i.size===1&&e.x!==void 0},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+i+`"].location, v.x, v.y);
                }`}},{test:function(i){return i.type==="vec2"&&i.size===1},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+i+`"].location, v[0], v[1]);
                }
            `}},{test:function(i,e){return i.type==="vec4"&&i.size===1&&e.width!==void 0},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+i+`"].location, v.x, v.y, v.width, v.height)
                }`}},{test:function(i){return i.type==="vec4"&&i.size===1},code:function(i){return`
                cv = ud["`+i+`"].value;
                v = uv["`+i+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+i+`"].location, v[0], v[1], v[2], v[3])
                }`}}],ed={float:`
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,vec2:`
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},rd={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function id(i,e){var t=[`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];for(var r in i.uniforms){var n=e[r];if(!n){i.uniforms[r].group&&t.push(`
                    renderer.shader.syncUniformGroup(uv["`+r+`"], syncData);
                `);continue}for(var s=i.uniforms[r],a=!1,o=0;o<Yi.length;o++)if(Yi[o].test(n,s)){t.push(Yi[o].code(r,s)),a=!0;break}if(!a){var h=n.size===1?ed:rd,u=h[n.type].replace("location",'ud["'+r+'"].location');t.push(`
            cv = ud["`+r+`"].value;
            v = uv["`+r+`"];
            `+u+";")}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}var nd=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function sd(i){for(var e="",t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+="if(test == "+t+".0){}");return e}function ad(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var t=e.createShader(e.FRAGMENT_SHADER);;){var r=nd.replace(/%forloop%/gi,sd(i));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}return i}var pr;function od(){if(typeof pr=="boolean")return pr;try{var i=new Function("param1","param2","param3","return param1[param2] === param3;");pr=i({a:"b"},"a","b")===!0}catch{pr=!1}return pr}var hd=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,ud=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,ld=0,Qr={},Oi=function(){function i(e,t,r){r===void 0&&(r="pixi-shader"),this.id=ld++,this.vertexSrc=e||i.defaultVertexSrc,this.fragmentSrc=t||i.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Qr[r]?(Qr[r]++,r+="-"+Qr[r]):Qr[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=Hs(this.vertexSrc,Z.PRECISION_VERTEX,oe.HIGH),this.fragmentSrc=Hs(this.fragmentSrc,Z.PRECISION_FRAGMENT,Jc())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return i.prototype.extractData=function(e,t){var r=No();if(r){var n=Mo(r,e,t);this.attributeData=this.getAttributeData(n,r),this.uniformData=this.getUniformData(n,r),r.deleteProgram(n)}else this.uniformData={},this.attributeData={}},i.prototype.getAttributeData=function(e,t){for(var r={},n=[],s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var o=t.getActiveAttrib(e,a),h=Vs(t,o.type),u={type:h,name:o.name,size:td(h),location:0};r[o.name]=u,n.push(u)}n.sort(function(l,f){return l.name>f.name?1:-1});for(var a=0;a<n.length;a++)n[a].location=a;return r},i.prototype.getUniformData=function(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<n;s++){var a=t.getActiveUniform(e,s),o=a.name.replace(/\[.*?\]$/,""),h=a.name.match(/\[.*?\]$/),u=Vs(t,a.type);r[o]={type:u,size:a.size,isArray:h,value:Do(u,a.size)}}return r},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return ud},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return hd},enumerable:!1,configurable:!0}),i.from=function(e,t,r){var n=e+t,s=Ds[n];return s||(Ds[n]=s=new i(e,t,r)),s},i}(),Xe=function(){function i(e,t){this.program=e,t?t instanceof ke?this.uniformGroup=t:this.uniformGroup=new ke(t):this.uniformGroup=new ke({});for(var r in e.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return i.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var n=t.uniforms[r];if(n.group&&this.checkUniformExists(e,n))return!0}return!1},i.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(i.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),i.from=function(e,t,r){var n=Oi.from(e,t);return new i(n,r)},i}(),Wi=0,qi=1,Zi=2,Ki=3,Ji=4,Qi=5,je=function(){function i(){this.data=0,this.blendMode=et.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(i.prototype,"blend",{get:function(){return!!(this.data&1<<Wi)},set:function(e){!!(this.data&1<<Wi)!==e&&(this.data^=1<<Wi)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsets",{get:function(){return!!(this.data&1<<qi)},set:function(e){!!(this.data&1<<qi)!==e&&(this.data^=1<<qi)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"culling",{get:function(){return!!(this.data&1<<Zi)},set:function(e){!!(this.data&1<<Zi)!==e&&(this.data^=1<<Zi)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ki)},set:function(e){!!(this.data&1<<Ki)!==e&&(this.data^=1<<Ki)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"depthMask",{get:function(){return!!(this.data&1<<Qi)},set:function(e){!!(this.data&1<<Qi)!==e&&(this.data^=1<<Qi)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Ji)},set:function(e){!!(this.data&1<<Ji)!==e&&(this.data^=1<<Ji)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==et.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},i.for2d=function(){var e=new i;return e.depthTest=!1,e.blend=!0,e},i}(),fd=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,cd=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Pe=function(i){vt(e,i);function e(t,r,n){var s=this,a=Oi.from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc);return s=i.call(this,a,n)||this,s.padding=0,s.resolution=Z.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new je,s}return e.prototype.apply=function(t,r,n,s,a){t.applyFilter(this,r,n,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return fd},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return cd},enumerable:!1,configurable:!0}),e}(Xe),dd=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,pd=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Ys=new Mt,as=function(){function i(e,t){this._texture=e,this.mapCoord=new Mt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}return Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),i.prototype.multiplyUvs=function(e,t){t===void 0&&(t=e);for(var r=this.mapCoord,n=0;n<e.length;n+=2){var s=e[n],a=e[n+1];t[n]=s*r.a+a*r.c+r.tx,t[n+1]=s*r.b+a*r.d+r.ty}return t},i.prototype.update=function(e){var t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=t.orig,s=t.trim;s&&(Ys.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Ys));var a=t.baseTexture,o=this.uClampFrame,h=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(t._frame.x+h+u)/a.width,o[1]=(t._frame.y+h+u)/a.height,o[2]=(t._frame.x+t._frame.width-h+u)/a.width,o[3]=(t._frame.y+t._frame.height-h+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&t.rotate===0,!0},i}(),vd=function(i){vt(e,i);function e(t){var r=this,n=new Mt;return r=i.call(this,dd,pd)||this,t.renderable=!1,r.maskSprite=t,r.maskMatrix=n,r}return e.prototype.apply=function(t,r,n,s){var a=this.maskSprite,o=a._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new as(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,a).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,r,n,s))},e}(Pe),_d=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.enableScissor=!0,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var n=r;if(!n.isMaskData){var s=this.maskDataPool.pop()||new Kc;s.pooled=!0,s.maskObject=r,n=s}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case Ht.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case Ht.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case Ht.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n);break}},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){switch(r.type){case Ht.SCISSOR:this.renderer.scissor.pop();break;case Ht.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ht.SPRITE:this.popSpriteMask();break}r.reset(),r.pooled&&this.maskDataPool.push(r)}},e.prototype.detect=function(t){var r=t.maskObject;if(r.isSprite){t.type=Ht.SPRITE;return}if(t.type=Ht.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var n=r.worldTransform,s=Math.atan2(n.b,n.a),a=Math.atan2(n.d,n.c);s=Math.round(s*(180/Math.PI)*100),a=Math.round(a*(180/Math.PI)*100)-s,s=(s%9e3+9e3)%9e3,a=(a%18e3+18e3)%18e3,s===0&&a===9e3&&(t.type=Ht.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var r=t.maskObject,n=t._target,s=this.alphaMaskPool[this.alphaMaskIndex];s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new vd(r)]),s[0].resolution=this.renderer.resolution,s[0].maskSprite=r;var a=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=a,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(Vt),Uo=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.maskStack=[],r.glConst=0,r}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var s=this.getStackLength();s!==n&&(s===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.maskStack=null},e}(Vt),md=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var r=t.maskObject;r.renderable=!0;var n=t._scissorRect,s=r.getBounds(!0),a=this.renderer.gl;r.renderable=!1,n?s.fit(n):a.enable(a.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=s,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,r=this.renderer.renderTexture.current,n=this.renderer.projection,s=n.transform,a=n.sourceFrame,o=n.destinationFrame,h=r?r.resolution:this.renderer.resolution,u=o.width/a.width,l=o.height/a.height,f=((t.x-a.x)*u+o.x)*h,c=((t.y-a.y)*l+o.y)*h,d=t.width*u*h,p=t.height*l*h;s&&(f+=s.tx*h,c+=s.ty*h),r||(c=this.renderer.height-p-c),this.renderer.gl.scissor(f,c,d,p)},e}(Uo),gd=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var r=t.maskObject,n=this.renderer.gl,s=t._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,s,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),this.renderer.framebuffer.blit(),r.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var r=this.renderer.gl;this.getStackLength()===0?(r.disable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.clearStencil(0)):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Uo),yd=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Mt,r.transform=null,r}return e.prototype.update=function(t,r,n,s){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,n,s){var a=this.projectionMatrix,o=s?-1:1;a.identity(),a.a=1/r.width*2,a.d=o*(1/r.height*2),a.tx=-1-r.x*a.a,a.ty=-o-r.y*a.d},e.prototype.setTransform=function(t){},e}(Vt),Ae=new yt,vr=new yt,bd=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.clearColor=t._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new yt,r.destinationFrame=new yt,r.viewportFrame=new yt,r}return e.prototype.bind=function(t,r,n){t===void 0&&(t=null);var s=this.renderer;this.current=t;var a,o,h;t?(a=t.baseTexture,h=a.resolution,r||(Ae.width=t.frame.width,Ae.height=t.frame.height,r=Ae),n||(vr.x=t.frame.x,vr.y=t.frame.y,vr.width=r.width,vr.height=r.height,n=vr),o=a.framebuffer):(h=s.resolution,r||(Ae.width=s.screen.width,Ae.height=s.screen.height,r=Ae),n||(n=Ae,n.width=r.width,n.height=r.height));var u=this.viewportFrame;u.x=n.x*h,u.y=n.y*h,u.width=n.width*h,u.height=n.height*h,t||(u.y=s.view.height-(u.y+u.height)),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,h,!o),t?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==s.width||n.height!==s.height;if(a){var o=this.viewportFrame,h=o.x,u=o.y,l=o.width,f=o.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,u,l,f)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),a&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(Vt),xd=function(){function i(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return i.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},i}(),Td=0,Ws={textureCount:0},wd=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Td++,r}return e.prototype.systemCheck=function(){if(!od())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),r||(Ws.textureCount=0,this.syncUniformGroup(t.uniformGroup,Ws)),s},e.prototype.setUniforms=function(t){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var n=this.getglProgram();(!t.static||t.dirtyId!==n.uniformGroups[t.id])&&(n.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))},e.prototype.syncUniforms=function(t,r,n){var s=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);s(r.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData);return this.cache[r]||(this.cache[r]=id(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,r){var n=t.uniforms,s=[];for(var a in n)s.push(a),r[a]&&s.push(r[a].type);return s.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var r=this.gl,n=t.program,s={};for(var a in n.attributeData)s[a]=n.attributeData[a].location;var o=Mo(r,n.vertexSrc,n.fragmentSrc,s),h={};for(var a in n.uniformData){var u=n.uniformData[a];h[a]={location:r.getUniformLocation(o,a),value:Do(u.type,u.size)}}var l=new xd(o,h);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(Vt);function Ed(i,e){return e===void 0&&(e=[]),e[et.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD]=[i.ONE,i.ONE],e[et.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.NONE]=[0,0],e[et.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],e[et.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SRC_IN]=[i.DST_ALPHA,i.ZERO],e[et.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],e[et.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],e[et.DST_IN]=[i.ZERO,i.SRC_ALPHA],e[et.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],e[et.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],e[et.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],e}var Sd=0,Pd=1,Id=2,Cd=3,Ad=4,Rd=5,Od=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=et.NONE,r._blendEq=!1,r.map=[],r.map[Sd]=r.setBlend,r.map[Pd]=r.setOffset,r.map[Id]=r.setCullFace,r.map[Cd]=r.setDepthTest,r.map[Ad]=r.setFrontFace,r.map[Rd]=r.setDepthMask,r.checks=[],r.defaultState=new je,r.defaultState.blend=!0,r}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=Ed(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,n=0;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e}(Vt),Ld=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.count=0,r.checkCount=0,r.maxIdle=Z.GC_MAX_IDLE,r.checkCountMax=Z.GC_MAX_CHECK_COUNT,r.mode=Z.GC_MODE,r}return e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Sn.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,n=!1,s=0;s<r.length;s++){var a=r[s];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(t.destroyTexture(a,!0),r[s]=null,n=!0)}if(n){for(var o=0,s=0;s<r.length;s++)r[s]!==null&&(r[o++]=r[s]);r.length=o}},e.prototype.unload=function(t){var r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var s=t.children.length-1;s>=0;s--)this.unload(t.children[s])},e}(Vt),tn=function(){function i(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}return i}(),Md=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new Et,r}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var s=new tn(t.createTexture());t.bindTexture(t.TEXTURE_2D,s.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=s,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new tn(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var n=this.gl;if(t){if(t=t.castToBaseTexture(),t.parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var s=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,s.texture)),s.dirtyId!==t.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)),this.boundTextures[r]=t}}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,n=r.gl,s=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<s.length;a++)s[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<s.length;a++)s[a]===t&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(t.target,this.emptyTextures[t.target].texture),s[a]=null)},e.prototype.initTexture=function(t){var r=new tn(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){if(r.internalFormat=t.format,r.type=t.type,this.webGLVersion===2){var n=this.renderer.gl;t.type===n.FLOAT&&t.format===n.RGBA&&(r.internalFormat=n.RGBA32F),t.type===It.HALF_FLOAT&&(r.type=n.HALF_FLOAT),r.type===n.HALF_FLOAT&&t.format===n.RGBA&&(r.internalFormat=n.RGBA16F)}},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(t,r),!(t.resource&&t.resource.upload(n,t,r))){var s=t.realWidth,a=t.realHeight,o=n.gl;(r.width!==s||r.height!==a||r.dirtyId<0)&&(r.width=s,r.height=a,o.texImage2D(t.target,0,r.internalFormat,s,a,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var s=this.managedTextures.indexOf(t);s!==-1&&sr(this.managedTextures,s,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];!r||((t.mipmap===Ge.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=Te.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var n=this.gl;if(r.mipmap&&t.mipmap!==Ge.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===de.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var s=this.renderer.context.extensions.anisotropicFiltering;if(s&&t.anisotropicLevel>0&&t.scaleMode===de.LINEAR){var a=Math.min(t.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===de.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===de.LINEAR?n.LINEAR:n.NEAREST)},e}(Vt),en=new Mt,Dd=function(i){vt(e,i);function e(t,r){t===void 0&&(t=Ar.UNKNOWN);var n=i.call(this)||this;return r=Object.assign({},Z.RENDER_OPTIONS,r),n.options=r,n.type=t,n.screen=new yt(0,0,r.width,r.height),n.view=r.view||document.createElement("canvas"),n.resolution=r.resolution||Z.RESOLUTION,n.useContextAlpha=r.useContextAlpha,n.autoDensity=!!r.autoDensity,n.preserveDrawingBuffer=r.preserveDrawingBuffer,n.clearBeforeRender=r.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,1],n._backgroundColorString="#000000",n.backgroundColor=r.backgroundColor||n._backgroundColor,n.backgroundAlpha=r.backgroundAlpha,r.transparent!==void 0&&(_i("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),n.useContextAlpha=r.transparent,n.backgroundAlpha=r.transparent?0:1),n._lastObjectRendered=null,n.plugins={},n}return e.prototype.initPlugins=function(t){for(var r in t)this.plugins[r]=new t[r](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,r){this.screen.width=t,this.screen.height=r,this.view.width=t*this.resolution,this.view.height=r*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=r+"px"),this.emit("resize",t,r)},e.prototype.generateTexture=function(t,r,n,s){s=s||t.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var a=$e.create({width:s.width|0,height:s.height|0,scaleMode:r,resolution:n});return en.tx=-s.x,en.ty=-s.y,this.render(t,{renderTexture:a,clear:!1,transform:en,skipUpdateTransform:!!t.parent}),a},e.prototype.destroy=function(t){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=Ar.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=mo(t),or(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(Nr),Ie=function(i){vt(e,i);function e(t){var r=i.call(this,Ar.WEBGL,t)||this;return t=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new zt("destroy"),contextChange:new zt("contextChange"),reset:new zt("reset"),update:new zt("update"),postrender:new zt("postrender"),prerender:new zt("prerender"),resize:new zt("resize")},r.globalUniforms=new ke({projectionMatrix:new Mt},!0),r.addSystem(_d,"mask").addSystem(jc,"context").addSystem(Od,"state").addSystem(wd,"shader").addSystem(Md,"texture").addSystem(Zc,"geometry").addSystem(Wc,"framebuffer").addSystem(md,"scissor").addSystem(gd,"stencil").addSystem(yd,"projection").addSystem(Ld,"textureGC").addSystem(Xc,"filter").addSystem(bd,"renderTexture").addSystem(Hc,"batch"),r.initPlugins(e.__plugins),t.context?r.context.initFromContext(t.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:t.antialias,premultipliedAlpha:r.useContextAlpha&&r.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,uu(r.context.webGLVersion===2?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return e.create=function(t){if(lu())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,r){r||(r=t.name);var n=new t(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');this[r]=n;for(var s in this.runners)this.runners[s].add(n);return this},e.prototype.render=function(t,r){var n,s,a,o;if(r&&(r instanceof $e?(_i("6.0.0","Renderer#render arguments changed, use options instead."),n=r,s=arguments[2],a=arguments[3],o=arguments[4]):(n=r.renderTexture,s=r.clear,a=r.transform,o=r.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(n||(this._lastObjectRendered=t),!o){var h=t.enableTempParent();t.updateTransform(),t.disableTempParent(h)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(t,r){i.prototype.resize.call(this,t,r),this.runners.resize.emit(t,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(t){this.runners.destroy.emit();for(var r in this.runners)this.runners[r].destroy();i.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return _i("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(Dd);function Fd(i){return Ie.create(i)}var Nd=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ud=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Bd=Nd,Bo=Ud,Ln=function(){function i(){this.texArray=null,this.blend=0,this.type=ee.TRIANGLES,this.start=0,this.size=0,this.data=null}return i}(),Mn=function(){function i(){this.elements=[],this.ids=[],this.count=0}return i.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},i}(),Dn=function(){function i(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(i.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),i.prototype.view=function(e){return this[e+"View"]},i.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},i.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},i}(),kd=function(i){vt(e,i);function e(t){var r=i.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=je.for2d(),r.size=Z.SPRITE_BATCH_SIZE*4,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return e.prototype.contextChange=function(){var t=this.renderer.gl;Z.PREFER_ENV===ve.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Z.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ad(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,n=this.size/4,s=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new Ln);for(;r.length<s;)r.push(new Mn);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){!t._texture.valid||(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this,r=t._bufferedTextures,n=t.MAX_TEXTURES,s=e._textureArrayPool,a=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count,u=++Et._globalBatch,l=0,f=s[0],c=0;a.copyBoundTextures(o,n);for(var d=0;d<this._bufferSize;++d){var p=r[d];r[d]=null,p._batchEnabled!==u&&(f.count>=n&&(a.boundArray(f,o,u,n),this.buildDrawCalls(f,c,d),c=d,f=s[++l],++u),p._batchEnabled=u,p.touched=h,f.elements[f.count++]=p)}f.count>0&&(a.boundArray(f,o,u,n),this.buildDrawCalls(f,c,this._bufferSize),++l,++u);for(var d=0;d<o.length;d++)o[d]=null;Et._globalBatch=u},e.prototype.buildDrawCalls=function(t,r,n){var s=this,a=s._bufferedElements,o=s._attributeBuffer,h=s._indexBuffer,u=s.vertexSize,l=e._drawCallPool,f=this._dcIndex,c=this._aIndex,d=this._iIndex,p=l[f];p.start=this._iIndex,p.texArray=t;for(var v=r;v<n;++v){var _=a[v],g=_._texture.baseTexture,m=yo[g.alphaMode?1:0][_.blendMode];a[v]=null,r<v&&p.blend!==m&&(p.size=d-p.start,r=v,p=l[++f],p.texArray=t,p.start=d),this.packInterleavedGeometry(_,o,h,c,d),c+=_.vertexData.length/2*u,d+=_.indices.length,p.blend=m}r<n&&(p.size=d-p.start,++f),this._dcIndex=f,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var r=this.renderer.texture,n=0;n<t.count;n++)r.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,r=t._packedGeometries,n=t._attributeBuffer,s=t._indexBuffer;Z.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(n.rawBinaryData),r[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(n.rawBinaryData),r[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,n=r.gl,s=r.state,a=e._drawCallPool,o=null,h=0;h<t;h++){var u=a[h],l=u.texArray,f=u.type,c=u.size,d=u.start,p=u.blend;o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=p,s.set(this.state),n.drawElements(f,c,n.UNSIGNED_SHORT,d*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Z.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),i.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var r=vi(Math.ceil(t/8)),n=Ls(r),s=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new Dn(s*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(t){var r=vi(Math.ceil(t/12)),n=Ls(r),s=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var a=this._iBuffers[n];return a||(this._iBuffers[n]=a=new Uint16Array(s)),a},e.prototype.packInterleavedGeometry=function(t,r,n,s,a){for(var o=r.uint32View,h=r.float32View,u=s/this.vertexSize,l=t.uvs,f=t.indices,c=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),v=p<1&&t._texture.baseTexture.alphaMode?ns(t._tintRGB,p):t._tintRGB+(p*255<<24),_=0;_<c.length;_+=2)h[s++]=c[_],h[s++]=c[_+1],h[s++]=l[_],h[s++]=l[_+1],o[s++]=v,h[s++]=d;for(var _=0;_<f.length;_++)n[a++]=u+f[_]},e._drawCallPool=[],e._textureArrayPool=[],e}(Ri),zd=function(){function i(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return i.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=ke.from({uSamplers:t},!0);var n=this.fragTemplate;n=n.replace(/%count%/gi,""+e),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Oi(this.vertexSrc,n)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Mt,default:this.defaultGroupCache[e]};return new Xe(this.programCache[e],s)},i.prototype.generateSampleSrc=function(e){var t="";t+=`
`,t+=`
`;for(var r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+=`
{`,t+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",t+=`
}`;return t+=`
`,t+=`
`,t},i}(),ko=function(i){vt(e,i);function e(t){t===void 0&&(t=!1);var r=i.call(this)||this;return r._buffer=new Ut(null,t,!1),r._indexBuffer=new Ut(null,t,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,It.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,It.FLOAT).addAttribute("aColor",r._buffer,4,!0,It.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,It.FLOAT).addIndex(r._indexBuffer),r}return e}(Ur),qs=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Zs=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Gd=function(){function i(){}return i.create=function(e){var t=Object.assign({vertex:qs,fragment:Zs,geometryClass:ko,vertexSize:6},e),r=t.vertex,n=t.fragment,s=t.vertexSize,a=t.geometryClass;return function(o){vt(h,o);function h(u){var l=o.call(this,u)||this;return l.shaderGenerator=new zd(r,n),l.geometryClass=a,l.vertexSize=s,l}return h}(kd)},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return qs},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentTemplate",{get:function(){return Zs},enumerable:!1,configurable:!0}),i}(),$d=Gd.create();/*!
 * @pixi/app - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Br=function(){function i(e){var t=this;this.stage=new Wt,e=Object.assign({forceCanvas:!1},e),this.renderer=Fd(e),i._plugins.forEach(function(r){r.init.call(t,e)})}return i.registerPlugin=function(e){i._plugins.push(e)},i.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(i.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),i.prototype.destroy=function(e,t){var r=this,n=i._plugins.slice(0);n.reverse(),n.forEach(function(s){s.destroy.call(r)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null},i._plugins=[],i}(),Xd=function(){function i(){}return i.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(r){self.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!t._resizeTo||(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(!!t._resizeTo){t.cancelResize();var r,n;if(t._resizeTo===self)r=self.innerWidth,n=self.innerHeight;else{var s=t._resizeTo,a=s.clientWidth,o=s.clientHeight;r=a,n=o}t.renderer.resize(r,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},i.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},i}();Br.registerPlugin(Xd);/*!
 * @pixi/extract - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ks=new yt,Js=4,Hd=function(){function i(e){this.renderer=e}return i.prototype.image=function(e,t,r){var n=new Image;return n.src=this.base64(e,t,r),n},i.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},i.prototype.canvas=function(e){var t=this.renderer,r,n,s=!1,a,o=!1;e&&(e instanceof $e?a=e:(a=this.renderer.generateTexture(e),o=!0)),a?(r=a.baseTexture.resolution,n=a.frame,s=!1,t.renderTexture.bind(a)):(r=this.renderer.resolution,s=!0,n=Ks,n.width=this.renderer.width,n.height=this.renderer.height,t.renderTexture.bind(null));var h=Math.floor(n.width*r+1e-4),u=Math.floor(n.height*r+1e-4),l=new Fs(h,u,1),f=new Uint8Array(Js*h*u),c=t.gl;c.readPixels(n.x*r,n.y*r,h,u,c.RGBA,c.UNSIGNED_BYTE,f);var d=l.context.getImageData(0,0,h,u);if(i.arrayPostDivide(f,d.data),l.context.putImageData(d,0,0),s){var p=new Fs(l.width,l.height,1);p.context.scale(1,-1),p.context.drawImage(l.canvas,0,-u),l.destroy(),l=p}return o&&a.destroy(!0),l.canvas},i.prototype.pixels=function(e){var t=this.renderer,r,n,s,a=!1;e&&(e instanceof $e?s=e:(s=this.renderer.generateTexture(e),a=!0)),s?(r=s.baseTexture.resolution,n=s.frame,t.renderTexture.bind(s)):(r=t.resolution,n=Ks,n.width=t.width,n.height=t.height,t.renderTexture.bind(null));var o=n.width*r,h=n.height*r,u=new Uint8Array(Js*o*h),l=t.gl;return l.readPixels(n.x*r,n.y*r,o,h,l.RGBA,l.UNSIGNED_BYTE,u),a&&s.destroy(!0),i.arrayPostDivide(u,u),u},i.prototype.destroy=function(){this.renderer=null},i.arrayPostDivide=function(e,t){for(var r=0;r<e.length;r+=4){var n=t[r+3]=e[r+3];n!==0?(t[r]=Math.round(Math.min(e[r]*255/n,255)),t[r+1]=Math.round(Math.min(e[r+1]*255/n,255)),t[r+2]=Math.round(Math.min(e[r+2]*255/n,255))):(t[r]=e[r],t[r+1]=e[r+1],t[r+2]=e[r+2])}},i}(),zo=(i,e={})=>{if(!i)return;const t={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=t.parser[e.strictMode?"strict":"loose"].exec(i),n={};let s=14;for(;s--;)n[t.key[s]]=r[s]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(a,o,h){o&&(n[t.q.name][o]=h)}),n};class ti{constructor(e,t=!1,r){this._fn=e,this._once=t,this._thisArg=r,this._next=this._prev=this._owner=null}detach(){return this._owner===null?!1:(this._owner.detach(this),!0)}}function Qs(i,e){return i._head?(i._tail._next=e,e._prev=i._tail,i._tail=e):(i._head=e,i._tail=e),e._owner=i,e}class ce{constructor(){this._head=this._tail=void 0}handlers(e=!1){let t=this._head;if(e)return!!t;const r=[];for(;t;)r.push(t),t=t._next;return r}has(e){if(!(e instanceof ti))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}dispatch(){let e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}add(e,t=null){if(typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Qs(this,new ti(e,!1,t))}once(e,t=null){if(typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Qs(this,new ti(e,!0,t))}detach(e){if(!(e instanceof ti))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}detachAll(){let e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function Re(){}function ta(i,e,t,r){var n=0,s=i.length;(function a(o){if(o||n===s){t&&t(o);return}r?setTimeout(function(){e(i[n++],a)},1):e(i[n++],a)})()}function jd(i){return function(){if(i===null)throw new Error("Callback was already called.");var t=i;i=null,t.apply(this,arguments)}}function Vd(i,e){if(e==null)e=1;else if(e===0)throw new Error("Concurrency must not be zero");var t=0,r={_tasks:[],concurrency:e,saturated:Re,unsaturated:Re,buffer:e/4,empty:Re,drain:Re,error:Re,started:!1,paused:!1,push:function(o,h){n(o,!1,h)},kill:function(){t=0,r.drain=Re,r.started=!1,r._tasks=[]},unshift:function(o,h){n(o,!0,h)},process:function(){for(;!r.paused&&t<r.concurrency&&r._tasks.length;){var o=r._tasks.shift();r._tasks.length===0&&r.empty(),t+=1,t===r.concurrency&&r.saturated(),i(o.data,jd(s(o)))}},length:function(){return r._tasks.length},running:function(){return t},idle:function(){return r._tasks.length+t===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var o=1;o<=r.concurrency;o++)r.process()}}};function n(a,o,h){if(h!=null&&typeof h!="function")throw new Error("task callback must be a function");if(r.started=!0,a==null&&r.idle()){setTimeout(function(){return r.drain()},1);return}var u={data:a,callback:typeof h=="function"?h:Re};o?r._tasks.unshift(u):r._tasks.push(u),setTimeout(function(){return r.process()},1)}function s(a){return function(){t-=1,a.callback.apply(a,arguments),arguments[0]!=null&&r.error(arguments[0],a.data),t<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var rn={};function Yd(i,e){var t=this;rn[i.url]?(i.data=rn[i.url],i.complete()):i.onComplete.once(function(){return rn[t.url]=t.data}),e()}function ea(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function Go(i,e,t){return e&&ea(i.prototype,e),t&&ea(i,t),i}var Wd=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),ei=null,qd=0,ra=200,Zd=204,Kd=1223,Jd=2;function Qd(){}var q=function(){i.setExtensionLoadType=function(r,n){ia(i._loadTypeMap,r,n)},i.setExtensionXhrType=function(r,n){ia(i._xhrTypeMap,r,n)};function i(t,r,n){if(typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(i.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=i.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Qd,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ce,this.onProgress=new ce,this.onComplete=new ce,this.onAfterMiddleware=new ce}var e=i.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=i.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(r){var n=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(n)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(i.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this.type=i.TYPE.IMAGE,this._loadElement("image");break;case i.LOAD_TYPE.AUDIO:this.type=i.TYPE.AUDIO,this._loadSourceElement("audio");break;case i.LOAD_TYPE.VIDEO:this.type=i.TYPE.VIDEO,this._loadSourceElement("video");break;case i.LOAD_TYPE.XHR:default:Wd&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e._hasFlag=function(r){return(this._flags&r)!==0},e._setFlag=function(r,n){this._flags=n?this._flags|r:this._flags&~r},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(i.STATUS_FLAGS.COMPLETE,!0),this._setFlag(i.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof window.Image<"u"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof window.Audio<"u"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,s=0;s<this.url.length;++s)this.data.appendChild(this._createSource(r,this.url[s],Array.isArray(n)?n[s]:n));else{var a=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(a)?a[0]:a))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=i.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},e._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},e._createSource=function(r,n,s){s||(s=r+"/"+this._getExtension(n));var a=document.createElement("source");return a.src=n,a.type=s,a},e._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},e._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var r=this.xhr;this.abort(nn(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},e._xhrOnTimeout=function(){var r=this.xhr;this.abort(nn(r)+" Request timed out.")},e._xhrOnAbort=function(){var r=this.xhr;this.abort(nn(r)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var r=this.xhr,n="",s=typeof r.status>"u"?ra:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType>"u")&&(n=r.responseText),s===qd&&(n.length>0||r.responseType===i.XHR_RESPONSE_TYPE.BUFFER)?s=ra:s===Kd&&(s=Zd);var a=s/100|0;if(a===Jd)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=i.TYPE.TEXT;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=i.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(n,"text/xml")}else{var h=document.createElement("div");h.innerHTML=n,this.data=h}this.type=i.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=r.response||n;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},e._determineCrossOrigin=function(r,n){if(r.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";n=n||window.location,ei||(ei=document.createElement("a")),ei.href=r,r=zo(ei.href,{strictMode:!0});var s=!r.port&&n.port===""||r.port===n.port,a=r.protocol?r.protocol+":":"";return r.host!==n.hostname||!s||a!==n.protocol?"anonymous":""},e._determineXhrType=function(){return i._xhrTypeMap[this.extension]||i.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return i._loadTypeMap[this.extension]||i.LOAD_TYPE.XHR},e._getExtension=function(){var r=this.url,n="";if(this.isDataUrl){var s=r.indexOf("/");n=r.substring(s+1,r.indexOf(";",s))}else{var a=r.indexOf("?"),o=r.indexOf("#"),h=Math.min(a>-1?a:r.length,o>-1?o:r.length);r=r.substring(0,h),n=r.substring(r.lastIndexOf(".")+1)}return n.toLowerCase()},e._getMimeFromXhrType=function(r){switch(r){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Go(i,[{key:"isDataUrl",get:function(){return this._hasFlag(i.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(i.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(i.STATUS_FLAGS.LOADING)}}]),i}();q.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};q.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};q.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};q.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};q._loadTypeMap={gif:q.LOAD_TYPE.IMAGE,png:q.LOAD_TYPE.IMAGE,bmp:q.LOAD_TYPE.IMAGE,jpg:q.LOAD_TYPE.IMAGE,jpeg:q.LOAD_TYPE.IMAGE,tif:q.LOAD_TYPE.IMAGE,tiff:q.LOAD_TYPE.IMAGE,webp:q.LOAD_TYPE.IMAGE,tga:q.LOAD_TYPE.IMAGE,svg:q.LOAD_TYPE.IMAGE,"svg+xml":q.LOAD_TYPE.IMAGE,mp3:q.LOAD_TYPE.AUDIO,ogg:q.LOAD_TYPE.AUDIO,wav:q.LOAD_TYPE.AUDIO,mp4:q.LOAD_TYPE.VIDEO,webm:q.LOAD_TYPE.VIDEO};q._xhrTypeMap={xhtml:q.XHR_RESPONSE_TYPE.DOCUMENT,html:q.XHR_RESPONSE_TYPE.DOCUMENT,htm:q.XHR_RESPONSE_TYPE.DOCUMENT,xml:q.XHR_RESPONSE_TYPE.DOCUMENT,tmx:q.XHR_RESPONSE_TYPE.DOCUMENT,svg:q.XHR_RESPONSE_TYPE.DOCUMENT,tsx:q.XHR_RESPONSE_TYPE.DOCUMENT,gif:q.XHR_RESPONSE_TYPE.BLOB,png:q.XHR_RESPONSE_TYPE.BLOB,bmp:q.XHR_RESPONSE_TYPE.BLOB,jpg:q.XHR_RESPONSE_TYPE.BLOB,jpeg:q.XHR_RESPONSE_TYPE.BLOB,tif:q.XHR_RESPONSE_TYPE.BLOB,tiff:q.XHR_RESPONSE_TYPE.BLOB,webp:q.XHR_RESPONSE_TYPE.BLOB,tga:q.XHR_RESPONSE_TYPE.BLOB,json:q.XHR_RESPONSE_TYPE.JSON,text:q.XHR_RESPONSE_TYPE.TEXT,txt:q.XHR_RESPONSE_TYPE.TEXT,ttf:q.XHR_RESPONSE_TYPE.BUFFER,otf:q.XHR_RESPONSE_TYPE.BUFFER};q.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function ia(i,e,t){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(i[e]=t)}function nn(i){return i.toString().replace("object ","")}var tp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ep(i){for(var e="",t=0;t<i.length;){for(var r=[0,0,0],n=[0,0,0,0],s=0;s<r.length;++s)t<i.length?r[s]=i.charCodeAt(t++)&255:r[s]=0;n[0]=r[0]>>2,n[1]=(r[0]&3)<<4|r[1]>>4,n[2]=(r[1]&15)<<2|r[2]>>6,n[3]=r[2]&63;var a=t-(i.length-1);switch(a){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64;break}for(var o=0;o<n.length;++o)e+=tp.charAt(n[o])}return e}var na=window.URL||window.webkitURL;function rp(i,e){if(!i.data){e();return}if(i.xhr&&i.xhrType===q.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof i.data=="string"){var t=i.xhr.getResponseHeader("content-type");if(t&&t.indexOf("image")===0){i.data=new Image,i.data.src="data:"+t+";base64,"+ep(i.xhr.responseText),i.type=q.TYPE.IMAGE,i.data.onload=function(){i.data.onload=null,e()};return}}else if(i.data.type.indexOf("image")===0){var r=na.createObjectURL(i.data);i.blob=i.data,i.data=new Image,i.data.src=r,i.type=q.TYPE.IMAGE,i.data.onload=function(){na.revokeObjectURL(r),i.data.onload=null,e()};return}}e()}var ip={caching:Yd,parsing:rp},sn=100,np=/(#[\w-]+)?$/,pe=function(){function i(t,r){var n=this;t===void 0&&(t=""),r===void 0&&(r=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(o,h){return n._loadResource(o,h)},this._queue=Vd(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ce,this.onError=new ce,this.onLoad=new ce,this.onStart=new ce,this.onComplete=new ce;for(var s=0;s<i._defaultBeforeMiddleware.length;++s)this.pre(i._defaultBeforeMiddleware[s]);for(var a=0;a<i._defaultAfterMiddleware.length;++a)this.use(i._defaultAfterMiddleware[a])}var e=i.prototype;return e.add=function(r,n,s,a){if(Array.isArray(r)){for(var o=0;o<r.length;++o)this.add(r[o]);return this}if(typeof r=="object"&&(a=n||r.callback||r.onComplete,s=r,n=r.url,r=r.name||r.key||r.url),typeof n!="string"&&(a=s,s=n,n=r),typeof n!="string")throw new Error("No url passed to add resource to loader.");if(typeof s=="function"&&(a=s,s=null),this.loading&&(!s||!s.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(n=this._prepareUrl(n),this.resources[r]=new q(r,n,s),typeof a=="function"&&this.resources[r].onAfterMiddleware.once(a),this.loading){for(var h=s.parentResource,u=[],l=0;l<h.children.length;++l)h.children[l].isComplete||u.push(h.children[l]);var f=h.progressChunk*(u.length+1),c=f/(u.length+2);h.children.push(this.resources[r]),h.progressChunk=c;for(var d=0;d<u.length;++d)u[d].progressChunk=c;this.resources[r].progressChunk=c}return this._queue.push(this.resources[r]),this},e.pre=function(r){return this._beforeMiddleware.push(r),this},e.use=function(r){return this._afterMiddleware.push(r),this},e.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var n=this.resources[r];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort()}return this.resources={},this},e.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,s=sn/n,a=0;a<this._queue._tasks.length;++a)this._queue._tasks[a].data.progressChunk=s;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(r){var n=zo(r,{strictMode:!0}),s;if(n.protocol||!n.path||r.indexOf("//")===0?s=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?s=this.baseUrl+"/"+r:s=this.baseUrl+r,this.defaultQueryString){var a=np.exec(s)[0];s=s.substr(0,s.length-a.length),s.indexOf("?")!==-1?s+="&"+this.defaultQueryString:s+="?"+this.defaultQueryString,s+=a}return s},e._loadResource=function(r,n){var s=this;r._dequeue=n,ta(this._beforeMiddleware,function(a,o){a.call(s,r,function(){o(r.isComplete?{}:null)})},function(){r.isComplete?s._onLoad(r):(r._onLoadBinding=r.onComplete.once(s._onLoad,s),r.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=sn,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(r){var n=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),ta(this._afterMiddleware,function(s,a){s.call(n,r,a)},function(){r.onAfterMiddleware.dispatch(r),n.progress=Math.min(sn,n.progress+r.progressChunk),n.onProgress.dispatch(n,r),r.error?n.onError.dispatch(r.error,n,r):n.onLoad.dispatch(n,r),n._resourcesParsing.splice(n._resourcesParsing.indexOf(r),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},Go(i,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r}}]),i}();pe._defaultBeforeMiddleware=[];pe._defaultAfterMiddleware=[];pe.pre=function(e){return pe._defaultBeforeMiddleware.push(e),pe};pe.use=function(e){return pe._defaultAfterMiddleware.push(e),pe};/*!
 * @pixi/loaders - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fn=function(i,e){return Fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Fn(i,e)};function sp(i,e){Fn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ap=function(){function i(){}return i.add=function(){q.setExtensionLoadType("svg",q.LOAD_TYPE.XHR),q.setExtensionXhrType("svg",q.XHR_RESPONSE_TYPE.TEXT)},i.use=function(e,t){if(e.data&&(e.type===q.TYPE.IMAGE||e.extension==="svg")){var r=e.data,n=e.url,s=e.name,a=e.metadata;it.fromLoader(r,n,s,a).then(function(o){e.texture=o,t()}).catch(t)}else t()},i}(),ge=function(i){sp(e,i);function e(t,r){for(var n=i.call(this,t,r)||this,s=0;s<e._plugins.length;++s){var a=e._plugins[s],o=a.pre,h=a.use;o&&n.pre(o),h&&n.use(h)}return n._protected=!1,n}return e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(pe);ge.registerPlugin({use:ip.parsing});ge.registerPlugin(ap);var op=function(){function i(){}return i.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?ge.shared:new ge},i.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},i}(),ie=q;/*!
 * @pixi/compressed-textures - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tt,ct;(function(i){i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(ct||(ct={}));var bi=(Tt={},Tt[ct.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Tt[ct.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Tt[ct.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Tt[ct.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Tt[ct.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Tt[ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Tt[ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Tt[ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Tt[ct.COMPRESSED_R11_EAC]=.5,Tt[ct.COMPRESSED_SIGNED_R11_EAC]=.5,Tt[ct.COMPRESSED_RG11_EAC]=1,Tt[ct.COMPRESSED_SIGNED_RG11_EAC]=1,Tt[ct.COMPRESSED_RGB8_ETC2]=.5,Tt[ct.COMPRESSED_RGBA8_ETC2_EAC]=.5,Tt[ct.COMPRESSED_SRGB8_ETC2]=.5,Tt[ct.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=.5,Tt[ct.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Tt[ct.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Tt[ct.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Tt[ct.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Tt[ct.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Tt[ct.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Tt[ct.COMPRESSED_RGB_ETC1_WEBGL]=.5,Tt[ct.COMPRESSED_RGB_ATC_WEBGL]=.5,Tt[ct.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Tt[ct.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Tt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Nn=function(i,e){return Nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Nn(i,e)};function $o(i,e){Nn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function hp(i,e,t,r){return new(t||(t=Promise))(function(n,s){function a(u){try{h(r.next(u))}catch(l){s(l)}}function o(u){try{h(r.throw(u))}catch(l){s(l)}}function h(u){u.done?n(u.value):new t(function(l){l(u.value)}).then(a,o)}h((r=r.apply(i,e||[])).next())})}function up(i,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,n,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(l){return h([u,l])}}function h(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(i,t)}catch(l){u=[6,l],n=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var lp=function(i){$o(e,i);function e(t,r){r===void 0&&(r={width:1,height:1,autoLoad:!0});var n=this,s,a;return typeof t=="string"?(s=t,a=new Uint8Array):(s=null,a=t),n=i.call(this,a,r)||this,n.origin=s,n.buffer=a?new Dn(a):null,n.origin&&r.autoLoad!==!1&&n.load(),a&&a.length&&(n.loaded=!0,n.onBlobLoaded(n.buffer.rawBinaryData)),n}return e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return hp(this,void 0,Promise,function(){var t,r,n;return up(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return t=s.sent(),[4,t.blob()];case 2:return r=s.sent(),[4,r.arrayBuffer()];case 3:return n=s.sent(),this.data=new Uint32Array(n),this.buffer=new Dn(n),this.loaded=!0,this.onBlobLoaded(n),this.update(),[2,this]}})})},e}(Ci),Un=function(i){$o(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.format=r.format,n.levels=r.levels||1,n._width=r.width,n._height=r.height,n._extension=e._formatToExtension(n.format),(r.levelBuffers||n.buffer)&&(n._levelBuffers=r.levelBuffers||e._createLevelBuffers(t instanceof Uint8Array?t:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return e.prototype.upload=function(t,r,n){var s=t.gl,a=t.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var o=0,h=this.levels;o<h;o++){var u=this._levelBuffers[o],l=u.levelID,f=u.levelWidth,c=u.levelHeight,d=u.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,l,this.format,f,c,0,d)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,r,n,s,a,o,h){for(var u=new Array(n),l=t.byteOffset,f=o,c=h,d=f+s-1&~(s-1),p=c+a-1&~(a-1),v=d*p*bi[r],_=0;_<n;_++)u[_]={levelID:_,levelWidth:n>1?f:d,levelHeight:n>1?c:p,levelBuffer:new Uint8Array(t.buffer,l,v)},l+=v,f=f>>1||1,c=c>>1||1,d=f+s-1&~(s-1),p=c+a-1&~(a-1),v=d*p*bi[r];return u},e}(lp),fp=function(){function i(){}return i.use=function(e,t){var r=e.data,n=this;if(i.textureExtensions||i.autoDetectExtensions(),e.type===ie.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var s=r.textures,a=void 0,o=void 0,h=0,u=s.length;h<u;h++){var l=s[h],f=l.src,c=l.format;if(c||(o=f),i.textureFormats[c]){a=f;break}}if(a=a||o,!a)throw new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback");if(a===e.url)throw new Error("URL of compressed texture cannot be the same as the manifest's URL");var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e};n.add(r.cacheID,a,d,function(){t()})}else t()},i.autoDetectExtensions=function(e){if(!e){var t=document.createElement("canvas"),r=t.getContext("webgl");if(!r){console.error("WebGL not available for compressed textures. Silently failing.");return}e={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")}}i.textureExtensions=e,i.textureFormats={};for(var n in e){var s=e[n];!s||Object.assign(i.textureFormats,Object.getPrototypeOf(s))}},i}();function Xo(i,e){!e||e.forEach(function(t,r){var n=new Et(t,{mipmap:Ge.OFF,alphaMode:_e.NO_PREMULTIPLIED_ALPHA}),s=i+"-"+(r+1);Et.addToCache(n,s),it.addToCache(new it(n),s),r===0&&(Et.addToCache(n,i),it.addToCache(new it(n),i))})}var _r,Jt;ie.setExtensionXhrType("dds",ie.XHR_RESPONSE_TYPE.BUFFER);var an=4,ri=124,cp=32,sa=20,dp=542327876,ii={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},pp={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ni={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},te;(function(i){i[i.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",i[i.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",i[i.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",i[i.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",i[i.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",i[i.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",i[i.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",i[i.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",i[i.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",i[i.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",i[i.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",i[i.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",i[i.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",i[i.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",i[i.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",i[i.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",i[i.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",i[i.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",i[i.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",i[i.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",i[i.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",i[i.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",i[i.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",i[i.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",i[i.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",i[i.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",i[i.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",i[i.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",i[i.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",i[i.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",i[i.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",i[i.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",i[i.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",i[i.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",i[i.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",i[i.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",i[i.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",i[i.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",i[i.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",i[i.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",i[i.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",i[i.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",i[i.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",i[i.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",i[i.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",i[i.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",i[i.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",i[i.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",i[i.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",i[i.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",i[i.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",i[i.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",i[i.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",i[i.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",i[i.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",i[i.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",i[i.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",i[i.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",i[i.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",i[i.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",i[i.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",i[i.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",i[i.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",i[i.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",i[i.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",i[i.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",i[i.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",i[i.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",i[i.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",i[i.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",i[i.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",i[i.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",i[i.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",i[i.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",i[i.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",i[i.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",i[i.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",i[i.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",i[i.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",i[i.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",i[i.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",i[i.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",i[i.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",i[i.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",i[i.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",i[i.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",i[i.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",i[i.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",i[i.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",i[i.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",i[i.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",i[i.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",i[i.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",i[i.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",i[i.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",i[i.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",i[i.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",i[i.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",i[i.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",i[i.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",i[i.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",i[i.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",i[i.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",i[i.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",i[i.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",i[i.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",i[i.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",i[i.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",i[i.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",i[i.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",i[i.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",i[i.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",i[i.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",i[i.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",i[i.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",i[i.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",i[i.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",i[i.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",i[i.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",i[i.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",i[i.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",i[i.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(te||(te={}));var Bn;(function(i){i[i.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",i[i.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",i[i.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(Bn||(Bn={}));var vp=1,_p=2,mp=4,gp=64,yp=512,bp=131072,xp=827611204,Tp=861165636,wp=894720068,Ep=808540228,Sp=4,Pp=(_r={},_r[xp]=ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,_r[Tp]=ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,_r[wp]=ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,_r),Ip=(Jt={},Jt[te.DXGI_FORMAT_BC1_TYPELESS]=ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,Jt[te.DXGI_FORMAT_BC1_UNORM]=ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,Jt[te.DXGI_FORMAT_BC2_TYPELESS]=ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,Jt[te.DXGI_FORMAT_BC2_UNORM]=ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,Jt[te.DXGI_FORMAT_BC3_TYPELESS]=ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,Jt[te.DXGI_FORMAT_BC3_UNORM]=ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,Jt[te.DXGI_FORMAT_BC1_UNORM_SRGB]=ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Jt[te.DXGI_FORMAT_BC2_UNORM_SRGB]=ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Jt[te.DXGI_FORMAT_BC3_UNORM_SRGB]=ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Jt),Cp=function(){function i(){}return i.use=function(e,t){e.extension==="dds"&&e.data&&Xo(e.name||e.url,i.parse(e.data)),t()},i.parse=function(e){var t=new Uint32Array(e),r=t[0];if(r!==dp)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,ri/Uint32Array.BYTES_PER_ELEMENT),s=n[ii.HEIGHT],a=n[ii.WIDTH],o=n[ii.MIPMAP_COUNT],h=new Uint32Array(e,ii.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,cp/Uint32Array.BYTES_PER_ELEMENT),u=h[vp];if(u&mp){var l=h[pp.FOURCC];if(l!==Ep){var f=Pp[l],c=an+ri,d=new Uint8Array(e,c),p=new Un(d,{format:f,width:a,height:s,levels:o});return[p]}var v=an+ri,_=new Uint32Array(t.buffer,v,sa/Uint32Array.BYTES_PER_ELEMENT),g=_[ni.DXGI_FORMAT],m=_[ni.RESOURCE_DIMENSION],b=_[ni.MISC_FLAG],x=_[ni.ARRAY_SIZE],y=Ip[g];if(y===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+g);if(b===Sp)throw new Error("DDSLoader does not support cubemap textures");if(m===Bn.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var E=new Array,L=an+ri+sa;if(x===1)E.push(new Uint8Array(e,L));else{for(var M=bi[y],C=0,A=a,z=s,R=0;R<o;R++){var st=Math.max(1,A+3&-4),mt=Math.max(1,z+3&-4),F=st*mt*M;C+=F,A=A>>>1,z=z>>>1}for(var U=L,R=0;R<x;R++)E.push(new Uint8Array(e,U,C)),U+=C}return E.map(function(K){return new Un(K,{format:y,width:a,height:s,levels:o})})}throw u&gp?new Error("DDSLoader does not support uncompressed texture data."):u&yp?new Error("DDSLoader does not supported YUV uncompressed texture data."):u&bp?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):u&_p?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},i}(),qe,Oe,mr;ie.setExtensionXhrType("ktx",ie.XHR_RESPONSE_TYPE.BUFFER);var aa=[171,75,84,88,32,49,49,187,13,10,26,10],Ap=67305985,Qt={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Rp=64,oa=(qe={},qe[It.UNSIGNED_BYTE]=1,qe[It.UNSIGNED_SHORT]=2,qe[It.FLOAT]=4,qe[It.HALF_FLOAT]=8,qe),Op=(Oe={},Oe[se.RGBA]=4,Oe[se.RGB]=3,Oe[se.LUMINANCE]=1,Oe[se.LUMINANCE_ALPHA]=2,Oe[se.ALPHA]=1,Oe),Lp=(mr={},mr[It.UNSIGNED_SHORT_4_4_4_4]=2,mr[It.UNSIGNED_SHORT_5_5_5_1]=2,mr[It.UNSIGNED_SHORT_5_6_5]=2,mr),Mp=function(){function i(){}return i.use=function(e,t){e.extension==="ktx"&&e.data&&i.parse(e.name||e.url,e.data),t()},i.parse=function(e,t){var r=new DataView(t);if(!!i.validate(e,r)){var n=r.getUint32(Qt.ENDIANNESS,!0)===Ap,s=r.getUint32(Qt.GL_TYPE,n),a=r.getUint32(Qt.GL_FORMAT,n),o=r.getUint32(Qt.GL_INTERNAL_FORMAT,n),h=r.getUint32(Qt.PIXEL_WIDTH,n),u=r.getUint32(Qt.PIXEL_HEIGHT,n)||1,l=r.getUint32(Qt.PIXEL_DEPTH,n)||1,f=r.getUint32(Qt.NUMBER_OF_ARRAY_ELEMENTS,n)||1,c=r.getUint32(Qt.NUMBER_OF_FACES,n),d=r.getUint32(Qt.NUMBER_OF_MIPMAP_LEVELS,n),p=r.getUint32(Qt.BYTES_OF_KEY_VALUE_DATA,n);if(u===0||l!==1)throw new Error("Only 2D textures are supported");if(c!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");var v=4,_=4,g=h+3&-4,m=u+3&-4,b=new Array(f),x=h*u;s===0&&(x=g*m);var y;if(s!==0?oa[s]?y=oa[s]*Op[a]:y=Lp[s]:y=bi[o],y===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=x*y,L=E,M=h,C=u,A=g,z=m,R=Rp+p,st=0;st<d;st++){for(var mt=r.getUint32(R,n),F=R+4,U=0;U<f;U++){var K=b[U];K||(K=b[U]=new Array(d)),K[st]={levelID:st,levelWidth:d>1?M:A,levelHeight:d>1?C:z,levelBuffer:new Uint8Array(t,F,L)},F+=L}R+=mt+4,R=R%4!==0?R+4-R%4:R,M=M>>1||1,C=C>>1||1,A=M+v-1&~(v-1),z=C+_-1&~(_-1),L=A*z*y}if(s!==0)throw new Error("TODO: Uncompressed");var xt=b.map(function(Y){return new Un(null,{format:o,width:h,height:u,levels:d,levelBuffers:Y})});Xo(e,xt)}},i.validate=function(e,t){for(var r=0;r<aa.length;r++)if(t.getUint8(r)!==aa[r])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},i}();/*!
 * @pixi/particles - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kn=function(i,e){return kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},kn(i,e)};function Ho(i,e){kn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ha=function(i){Ho(e,i);function e(t,r,n,s){t===void 0&&(t=1500),n===void 0&&(n=16384),s===void 0&&(s=!1);var a=i.call(this)||this,o=16384;return n>o&&(n=o),a._properties=[!1,!0,!1,!1,!1],a._maxSize=t,a._batchSize=n,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=et.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(r),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,or(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var r=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Wt),ua=function(){function i(e,t,r){this.geometry=new Ur,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||It.FLOAT,offset:s.offset},t[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return i.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Ut(ec(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=t,t+=n.size,this.dynamicStride+=n.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new Ut(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var r=0;r<this.staticProperties.length;++r){var n=this.staticProperties[r];n.offset=a,a+=n.size,this.staticStride+=n.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Ut(this.staticData,!0,!1);for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];e.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===It.UNSIGNED_BYTE,n.type,this.dynamicStride*4,n.offset*4)}for(var r=0;r<this.staticProperties.length;++r){var n=this.staticProperties[r];e.addAttribute(n.attributeName,this.staticBuffer,0,n.type===It.UNSIGNED_BYTE,n.type,this.staticStride*4,n.offset*4)}},i.prototype.uploadDynamic=function(e,t,r){for(var n=0;n<this.dynamicProperties.length;n++){var s=this.dynamicProperties[n];s.uploadFunction(e,t,r,s.type===It.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},i.prototype.uploadStatic=function(e,t,r){for(var n=0;n<this.staticProperties.length;n++){var s=this.staticProperties[n];s.uploadFunction(e,t,r,s.type===It.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},i.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},i}(),Dp=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Fp=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Np=function(i){Ho(e,i);function e(t){var r=i.call(this,t)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Mt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:It.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Xe.from(Fp,Dp,{}),r.state=je.for2d(),r}return e.prototype.render=function(t){var r=t.children,n=t._maxSize,s=t._batchSize,a=this.renderer,o=r.length;if(o!==0){o>n&&!t.autoResize&&(o=n);var h=t._buffers;h||(h=t._buffers=this.generateBuffers(t));var u=r[0]._texture.baseTexture;this.state.blendMode=bo(t.blendMode,u.alphaMode),a.state.set(this.state);var l=a.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=tc(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var c=!1,d=0,p=0;d<o;d+=s,p+=1){var v=o-d;v>s&&(v=s),p>=h.length&&h.push(this._generateOneMoreBuffer(t));var _=h[p];_.uploadDynamic(r,d,v);var g=t._bufferUpdateIDs[p]||0;c=c||_._updateID<g,c&&(_._updateID=t._updateID,_.uploadStatic(r,d,v)),a.geometry.bind(_.geometry),l.drawElements(l.TRIANGLES,v*6,l.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var r=[],n=t._maxSize,s=t._batchSize,a=t._properties,o=0;o<n;o+=s)r.push(new ua(this.properties,a,s));return r},e.prototype._generateOneMoreBuffer=function(t){var r=t._batchSize,n=t._properties;return new ua(this.properties,n,r)},e.prototype.uploadVertices=function(t,r,n,s,a,o){for(var h=0,u=0,l=0,f=0,c=0;c<n;++c){var d=t[r+c],p=d._texture,v=d.scale.x,_=d.scale.y,g=p.trim,m=p.orig;g?(u=g.x-d.anchor.x*m.width,h=u+g.width,f=g.y-d.anchor.y*m.height,l=f+g.height):(h=m.width*(1-d.anchor.x),u=m.width*-d.anchor.x,l=m.height*(1-d.anchor.y),f=m.height*-d.anchor.y),s[o]=u*v,s[o+1]=f*_,s[o+a]=h*v,s[o+a+1]=f*_,s[o+a*2]=h*v,s[o+a*2+1]=l*_,s[o+a*3]=u*v,s[o+a*3+1]=l*_,o+=a*4}},e.prototype.uploadPosition=function(t,r,n,s,a,o){for(var h=0;h<n;h++){var u=t[r+h].position;s[o]=u.x,s[o+1]=u.y,s[o+a]=u.x,s[o+a+1]=u.y,s[o+a*2]=u.x,s[o+a*2+1]=u.y,s[o+a*3]=u.x,s[o+a*3+1]=u.y,o+=a*4}},e.prototype.uploadRotation=function(t,r,n,s,a,o){for(var h=0;h<n;h++){var u=t[r+h].rotation;s[o]=u,s[o+a]=u,s[o+a*2]=u,s[o+a*3]=u,o+=a*4}},e.prototype.uploadUvs=function(t,r,n,s,a,o){for(var h=0;h<n;++h){var u=t[r+h]._texture._uvs;u?(s[o]=u.x0,s[o+1]=u.y0,s[o+a]=u.x1,s[o+a+1]=u.y1,s[o+a*2]=u.x2,s[o+a*2+1]=u.y2,s[o+a*3]=u.x3,s[o+a*3+1]=u.y3,o+=a*4):(s[o]=0,s[o+1]=0,s[o+a]=0,s[o+a+1]=0,s[o+a*2]=0,s[o+a*2+1]=0,s[o+a*3]=0,s[o+a*3+1]=0,o+=a*4)}},e.prototype.uploadTint=function(t,r,n,s,a,o){for(var h=0;h<n;++h){var u=t[r+h],l=u._texture.baseTexture.alphaMode>0,f=u.alpha,c=f<1&&l?ns(u._tintRGB,f):u._tintRGB+(f*255<<24);s[o]=c,s[o+a]=c,s[o+a*2]=c,s[o+a*3]=c,o+=a*4}},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Ri);/*!
 * @pixi/graphics - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var be;(function(i){i.MITER="miter",i.BEVEL="bevel",i.ROUND="round"})(be||(be={}));var xe;(function(i){i.BUTT="butt",i.ROUND="round",i.SQUARE="square"})(xe||(xe={}));var Or={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(i,e){if(e===void 0&&(e=20),!this.adaptive||!i||isNaN(i))return e;var t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},jo=function(){function i(){this.color=16777215,this.alpha=1,this.texture=it.WHITE,this.matrix=null,this.visible=!1,this.reset()}return i.prototype.clone=function(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},i.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=it.WHITE,this.matrix=null,this.visible=!1},i.prototype.destroy=function(){this.texture=null,this.matrix=null},i}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zn=function(i,e){return zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},zn(i,e)};function os(i,e){zn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Vo={build:function(i){i.points=i.shape.points.slice()},triangulate:function(i,e){var t=i.points,r=i.holes,n=e.points,s=e.indices;if(t.length>=6){for(var a=[],o=0;o<r.length;o++){var h=r[o];a.push(t.length/2),t=t.concat(h.points)}var u=Ei.exports(t,a,2);if(!u)return;for(var l=n.length/2,o=0;o<u.length;o+=3)s.push(u[o]+l),s.push(u[o+1]+l),s.push(u[o+2]+l);for(var o=0;o<t.length;o++)n.push(t[o])}}},la={build:function(i){var e=i.shape,t=i.points,r=e.x,n=e.y,s,a;if(t.length=0,i.type===Ot.CIRC)s=e.radius,a=e.radius;else{var o=i.shape;s=o.width,a=o.height}if(!(s===0||a===0)){var h=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(s+a));h/=2.3;for(var u=Math.PI*2/h,l=0;l<h-.5;l++)t.push(r+Math.sin(-u*l)*s,n+Math.cos(-u*l)*a);t.push(t[0],t[1])}},triangulate:function(i,e){var t=i.points,r=e.points,n=e.indices,s=r.length/2,a=s,o=i.shape,h=i.matrix,u=o.x,l=o.y;r.push(i.matrix?h.a*u+h.c*l+h.tx:u,i.matrix?h.b*u+h.d*l+h.ty:l);for(var f=0;f<t.length;f+=2)r.push(t[f],t[f+1]),n.push(s++,a,s)}},Up={build:function(i){var e=i.shape,t=e.x,r=e.y,n=e.width,s=e.height,a=i.points;a.length=0,a.push(t,r,t+n,r,t+n,r+s,t,r+s)},triangulate:function(i,e){var t=i.points,r=e.points,n=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function Ze(i,e,t){var r=e-i;return i+r*t}function si(i,e,t,r,n,s,a){a===void 0&&(a=[]);for(var o=20,h=a,u=0,l=0,f=0,c=0,d=0,p=0,v=0,_=0;v<=o;++v)_=v/o,u=Ze(i,t,_),l=Ze(e,r,_),f=Ze(t,n,_),c=Ze(r,s,_),d=Ze(u,f,_),p=Ze(l,c,_),h.push(d,p);return h}var Bp={build:function(i){var e=i.shape,t=i.points,r=e.x,n=e.y,s=e.width,a=e.height,o=Math.max(0,Math.min(e.radius,Math.min(s,a)/2));t.length=0,o?(si(r,n+o,r,n,r+o,n,t),si(r+s-o,n,r+s,n,r+s,n+o,t),si(r+s,n+a-o,r+s,n+a,r+s-o,n+a,t),si(r+o,n+a,r,n+a,r,n+a-o,t)):t.push(r,n,r+s,n,r+s,n+a,r,n+a)},triangulate:function(i,e){for(var t=i.points,r=e.points,n=e.indices,s=r.length/2,a=Ei.exports(t,null,2),o=0,h=a.length;o<h;o+=3)n.push(a[o]+s),n.push(a[o+1]+s),n.push(a[o+2]+s);for(var o=0,h=t.length;o<h;o++)r.push(t[o],t[++o])}};function fa(i,e,t,r,n,s,a,o){var h=i-t*n,u=e-r*n,l=i+t*s,f=e+r*s,c,d;a?(c=r,d=-t):(c=-r,d=t);var p=h+c,v=u+d,_=l+c,g=f+d;return o.push(p,v),o.push(_,g),2}function Ke(i,e,t,r,n,s,a,o){var h=t-i,u=r-e,l=Math.atan2(h,u),f=Math.atan2(n-i,s-e);o&&l<f?l+=Math.PI*2:!o&&l>f&&(f+=Math.PI*2);var c=l,d=f-l,p=Math.abs(d),v=Math.sqrt(h*h+u*u),_=(15*p*Math.sqrt(v)/Math.PI>>0)+1,g=d/_;if(c+=g,o){a.push(i,e),a.push(t,r);for(var m=1,b=c;m<_;m++,b+=g)a.push(i,e),a.push(i+Math.sin(b)*v,e+Math.cos(b)*v);a.push(i,e),a.push(n,s)}else{a.push(t,r),a.push(i,e);for(var m=1,b=c;m<_;m++,b+=g)a.push(i+Math.sin(b)*v,e+Math.cos(b)*v),a.push(i,e);a.push(n,s),a.push(i,e)}return _*2}function kp(i,e){var t=i.shape,r=i.points||t.points.slice(),n=e.closePointEps;if(r.length!==0){var s=i.lineStyle,a=new Lt(r[0],r[1]),o=new Lt(r[r.length-2],r[r.length-1]),h=t.type!==Ot.POLY||t.closeStroke,u=Math.abs(a.x-o.x)<n&&Math.abs(a.y-o.y)<n;if(h){r=r.slice(),u&&(r.pop(),r.pop(),o.set(r[r.length-2],r[r.length-1]));var l=(a.x+o.x)*.5,f=(o.y+a.y)*.5;r.unshift(l,f),r.push(l,f)}var c=e.points,d=r.length/2,p=r.length,v=c.length/2,_=s.width/2,g=_*_,m=s.miterLimit*s.miterLimit,b=r[0],x=r[1],y=r[2],E=r[3],L=0,M=0,C=-(x-E),A=b-y,z=0,R=0,st=Math.sqrt(C*C+A*A);C/=st,A/=st,C*=_,A*=_;var mt=s.alignment,F=(1-mt)*2,U=mt*2;h||(s.cap===xe.ROUND?p+=Ke(b-C*(F-U)*.5,x-A*(F-U)*.5,b-C*F,x-A*F,b+C*U,x+A*U,c,!0)+2:s.cap===xe.SQUARE&&(p+=fa(b,x,C,A,F,U,!0,c))),c.push(b-C*F,x-A*F),c.push(b+C*U,x+A*U);for(var K=1;K<d-1;++K){b=r[(K-1)*2],x=r[(K-1)*2+1],y=r[K*2],E=r[K*2+1],L=r[(K+1)*2],M=r[(K+1)*2+1],C=-(x-E),A=b-y,st=Math.sqrt(C*C+A*A),C/=st,A/=st,C*=_,A*=_,z=-(E-M),R=y-L,st=Math.sqrt(z*z+R*R),z/=st,R/=st,z*=_,R*=_;var xt=y-b,Y=x-E,N=y-L,B=M-E,tt=Y*N-B*xt,dt=tt<0;if(Math.abs(tt)<.1){c.push(y-C*F,E-A*F),c.push(y+C*U,E+A*U);continue}var H=(-C+b)*(-A+E)-(-C+y)*(-A+x),at=(-z+L)*(-R+E)-(-z+y)*(-R+M),J=(xt*at-N*H)/tt,ut=(B*H-Y*at)/tt,ot=(J-y)*(J-y)+(ut-E)*(ut-E),rt=y+(J-y)*F,lt=E+(ut-E)*F,D=y-(J-y)*U,Q=E-(ut-E)*U,ft=Math.min(xt*xt+Y*Y,N*N+B*B),k=dt?F:U,ht=ft+k*k*g,bt=ot<=ht;bt?s.join===be.BEVEL||ot/g>m?(dt?(c.push(rt,lt),c.push(y+C*U,E+A*U),c.push(rt,lt),c.push(y+z*U,E+R*U)):(c.push(y-C*F,E-A*F),c.push(D,Q),c.push(y-z*F,E-R*F),c.push(D,Q)),p+=2):s.join===be.ROUND?dt?(c.push(rt,lt),c.push(y+C*U,E+A*U),p+=Ke(y,E,y+C*U,E+A*U,y+z*U,E+R*U,c,!0)+4,c.push(rt,lt),c.push(y+z*U,E+R*U)):(c.push(y-C*F,E-A*F),c.push(D,Q),p+=Ke(y,E,y-C*F,E-A*F,y-z*F,E-R*F,c,!1)+4,c.push(y-z*F,E-R*F),c.push(D,Q)):(c.push(rt,lt),c.push(D,Q)):(c.push(y-C*F,E-A*F),c.push(y+C*U,E+A*U),s.join===be.BEVEL||ot/g>m||(s.join===be.ROUND?dt?p+=Ke(y,E,y+C*U,E+A*U,y+z*U,E+R*U,c,!0)+2:p+=Ke(y,E,y-C*F,E-A*F,y-z*F,E-R*F,c,!1)+2:(dt?(c.push(D,Q),c.push(D,Q)):(c.push(rt,lt),c.push(rt,lt)),p+=2)),c.push(y-z*F,E-R*F),c.push(y+z*U,E+R*U),p+=2)}b=r[(d-2)*2],x=r[(d-2)*2+1],y=r[(d-1)*2],E=r[(d-1)*2+1],C=-(x-E),A=b-y,st=Math.sqrt(C*C+A*A),C/=st,A/=st,C*=_,A*=_,c.push(y-C*F,E-A*F),c.push(y+C*U,E+A*U),h||(s.cap===xe.ROUND?p+=Ke(y-C*(F-U)*.5,E-A*(F-U)*.5,y-C*F,E-A*F,y+C*U,E+A*U,c,!1)+2:s.cap===xe.SQUARE&&(p+=fa(y,E,C,A,F,U,!1,c)));for(var pt=e.indices,gt=Or.epsilon*Or.epsilon,K=v;K<p+v-2;++K)b=c[K*2],x=c[K*2+1],y=c[(K+1)*2],E=c[(K+1)*2+1],L=c[(K+2)*2],M=c[(K+2)*2+1],!(Math.abs(b*(E-M)+y*(M-x)+L*(x-E))<gt)&&pt.push(K,K+1,K+2)}}function zp(i,e){var t=0,r=i.shape,n=i.points||r.points,s=r.type!==Ot.POLY||r.closeStroke;if(n.length!==0){var a=e.points,o=e.indices,h=n.length/2,u=a.length/2,l=u;for(a.push(n[0],n[1]),t=1;t<h;t++)a.push(n[t*2],n[t*2+1]),o.push(l,l+1),l++;s&&o.push(l,u)}}function ca(i,e){i.lineStyle.native?zp(i,e):kp(i,e)}var da=function(){function i(){}return i.curveTo=function(e,t,r,n,s,a){var o=a[a.length-2],h=a[a.length-1],u=h-t,l=o-e,f=n-t,c=r-e,d=Math.abs(u*c-l*f);if(d<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;var p=u*u+l*l,v=f*f+c*c,_=u*f+l*c,g=s*Math.sqrt(p)/d,m=s*Math.sqrt(v)/d,b=g*_/p,x=m*_/v,y=g*c+m*l,E=g*f+m*u,L=l*(m+b),M=u*(m+b),C=c*(g+x),A=f*(g+x),z=Math.atan2(M-E,L-y),R=Math.atan2(A-E,C-y);return{cx:y+e,cy:E+t,radius:s,startAngle:z,endAngle:R,anticlockwise:l*f>c*u}},i.arc=function(e,t,r,n,s,a,o,h,u){for(var l=o-a,f=Or._segmentsCount(Math.abs(l)*s,Math.ceil(Math.abs(l)/gi)*40),c=l/(f*2),d=c*2,p=Math.cos(c),v=Math.sin(c),_=f-1,g=_%1/_,m=0;m<=_;++m){var b=m+g*m,x=c+a+d*b,y=Math.cos(x),E=-Math.sin(x);u.push((p*y+v*E)*s+r,(p*-E+v*y)*s+n)}},i}(),Gp=function(){function i(){}return i.curveLength=function(e,t,r,n,s,a,o,h){for(var u=10,l=0,f=0,c=0,d=0,p=0,v=0,_=0,g=0,m=0,b=0,x=0,y=e,E=t,L=1;L<=u;++L)f=L/u,c=f*f,d=c*f,p=1-f,v=p*p,_=v*p,g=_*e+3*v*f*r+3*p*c*s+d*o,m=_*t+3*v*f*n+3*p*c*a+d*h,b=y-g,x=E-m,y=g,E=m,l+=Math.sqrt(b*b+x*x);return l},i.curveTo=function(e,t,r,n,s,a,o){var h=o[o.length-2],u=o[o.length-1];o.length-=2;var l=Or._segmentsCount(i.curveLength(h,u,e,t,r,n,s,a)),f=0,c=0,d=0,p=0,v=0;o.push(h,u);for(var _=1,g=0;_<=l;++_)g=_/l,f=1-g,c=f*f,d=c*f,p=g*g,v=p*g,o.push(d*h+3*c*g*e+3*f*p*r+v*s,d*u+3*c*g*t+3*f*p*n+v*a)},i}(),$p=function(){function i(){}return i.curveLength=function(e,t,r,n,s,a){var o=e-2*r+s,h=t-2*n+a,u=2*r-2*e,l=2*n-2*t,f=4*(o*o+h*h),c=4*(o*u+h*l),d=u*u+l*l,p=2*Math.sqrt(f+c+d),v=Math.sqrt(f),_=2*f*v,g=2*Math.sqrt(d),m=c/v;return(_*p+v*c*(p-g)+(4*d*f-c*c)*Math.log((2*v+m+p)/(m+g)))/(4*_)},i.curveTo=function(e,t,r,n,s){for(var a=s[s.length-2],o=s[s.length-1],h=Or._segmentsCount(i.curveLength(a,o,e,t,r,n)),u=0,l=0,f=1;f<=h;++f){var c=f/h;u=a+(e-a)*c,l=o+(t-o)*c,s.push(u+(e+(r-e)*c-u)*c,l+(t+(n-t)*c-l)*c)}},i}(),Xp=function(){function i(){this.reset()}return i.prototype.begin=function(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r},i.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},i.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},i}(),Le,on=(Le={},Le[Ot.POLY]=Vo,Le[Ot.CIRC]=la,Le[Ot.ELIP]=la,Le[Ot.RECT]=Up,Le[Ot.RREC]=Bp,Le),pa=[],ai=[],va=function(){function i(e,t,r,n){t===void 0&&(t=null),r===void 0&&(r=null),n===void 0&&(n=null),this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=n,this.type=e.type,this.points=[],this.holes=[]}return i.prototype.clone=function(){return new i(this.shape,this.fillStyle,this.lineStyle,this.matrix)},i.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},i}(),Je=new Lt,Hp=new yi,jp=function(i){os(e,i);function e(){var t=i.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new yi,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ai.push(this.drawCalls[t]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var r=this.batches[t];r.reset(),pa.push(r)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,r,n,s){r===void 0&&(r=null),n===void 0&&(n=null),s===void 0&&(s=null);var a=new va(t,r,n,s);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(t,r){if(r===void 0&&(r=null),!this.graphicsData.length)return null;var n=new va(t,null,null,r),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this},e.prototype.destroy=function(){i.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var r=this.graphicsData,n=0;n<r.length;++n){var s=r[n];if(!!s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(t,Je):Je.copyFrom(t),s.shape.contains(Je.x,Je.y))){var a=!1;if(s.holes)for(var o=0;o<s.holes.length;o++){var h=s.holes[o];if(h.shape.contains(Je.x,Je.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(t){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,s=null,a=null;this.batches.length>0&&(s=this.batches[this.batches.length-1],a=s.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var h=n[o],u=h.fillStyle,l=h.lineStyle,f=on[h.type];f.build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var c=0;c<2;c++){var d=c===0?u:l;if(!!d.visible){var p=d.texture.baseTexture,v=this.indices.length,_=this.points.length/2;p.wrapMode=Te.REPEAT,c===0?this.processFill(h):this.processLine(h);var g=this.points.length/2-_;g!==0&&(s&&!this._compareStyles(a,d)&&(s.end(v,_),s=null),s||(s=pa.pop()||new Xp,s.begin(d,v,_),this.batches.push(s),a=d),this.addUvs(this.points,r,d.texture,_,g,d.matrix))}}}var m=this.indices.length,b=this.points.length/2;if(s&&s.end(m,b),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var x=b>65535&&t;this.indicesUint16=x?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(t,r){return!(!t||!r||t.texture.baseTexture!==r.texture.baseTexture||t.color+t.alpha!==r.color+r.alpha||!!t.native!=!!r.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,r=this.graphicsData.length;t<r;t++){var n=this.graphicsData[t],s=n.fillStyle,a=n.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,r=0,n=t.length;r<n;r++)for(var s=t[r],a=0;a<s.size;a++){var o=s.start+a;this.indicesUint16[o]=this.indicesUint16[o]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var t=++Et._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),ai.push(this.drawCalls[r]);this.drawCalls.length=0;var n=this.colors,s=this.textureIds,a=ai.pop();a||(a=new Ln,a.texArray=new Mn),a.texArray.count=0,a.start=0,a.size=0,a.type=ee.TRIANGLES;var o=0,h=null,u=0,l=!1,f=ee.TRIANGLES,c=0;this.drawCalls.push(a);for(var r=0;r<this.batches.length;r++){var d=this.batches[r],p=8,v=d.style,_=v.texture.baseTexture;l!==!!v.native&&(l=!!v.native,f=l?ee.LINES:ee.TRIANGLES,h=null,o=p,t++),h!==_&&(h=_,_._batchEnabled!==t&&(o===p&&(t++,o=0,a.size>0&&(a=ai.pop(),a||(a=new Ln,a.texArray=new Mn),this.drawCalls.push(a)),a.start=c,a.size=0,a.texArray.count=0,a.type=f),_.touched=1,_._batchEnabled=t,_._batchLocation=o,_.wrapMode=10497,a.texArray.elements[a.texArray.count++]=_,o++)),a.size+=d.size,c+=d.size,u=_._batchLocation,this.addColors(n,v.color,v.alpha,d.attribSize),this.addTextureIds(s,u,d.attribSize)}Et._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,r=this.uvs,n=this.colors,s=this.textureIds,a=new ArrayBuffer(t.length*3*4),o=new Float32Array(a),h=new Uint32Array(a),u=0,l=0;l<t.length/2;l++)o[u++]=t[l*2],o[u++]=t[l*2+1],o[u++]=r[l*2],o[u++]=r[l*2+1],h[u++]=n[l],o[u++]=s[l];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){if(t.holes.length)this.processHoles(t.holes),Vo.triangulate(t,this);else{var r=on[t.type];r.triangulate(t,this)}},e.prototype.processLine=function(t){ca(t,this);for(var r=0;r<t.holes.length;r++)ca(t.holes[r],this)},e.prototype.processHoles=function(t){for(var r=0;r<t.length;r++){var n=t[r],s=on[n.type];s.build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,r=Hp,n=Mt.IDENTITY;this._bounds.clear(),r.clear();for(var s=0;s<this.graphicsData.length;s++){var a=this.graphicsData[s],o=a.shape,h=a.type,u=a.lineStyle,l=a.matrix||Mt.IDENTITY,f=0;if(u&&u.visible){var c=u.alignment;f=u.width,h===Ot.POLY?f=f*(.5+Math.abs(.5-c)):f=f*Math.max(0,c)}if(n!==l&&(r.isEmpty()||(t.addBoundsMatrix(r,n),r.clear()),n=l),h===Ot.RECT||h===Ot.RREC){var d=o;r.addFramePad(d.x,d.y,d.x+d.width,d.y+d.height,f,f)}else if(h===Ot.CIRC){var p=o;r.addFramePad(p.x,p.y,p.x,p.y,p.radius+f,p.radius+f)}else if(h===Ot.ELIP){var v=o;r.addFramePad(v.x,v.y,v.x,v.y,v.width+f,v.height+f)}else{var _=o;t.addVerticesMatrix(n,_.points,0,_.points.length,f,f)}}r.isEmpty()||t.addBoundsMatrix(r,n),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,r){for(var n=0;n<t.length/2;n++){var s=t[n*2],a=t[n*2+1];t[n*2]=r.a*s+r.c*a+r.tx,t[n*2+1]=r.b*s+r.d*a+r.ty}},e.prototype.addColors=function(t,r,n,s){for(var a=(r>>16)+(r&65280)+((r&255)<<16),o=ns(a,n);s-- >0;)t.push(o)},e.prototype.addTextureIds=function(t,r,n){for(;n-- >0;)t.push(r)},e.prototype.addUvs=function(t,r,n,s,a,o){o===void 0&&(o=null);for(var h=0,u=r.length,l=n.frame;h<a;){var f=t[(s+h)*2],c=t[(s+h)*2+1];if(o){var d=o.a*f+o.c*c+o.tx;c=o.b*f+o.d*c+o.ty,f=d}h++,r.push(f/l.width,c/l.height)}var p=n.baseTexture;(l.width<p.width||l.height<p.height)&&this.adjustUvs(r,n,u,a)},e.prototype.adjustUvs=function(t,r,n,s){for(var a=r.baseTexture,o=1e-6,h=n+s*2,u=r.frame,l=u.width/a.width,f=u.height/a.height,c=u.x/u.width,d=u.y/u.height,p=Math.floor(t[n]+o),v=Math.floor(t[n+1]+o),_=n+2;_<h;_+=2)p=Math.min(p,Math.floor(t[_]+o)),v=Math.min(v,Math.floor(t[_+1]+o));c-=p,d-=v;for(var _=n;_<h;_+=2)t[_]=(t[_]+c)*l,t[_+1]=(t[_+1]+d)*f},e.BATCHABLE_SIZE=100,e}(ko),Vp=function(i){os(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=xe.BUTT,t.join=be.MITER,t.miterLimit=10,t}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){i.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(jo),Yp=new Float32Array(3),hn={},Lr=function(i){os(e,i);function e(t){t===void 0&&(t=null);var r=i.call(this)||this;return r._geometry=t||new jp,r._geometry.refCount++,r.shader=null,r.state=je.for2d(),r._fillStyle=new jo,r._lineStyle=new Vp,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=et.NORMAL,r}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,r,n,s,a){return t===void 0&&(t=null),r===void 0&&(r=0),n===void 0&&(n=1),s===void 0&&(s=.5),a===void 0&&(a=!1),typeof t=="number"&&(t={width:t,color:r,alpha:n,alignment:s,native:a}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:it.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:xe.BUTT,join:be.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new fi,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[r-2],t[r-1]))}else this.currentPath=new fi,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,r){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=r,this},e.prototype.lineTo=function(t,r){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,s=n[n.length-2],a=n[n.length-1];return(s!==t||a!==r)&&n.push(t,r),this},e.prototype._initCurve=function(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,r]):this.moveTo(t,r)},e.prototype.quadraticCurveTo=function(t,r,n,s){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),$p.curveTo(t,r,n,s,a),this},e.prototype.bezierCurveTo=function(t,r,n,s,a,o){return this._initCurve(),Gp.curveTo(t,r,n,s,a,o,this.currentPath.points),this},e.prototype.arcTo=function(t,r,n,s,a){this._initCurve(t,r);var o=this.currentPath.points,h=da.curveTo(t,r,n,s,a,o);if(h){var u=h.cx,l=h.cy,f=h.radius,c=h.startAngle,d=h.endAngle,p=h.anticlockwise;this.arc(u,l,f,c,d,p)}return this},e.prototype.arc=function(t,r,n,s,a,o){if(o===void 0&&(o=!1),s===a)return this;!o&&a<=s?a+=gi:o&&s<=a&&(s+=gi);var h=a-s;if(h===0)return this;var u=t+Math.cos(s)*n,l=r+Math.sin(s)*n,f=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var d=Math.abs(c[c.length-2]-u),p=Math.abs(c[c.length-1]-l);d<f&&p<f||c.push(u,l)}else this.moveTo(u,l),c=this.currentPath.points;return da.arc(u,l,t,r,n,s,a,o,c),this},e.prototype.beginFill=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=1),this.beginTextureFill({texture:it.WHITE,color:t,alpha:r})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:it.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,r,n,s){return this.drawShape(new yt(t,r,n,s))},e.prototype.drawRoundedRect=function(t,r,n,s,a){return this.drawShape(new uc(t,r,n,s,a))},e.prototype.drawCircle=function(t,r,n){return this.drawShape(new oc(t,r,n))},e.prototype.drawEllipse=function(t,r,n,s){return this.drawShape(new hc(t,r,n,s))},e.prototype.drawPolygon=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var s,a=!0,o=r[0];o.points?(a=o.closeStroke,s=o.points):Array.isArray(r[0])?s=r[0]:s=r;var h=new fi(s);return h.closeStroke=a,this.drawShape(h),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ot.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var r=this._geometry,n=t.context.supports.uint32Indices;r.updateBatches(n),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,r=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var s=0;s<n;s++){var a=t.batches[s],o=a.style.color,h=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,a.start*2,a.size),f={vertexData:h,blendMode:r,indices:l,uvs:u,_batchRGB:or(o),_tintRGB:o,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=f}},e.prototype._renderBatched=function(t){if(!!this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,n=this.batches.length;r<n;r++){var s=this.batches[r];s.worldAlpha=this.worldAlpha*s.alpha,t.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(t){var r=this._resolveDirectShader(t),n=this._geometry,s=this.tint,a=this.worldAlpha,o=r.uniforms,h=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(s>>16&255)/255*a,o.tint[1]=(s>>8&255)/255*a,o.tint[2]=(s&255)/255*a,o.tint[3]=a,t.shader.bind(r),t.geometry.bind(n,r),t.state.set(this.state);for(var u=0,l=h.length;u<l;u++)this._renderDrawCallDirect(t,n.drawCalls[u])},e.prototype._renderDrawCallDirect=function(t,r){for(var n=r.texArray,s=r.type,a=r.size,o=r.start,h=n.count,u=0;u<h;u++)t.texture.bind(n.elements[u],u);t.geometry.draw(s,a,o)},e.prototype._resolveDirectShader=function(t){var r=this.shader,n=this.pluginName;if(!r){if(!hn[n]){for(var s=t.plugins.batch.MAX_TEXTURES,a=new Int32Array(s),o=0;o<s;o++)a[o]=o;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new Mt,default:ke.from({uSamplers:a},!0)},u=t.plugins[n]._shader.program;hn[n]=new Xe(u,h)}r=hn[n]}return r},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(!!t.graphicsData.length){var r=t.bounds,n=r.minX,s=r.minY,a=r.maxX,o=r.maxY;this._bounds.addFrame(this.transform,n,s,a,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=or(this.tint,Yp),r=0;r<this.batches.length;r++){var n=this.batches[r],s=n._batchRGB,a=t[0]*s[0]*255,o=t[1]*s[1]*255,h=t[2]*s[2]*255,u=(a<<16)+(o<<8)+(h|0);n._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,h=r.tx,u=r.ty,l=this._geometry.points,f=this.vertexData,c=0,d=0;d<l.length;d+=2){var p=l[d],v=l[d+1];f[c++]=n*p+a*v+h,f[c++]=o*v+s*p+u}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,i.prototype.destroy.call(this,t)},e._TEMP_POINT=new Lt,e}(Wt);/*!
 * @pixi/sprite - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gn=function(i,e){return Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Gn(i,e)};function Wp(i,e){Gn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gr=new Lt,qp=new Uint16Array([0,1,2,0,2,3]),Ve=function(i){Wp(e,i);function e(t){var r=i.call(this)||this;return r._anchor=new rr(r._onAnchorUpdate,r,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=et.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=t||it.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=qp,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Z.ROUND_PIXELS,r}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=er(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=er(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===t._updateID)){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,h=r.tx,u=r.ty,l=this.vertexData,f=t.trim,c=t.orig,d=this._anchor,p=0,v=0,_=0,g=0;if(f?(v=f.x-d._x*c.width,p=v+f.width,g=f.y-d._y*c.height,_=g+f.height):(v=-d._x*c.width,p=v+c.width,g=-d._y*c.height,_=g+c.height),l[0]=n*v+a*g+h,l[1]=o*g+s*v+u,l[2]=n*p+a*g+h,l[3]=o*g+s*p+u,l[4]=n*p+a*_+h,l[5]=o*_+s*p+u,l[6]=n*v+a*_+h,l[7]=o*_+s*v+u,this._roundPixels)for(var m=Z.RESOLUTION,b=0;b<l.length;++b)l[b]=Math.round((l[b]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,r=this.vertexTrimmedData,n=t.orig,s=this._anchor,a=this.transform.worldTransform,o=a.a,h=a.b,u=a.c,l=a.d,f=a.tx,c=a.ty,d=-s._x*n.width,p=d+n.width,v=-s._y*n.height,_=v+n.height;r[0]=o*d+u*v+f,r[1]=l*v+h*d+c,r[2]=o*p+u*v+f,r[3]=l*v+h*p+c,r[4]=o*p+u*_+f,r[5]=l*_+h*p+c,r[6]=o*d+u*_+f,r[7]=l*_+h*d+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,r=this._texture.orig;!t||t.width===r.width&&t.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(t){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new yt),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,gr);var r=this._texture.orig.width,n=this._texture.orig.height,s=-r*this.anchor.x,a=0;return gr.x>=s&&gr.x<s+r&&(a=-n*this.anchor.y,gr.y>=a&&gr.y<a+n)},e.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var r=typeof t=="boolean"?t:t&&t.texture;if(r){var n=typeof t=="boolean"?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null},e.from=function(t,r){var n=t instanceof it?t:it.from(t,r);return new e(n)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var r=er(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var r=er(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||it.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Wt);/*!
 * @pixi/text - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $n=function(i,e){return $n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},$n(i,e)};function Zp(i,e){$n(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Mr;(function(i){i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Mr||(Mr={}));var un={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Mr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Kp=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ur=function(){function i(e){this.styleID=0,this.reset(),fn(this,e,e)}return i.prototype.clone=function(){var e={};return fn(e,this,un),new i(e)},i.prototype.reset=function(){fn(this,un,un)},Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=ln(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=ln(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Jp(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=ln(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),i.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1;r>=0;r--){var n=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&Kp.indexOf(n)<0&&(n='"'+n+'"'),t[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},i}();function _a(i){return typeof i=="number"?mo(i):(typeof i=="string"&&i.indexOf("0x")===0&&(i=i.replace("0x","#")),i)}function ln(i){if(Array.isArray(i)){for(var e=0;e<i.length;++e)i[e]=_a(i[e]);return i}else return _a(i)}function Jp(i,e){if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(var t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}function fn(i,e,t){for(var r in t)Array.isArray(e[r])?i[r]=e[r].slice():i[r]=e[r]}var qt=function(){function i(e,t,r,n,s,a,o,h,u){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=s,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=h,this.fontProperties=u}return i.measureText=function(e,t,r,n){n===void 0&&(n=i._canvas),r=r==null?t.wordWrap:r;var s=t.toFontString(),a=i.measureFont(s);a.fontSize===0&&(a.fontSize=t.fontSize,a.ascent=t.fontSize);var o=n.getContext("2d");o.font=s;for(var h=r?i.wordWrap(e,t,n):e,u=h.split(/(?:\r\n|\r|\n)/),l=new Array(u.length),f=0,c=0;c<u.length;c++){var d=o.measureText(u[c]).width+(u[c].length-1)*t.letterSpacing;l[c]=d,f=Math.max(f,d)}var p=f+t.strokeThickness;t.dropShadow&&(p+=t.dropShadowDistance);var v=t.lineHeight||a.fontSize+t.strokeThickness,_=Math.max(v,a.fontSize+t.strokeThickness)+(u.length-1)*(v+t.leading);return t.dropShadow&&(_+=t.dropShadowDistance),new i(e,t,p,_,u,l,v+t.leading,f,a)},i.wordWrap=function(e,t,r){r===void 0&&(r=i._canvas);for(var n=r.getContext("2d"),s=0,a="",o="",h=Object.create(null),u=t.letterSpacing,l=t.whiteSpace,f=i.collapseSpaces(l),c=i.collapseNewlines(l),d=!f,p=t.wordWrapWidth+u,v=i.tokenize(e),_=0;_<v.length;_++){var g=v[_];if(i.isNewline(g)){if(!c){o+=i.addLine(a),d=!f,a="",s=0;continue}g=" "}if(f){var m=i.isBreakingSpace(g),b=i.isBreakingSpace(a[a.length-1]);if(m&&b)continue}var x=i.getFromCache(g,u,h,n);if(x>p)if(a!==""&&(o+=i.addLine(a),a="",s=0),i.canBreakWords(g,t.breakWords))for(var y=i.wordWrapSplit(g),E=0;E<y.length;E++){for(var L=y[E],M=1;y[E+M];){var C=y[E+M],A=L[L.length-1];if(!i.canBreakChars(A,C,g,E,t.breakWords))L+=C;else break;M++}E+=L.length-1;var z=i.getFromCache(L,u,h,n);z+s>p&&(o+=i.addLine(a),d=!1,a="",s=0),a+=L,s+=z}else{a.length>0&&(o+=i.addLine(a),a="",s=0);var R=_===v.length-1;o+=i.addLine(g,!R),d=!1,a="",s=0}else x+s>p&&(d=!1,o+=i.addLine(a),a="",s=0),(a.length>0||!i.isBreakingSpace(g)||d)&&(a+=g,s+=x)}return o+=i.addLine(a,!1),o},i.addLine=function(e,t){return t===void 0&&(t=!0),e=i.trimRight(e),e=t?e+`
`:e,e},i.getFromCache=function(e,t,r,n){var s=r[e];if(typeof s!="number"){var a=e.length*t;s=n.measureText(e).width+a,r[e]=s}return s},i.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},i.collapseNewlines=function(e){return e==="normal"},i.trimRight=function(e){if(typeof e!="string")return"";for(var t=e.length-1;t>=0;t--){var r=e[t];if(!i.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},i.isNewline=function(e){return typeof e!="string"?!1:i._newlines.indexOf(e.charCodeAt(0))>=0},i.isBreakingSpace=function(e,t){return typeof e!="string"?!1:i._breakingSpaces.indexOf(e.charCodeAt(0))>=0},i.tokenize=function(e){var t=[],r="";if(typeof e!="string")return t;for(var n=0;n<e.length;n++){var s=e[n],a=e[n+1];if(i.isBreakingSpace(s,a)||i.isNewline(s)){r!==""&&(t.push(r),r=""),t.push(s);continue}r+=s}return r!==""&&t.push(r),t},i.canBreakWords=function(e,t){return t},i.canBreakChars=function(e,t,r,n,s){return!0},i.wordWrapSplit=function(e){return e.split("")},i.measureFont=function(e){if(i._fonts[e])return i._fonts[e];var t={ascent:0,descent:0,fontSize:0},r=i._canvas,n=i._context;n.font=e;var s=i.METRICS_STRING+i.BASELINE_SYMBOL,a=Math.ceil(n.measureText(s).width),o=Math.ceil(n.measureText(i.BASELINE_SYMBOL).width),h=i.HEIGHT_MULTIPLIER*o;o=o*i.BASELINE_MULTIPLIER|0,r.width=a,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,a,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,o);var u=n.getImageData(0,0,a,h).data,l=u.length,f=a*4,c=0,d=0,p=!1;for(c=0;c<o;++c){for(var v=0;v<f;v+=4)if(u[d+v]!==255){p=!0;break}if(!p)d+=f;else break}for(t.ascent=o-c,d=l-f,p=!1,c=h;c>o;--c){for(var v=0;v<f;v+=4)if(u[d+v]!==255){p=!0;break}if(!p)d-=f;else break}return t.descent=c-o,t.fontSize=t.ascent+t.descent,i._fonts[e]=t,t},i.clearMetrics=function(e){e===void 0&&(e=""),e?delete i._fonts[e]:i._fonts={}},i}(),xi=function(){try{var i=new OffscreenCanvas(0,0),e=i.getContext("2d");return e&&e.measureText?i:document.createElement("canvas")}catch{return document.createElement("canvas")}}();xi.width=xi.height=10;qt._canvas=xi;qt._context=xi.getContext("2d");qt._fonts={};qt.METRICS_STRING="|\xC9q\xC5";qt.BASELINE_SYMBOL="M";qt.BASELINE_MULTIPLIER=1.4;qt.HEIGHT_MULTIPLIER=2;qt._newlines=[10,13];qt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Qp={texture:!0,children:!1,baseTexture:!0},Yo=function(i){Zp(e,i);function e(t,r,n){var s=this,a=!1;n||(n=document.createElement("canvas"),a=!0),n.width=3,n.height=3;var o=it.from(n);return o.orig=new yt,o.trim=new yt,s=i.call(this,o)||this,s._ownCanvas=a,s.canvas=n,s.context=s.canvas.getContext("2d"),s._resolution=Z.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=t,s.style=r,s.localStyleID=-1,s}return e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!(!this.dirty&&t)){this._font=this._style.toFontString();var n=this.context,s=qt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,o=s.height,h=s.lines,u=s.lineHeight,l=s.lineWidths,f=s.maxLineWidth,c=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;for(var d,p,v=r.dropShadow?2:1,_=0;_<v;++_){var g=r.dropShadow&&_===0,m=g?Math.ceil(Math.max(1,o)+r.padding*2):0,b=m*this._resolution;if(g){n.fillStyle="black",n.strokeStyle="black";var x=r.dropShadowColor,y=or(typeof x=="number"?x:go(x));n.shadowColor="rgba("+y[0]*255+","+y[1]*255+","+y[2]*255+","+r.dropShadowAlpha+")",n.shadowBlur=r.dropShadowBlur,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+b}else n.fillStyle=this._generateFillStyle(r,h,s),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var E=0;E<h.length;E++)d=r.strokeThickness/2,p=r.strokeThickness/2+E*u+c.ascent,r.align==="right"?d+=f-l[E]:r.align==="center"&&(d+=(f-l[E])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(h[E],d+r.padding,p+r.padding-m,!0),r.fill&&this.drawLetterSpacing(h[E],d+r.padding,p+r.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,r,n,s){s===void 0&&(s=!1);var a=this._style,o=a.letterSpacing;if(o===0){s?this.context.strokeText(t,r,n):this.context.fillText(t,r,n);return}for(var h=r,u=Array.from?Array.from(t):t.split(""),l=this.context.measureText(t).width,f=0,c=0;c<u.length;++c){var d=u[c];s?this.context.strokeText(d,h,n):this.context.fillText(d,h,n),f=this.context.measureText(t.substring(c+1)).width,h+=l-f+o,l=f}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var r=ic(t);r.data&&(t.width=r.width,t.height=r.height,this.context.putImageData(r.data,0,0))}var n=this._texture,s=this._style,a=s.trim?0:s.padding,o=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(t.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(t.height/this._resolution),n.trim.x=-a,n.trim.y=-a,n.orig.width=n._frame.width-a*2,n.orig.height=n._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),i.prototype._render.call(this,t)},e.prototype.getLocalBounds=function(t){return this.updateText(!0),i.prototype.getLocalBounds.call(this,t)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,r,n){var s=t.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var a,o=t.dropShadow?t.dropShadowDistance:0,h=t.padding||0,u=Math.ceil(this.canvas.width/this._resolution)-o-h*2,l=Math.ceil(this.canvas.height/this._resolution)-o-h*2,f=s.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var d=f.length+1,p=1;p<d;++p)c.push(p/d);if(f.unshift(s[0]),c.unshift(0),f.push(s[s.length-1]),c.push(1),t.fillGradientType===Mr.LINEAR_VERTICAL){a=this.context.createLinearGradient(u/2,h,u/2,l+h);for(var v=n.fontProperties.fontSize+t.strokeThickness,_=v/l,p=0;p<r.length;p++)for(var g=n.lineHeight*p,m=0;m<f.length;m++){var b=0;typeof c[m]=="number"?b=c[m]:b=m/f.length;var x=Math.min(1,Math.max(0,g/l+b*_));x=Number(x.toFixed(5)),a.addColorStop(x,f[m])}}else{a=this.context.createLinearGradient(h,l/2,u+h,l/2);for(var y=f.length+1,E=1,p=0;p<f.length;p++){var L=void 0;typeof c[p]=="number"?L=c[p]:L=E/y,a.addColorStop(L,f[p]),E++}}return a},e.prototype.destroy=function(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Qp,t),i.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var r=er(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var r=er(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},t instanceof ur?this._style=t:this._style=new ur(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(Ve);/*!
 * @pixi/prepare - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Z.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xn=function(i,e){return Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Xn(i,e)};function tv(i,e){Xn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ev=function(){function i(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return i.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},i.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},i}();function rv(i,e){var t=!1;if(i&&i._textures&&i._textures.length){for(var r=0;r<i._textures.length;r++)if(i._textures[r]instanceof it){var n=i._textures[r].baseTexture;e.indexOf(n)===-1&&(e.push(n),t=!0)}}return t}function iv(i,e){if(i.baseTexture instanceof Et){var t=i.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function nv(i,e){if(i._texture&&i._texture instanceof it){var t=i._texture.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function sv(i,e){return e instanceof Yo?(e.updateText(!0),!0):!1}function av(i,e){if(e instanceof ur){var t=e.toFontString();return qt.measureFont(t),!0}return!1}function ov(i,e){if(i instanceof Yo){e.indexOf(i.style)===-1&&e.push(i.style),e.indexOf(i)===-1&&e.push(i);var t=i._texture.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function hv(i,e){return i instanceof ur?(e.indexOf(i)===-1&&e.push(i),!0):!1}var uv=function(){function i(e){var t=this;this.limiter=new ev(Z.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!t.queue||t.prepareItems()},this.registerFindHook(ov),this.registerFindHook(hv),this.registerFindHook(rv),this.registerFindHook(iv),this.registerFindHook(nv),this.registerUploadHook(sv),this.registerUploadHook(av)}return i.prototype.upload=function(e,t){typeof e=="function"&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,Bt.system.addOnce(this.tick,this,me.UTILITY))):t&&t()},i.prototype.tick=function(){setTimeout(this.delayedTick,0)},i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed){for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Bt.system.addOnce(this.tick,this,me.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var r=0,n=s.length;r<n;r++)s[r]()}},i.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},i.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},i.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Wt)for(var t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},i.prototype.destroy=function(){this.ticking&&Bt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},i}();function Wo(i,e){return e instanceof Et?(e._glTextures[i.CONTEXT_UID]||i.texture.bind(e),!0):!1}function lv(i,e){if(!(e instanceof Lr))return!1;var t=e.geometry;e.finishPoly(),t.updateBatches();for(var r=t.batches,n=0;n<r.length;n++){var s=r[n].style.texture;s&&Wo(i,s.baseTexture)}return t.batchable||i.geometry.bind(t,e._resolveDirectShader(i)),!0}function fv(i,e){return i instanceof Lr?(e.push(i),!0):!1}var cv=function(i){tv(e,i);function e(t){var r=i.call(this,t)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(fv),r.registerUploadHook(Wo),r.registerUploadHook(lv),r}return e}(uv);/*!
 * @pixi/spritesheet - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dv=function(){function i(e,t,r){r===void 0&&(r=null),this._texture=e instanceof it?e:null,this.baseTexture=e instanceof Et?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i.prototype._updateResolution=function(e){e===void 0&&(e=null);var t=this.data.meta.scale,r=mi(e,null);return r===null&&(r=t!==void 0?parseFloat(t):1),r!==1&&this.baseTexture.setResolution(r),r},i.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=i.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},i.prototype._processFrames=function(e){for(var t=e,r=i.BATCH_SIZE;t-e<r&&t<this._frameKeys.length;){var n=this._frameKeys[t],s=this._frames[n],a=s.frame;if(a){var o=null,h=null,u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,l=new yt(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?o=new yt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):o=new yt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new yt(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[n]=new it(this.baseTexture,o,l,h,s.rotated?2:0,s.anchor),it.addToCache(this.textures[n],n)}t++}},i.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var n=e[t][r];this.animations[t].push(this.textures[n])}}},i.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},i.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*i.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*i.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},i.prototype.destroy=function(e){var t;e===void 0&&(e=!1);for(var r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)===null||t===void 0||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},i.BATCH_SIZE=1e3,i}(),pv=function(){function i(){}return i.use=function(e,t){var r,n,s=this,a=e.name+"_image";if(!e.data||e.type!==ie.TYPE.JSON||!e.data.frames||s.resources[a]){t();return}var o=(n=(r=e.data)===null||r===void 0?void 0:r.meta)===null||n===void 0?void 0:n.related_multi_packs;if(Array.isArray(o))for(var h=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),_=jr.resolve(e.url.replace(s.baseUrl,""),p);if(s.resources[v]||Object.values(s.resources).some(function(m){return jr.format(jr.parse(m.url))===_}))return"continue";var g={crossOrigin:e.crossOrigin,loadType:ie.LOAD_TYPE.XHR,xhrType:ie.XHR_RESPONSE_TYPE.JSON,parentResource:e};s.add(v,_,g)},u=0,l=o;u<l.length;u++){var f=l[u];h(f)}var c={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=i.getResourcePath(e,s.baseUrl);s.add(a,d,c,function(v){if(v.error){t(v.error);return}var _=new dv(v.texture,e.data,e.url);_.parse(function(){e.spritesheet=_,e.textures=_.textures,t()})})},i.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:jr.resolve(e.url.replace(t,""),e.data.meta.image)},i}();/*!
 * @pixi/sprite-tiling - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Hn=function(i,e){return Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Hn(i,e)};function qo(i,e){Hn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yr=new Lt;(function(i){qo(e,i);function e(t,r,n){r===void 0&&(r=100),n===void 0&&(n=100);var s=i.call(this,t)||this;return s.tileTransform=new wo,s._width=r,s._height=n,s.uvMatrix=s.texture.uvMatrix||new as(t),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,r,n,s)},e.prototype.getLocalBounds=function(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new yt),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,yr);var r=this._width,n=this._height,s=-r*this.anchor._x;if(yr.x>=s&&yr.x<s+r){var a=-n*this.anchor._y;if(yr.y>=a&&yr.y<a+n)return!0}return!1},e.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return new e(it.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e})(Ve);var ma=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,vv=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`,_v=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`,oi=new Mt,mv=function(i){qo(e,i);function e(t){var r=i.call(this,t)||this,n={globals:r.renderer.globalUniforms};return r.shader=Xe.from(ma,vv,n),r.simpleShader=Xe.from(ma,_v,n),r.quad=new Lo,r.state=je.for2d(),r}return e.prototype.render=function(t){var r=this.renderer,n=this.quad,s=n.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y);var a=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;s=n.uvs,s[0]=s[6]=-a,s[1]=s[3]=-o,s[2]=s[4]=1-a,s[5]=s[7]=1-o,n.invalidate();var h=t._texture,u=h.baseTexture,l=t.tileTransform.localTransform,f=t.uvMatrix,c=u.isPowerOfTwo&&h.frame.width===u.width&&h.frame.height===u.height;c&&(u._glTextures[r.CONTEXT_UID]?c=u.wrapMode!==Te.CLAMP:u.wrapMode===Te.CLAMP&&(u.wrapMode=Te.REPEAT));var d=c?this.simpleShader:this.shader,p=h.width,v=h.height,_=t._width,g=t._height;oi.set(l.a*p/_,l.b*p/g,l.c*v/_,l.d*v/g,l.tx/_,l.ty/g),oi.invert(),c?oi.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=oi.toArray(!0),d.uniforms.uColor=xo(t.tint,t.worldAlpha,d.uniforms.uColor,u.alphaMode),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=h,r.shader.bind(d),r.geometry.bind(n),this.state.blendMode=bo(t.blendMode,u.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Ri);/*!
 * @pixi/mesh - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jn=function(i,e){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},jn(i,e)};function hs(i,e){jn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gv=function(){function i(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return i.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},i}(),cn=new Lt,ga=new fi,Dr=function(i){hs(e,i);function e(t,r,n,s){s===void 0&&(s=ee.TRIANGLES);var a=i.call(this)||this;return a.geometry=t,t.refCount++,a.shader=r,a.state=n||je.for2d(),a.drawMode=s,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a._roundPixels=Z.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data,n=this.shader;n.batchable&&this.drawMode===ee.TRIANGLES&&r.length<e.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),t.batch.flush(),r.program.uniformData.translationMatrix&&(r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(r),t.state.set(this.state),t.geometry.bind(this.geometry,r),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var s=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[s]),t.plugins[s].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,r=t.buffers[0].data;if(!(t.vertexDirtyId===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var n=this.transform.worldTransform,s=n.a,a=n.b,o=n.c,h=n.d,u=n.tx,l=n.ty,f=this.vertexData,c=0;c<f.length/2;c++){var d=r[c*2],p=r[c*2+1];f[c*2]=s*d+o*p+u,f[c*2+1]=a*d+h*p+l}if(this._roundPixels)for(var v=Z.RESOLUTION,c=0;c<f.length;++c)f[c]=Math.round((f[c]*v|0)/v);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new gv(t,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,cn);for(var r=this.geometry.getBuffer("aVertexPosition").data,n=ga.points,s=this.geometry.getIndex().data,a=s.length,o=this.drawMode===4?3:1,h=0;h+2<a;h+=o){var u=s[h]*2,l=s[h+1]*2,f=s[h+2]*2;if(n[0]=r[u],n[1]=r[u+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[f],n[5]=r[f+1],ga.contains(cn.x,cn.y))return!0}return!1},e.prototype.destroy=function(t){i.prototype.destroy.call(this,t),this.geometry.refCount--,this.geometry.refCount===0&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Wt),yv=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,bv=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Li=function(i){hs(e,i);function e(t,r){var n=this,s={uSampler:t,alpha:1,uTextureMatrix:Mt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(s,r.uniforms),n=i.call(this,r.program||Oi.from(bv,yv),s)||this,n._colorDirty=!1,n.uvMatrix=new as(t),n.batchable=r.program===void 0,n.pluginName=r.pluginName,n.tint=r.tint,n.alpha=r.alpha,n}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;xo(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Xe),Mi=function(i){hs(e,i);function e(t,r,n){var s=i.call(this)||this,a=new Ut(t),o=new Ut(r,!0),h=new Ut(n,!0,!0);return s.addAttribute("aVertexPosition",a,2,!1,It.FLOAT).addAttribute("aTextureCoord",o,2,!1,It.FLOAT).addIndex(h),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Ur);/*!
 * @pixi/text-bitmap - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vn=function(i,e){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Vn(i,e)};function xv(i,e){Vn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ti=function(){function i(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}return i}(),Tv=function(){function i(){}return i.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},i.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in t){var s=t[n].match(/^[a-z]+/gm)[0],a=t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var h in a){var u=a[h].split("="),l=u[0],f=u[1].replace(/"/gm,""),c=parseFloat(f),d=isNaN(c)?f:c;o[l]=d}r[s].push(o)}var p=new Ti;return r.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),r.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),r.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),r.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),r.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),p},i}(),Yn=function(){function i(){}return i.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},i.parse=function(e){for(var t=new Ti,r=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),h=0;h<r.length;h++)t.info.push({face:r[h].getAttribute("face"),size:parseInt(r[h].getAttribute("size"),10)});for(var h=0;h<n.length;h++)t.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(var h=0;h<s.length;h++)t.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(var h=0;h<a.length;h++){var u=a[h];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(var h=0;h<o.length;h++)t.kerning.push({first:parseInt(o[h].getAttribute("first"),10),second:parseInt(o[h].getAttribute("second"),10),amount:parseInt(o[h].getAttribute("amount"),10)});return t},i}(),wv=function(){function i(){}return i.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var t=new self.DOMParser().parseFromString(e,"text/xml");return Yn.test(t)}return!1},i.parse=function(e){var t=new self.DOMParser().parseFromString(e,"text/xml");return Yn.parse(t)},i}(),dn=[Tv,Yn,wv];function Zo(i){for(var e=0;e<dn.length;e++)if(dn[e].test(i))return dn[e];return null}function ya(i,e,t,r,n,s){var a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var o,h=t.dropShadow?t.dropShadowDistance:0,u=t.padding||0,l=Math.ceil(i.width/r)-h-u*2,f=Math.ceil(i.height/r)-h-u*2,c=a.slice(),d=t.fillGradientStops.slice();if(!d.length)for(var p=c.length+1,v=1;v<p;++v)d.push(v/p);if(c.unshift(a[0]),d.unshift(0),c.push(a[a.length-1]),d.push(1),t.fillGradientType===Mr.LINEAR_VERTICAL){o=e.createLinearGradient(l/2,u,l/2,f+u);for(var _=0,g=s.fontProperties.fontSize+t.strokeThickness,m=g/f,v=0;v<n.length;v++)for(var b=s.lineHeight*v,x=0;x<c.length;x++){var y=0;typeof d[x]=="number"?y=d[x]:y=x/c.length;var E=b/f+y*m,L=Math.max(_,E);L=Math.min(L,1),o.addColorStop(L,c[x]),_=L}}else{o=e.createLinearGradient(u,f/2,l+u,f/2);for(var M=c.length+1,C=1,v=0;v<c.length;v++){var A=void 0;typeof d[v]=="number"?A=d[v]:A=C/M,o.addColorStop(A,c[v]),C++}}return o}function Ev(i,e,t,r,n,s,a){var o=t.text,h=t.fontProperties;e.translate(r,n),e.scale(s,s);var u=a.strokeThickness/2,l=-(a.strokeThickness/2);e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=ya(i,e,a,s,[o],t),e.strokeStyle=a.stroke,e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=ya(i,e,a,s,[o],t),e.strokeStyle=a.stroke;var f=a.dropShadowColor,c=or(typeof f=="number"?f:go(f));a.dropShadow?(e.shadowColor="rgba("+c[0]*255+","+c[1]*255+","+c[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=a.dropShadowBlur,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),a.stroke&&a.strokeThickness&&e.strokeText(o,u,l+t.lineHeight-h.descent),a.fill&&e.fillText(o,u,l+t.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Sv(i){typeof i=="string"&&(i=[i]);for(var e=[],t=0,r=i.length;t<r;t++){var n=i[t];if(Array.isArray(n)){if(n.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var s=n[0].charCodeAt(0),a=n[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(var o=s,h=a;o<=h;o++)e.push(String.fromCharCode(o))}else e.push.apply(e,n.split(""))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}var xr=function(){function i(e,t){var r=e.info[0],n=e.common[0],s=e.page[0],a=mi(s.file),o={};this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/a,this.chars={},this.pageTextures=o;for(var h=0;h<e.page.length;h++){var u=e.page[h],l=u.id,f=u.file;o[l]=t instanceof Array?t[h]:t[f]}for(var h=0;h<e.char.length;h++){var c=e.char[h],l=c.id,d=c.page,p=e.char[h],v=p.x,_=p.y,g=p.width,m=p.height,b=p.xoffset,x=p.yoffset,y=p.xadvance;v/=a,_/=a,g/=a,m/=a,b/=a,x/=a,y/=a;var E=new yt(v+o[d].frame.x/a,_+o[d].frame.y/a,g,m);this.chars[l]={xOffset:b,yOffset:x,xAdvance:y,kerning:{},texture:new it(o[d].baseTexture,E),page:d}}for(var h=0;h<e.kerning.length;h++){var L=e.kerning[h],M=L.first,C=L.second,A=L.amount;M/=a,C/=a,A/=a,this.chars[C]&&(this.chars[C].kerning[M]=A)}}return i.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},i.install=function(e,t){var r;if(e instanceof Ti)r=e;else{var n=Zo(e);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(e)}t instanceof it&&(t=[t]);var s=new i(r,t);return i.available[s.font]=s,s},i.uninstall=function(e){var t=i.available[e];if(!t)throw new Error("No font found named '"+e+"'");t.destroy(),delete i.available[e]},i.from=function(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},i.defaultOptions,r),s=n.chars,a=n.padding,o=n.resolution,h=n.textureWidth,u=n.textureHeight,l=Sv(s),f=t instanceof ur?t:new ur(t),c=h,d=new Ti;d.info[0]={face:f.fontFamily,size:f.fontSize},d.common[0]={lineHeight:f.fontSize};for(var p=0,v=0,_,g,m,b=0,x=[],y=0;y<l.length;y++){_||(_=document.createElement("canvas"),_.width=h,_.height=u,g=_.getContext("2d"),m=new Et(_,{resolution:o}),x.push(new it(m)),d.page.push({id:x.length-1,file:""}));var E=qt.measureText(l[y],f,!1,_),L=E.width,M=Math.ceil(E.height),C=Math.ceil((f.fontStyle==="italic"?2:1)*L);if(v>=u-M*o){if(v===0)throw new Error("[BitmapFont] textureHeight "+u+"px is "+("too small for "+f.fontSize+"px fonts"));--y,_=null,g=null,m=null,v=0,p=0,b=0;continue}if(b=Math.max(M+E.fontProperties.descent,b),C*o+p>=c){--y,v+=b*o,v=Math.ceil(v),p=0,b=0;continue}Ev(_,g,E,p,v,o,f);var A=E.text.charCodeAt(0);d.char.push({id:A,page:x.length-1,x:p/o,y:v/o,width:C,height:M,xoffset:0,yoffset:0,xadvance:Math.ceil(L-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0))}),p+=(C+2*a)*o,p=Math.ceil(p)}for(var y=0,z=l.length;y<z;y++)for(var R=l[y],st=0;st<z;st++){var mt=l[st],F=g.measureText(R).width,U=g.measureText(mt).width,K=g.measureText(R+mt).width,xt=K-(F+U);xt&&d.kerning.push({first:R.charCodeAt(0),second:mt.charCodeAt(0),amount:xt})}var Y=new i(d,x);return i.available[e]!==void 0&&i.uninstall(e),i.available[e]=Y,Y},i.ALPHA=[["a","z"],["A","Z"]," "],i.NUMERIC=[["0","9"]],i.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],i.ASCII=[[" ","~"]],i.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:i.ALPHANUMERIC},i.available={},i}(),ba=[],xa=[];(function(i){xv(e,i);function e(t,r){r===void 0&&(r={});var n=i.call(this)||this;n._tint=16777215;var s=Object.assign({},e.styleDefaults,r),a=s.align,o=s.tint,h=s.maxWidth,u=s.letterSpacing,l=s.fontName,f=s.fontSize;if(!xr.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=a,n._tint=o,n._fontName=l,n._fontSize=f||xr.available[l].size,n._text=t,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new rr(function(){n.dirty=!0},n,0,0),n._roundPixels=Z.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return e.prototype.updateText=function(){for(var t,r=xr.available[this._fontName],n=this._fontSize/r.size,s=new Lt,a=[],o=[],h=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=u.length,f=this._maxWidth*r.size/this._fontSize,c=null,d=0,p=0,v=0,_=-1,g=0,m=0,b=0,x=0,y=0;y<l;y++){var E=u.charCodeAt(y),L=u.charAt(y);if(/(?:\s)/.test(L)&&(_=y,g=d,x++),L==="\r"||L===`
`){o.push(d),h.push(-1),p=Math.max(p,d),++v,++m,s.x=0,s.y+=r.lineHeight,c=null,x=0;continue}var M=r.chars[E];if(!!M){c&&M.kerning[c]&&(s.x+=M.kerning[c]);var C=xa.pop()||{texture:it.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Lt};C.texture=M.texture,C.line=v,C.charCode=E,C.position.x=s.x+M.xOffset+this._letterSpacing/2,C.position.y=s.y+M.yOffset,C.prevSpaces=x,a.push(C),s.x+=M.xAdvance+this._letterSpacing,d=s.x,b=Math.max(b,M.yOffset+M.texture.height),c=E,_!==-1&&f>0&&s.x>f&&(++m,sr(a,1+_-m,1+y-_),y=_,_=-1,o.push(g),h.push(a.length>0?a[a.length-1].prevSpaces:0),p=Math.max(p,g),v++,s.x=0,s.y+=r.lineHeight,c=null,x=0)}}var A=u.charAt(u.length-1);A!=="\r"&&A!==`
`&&(/(?:\s)/.test(A)&&(d=g),o.push(d),p=Math.max(p,d),h.push(-1));for(var z=[],y=0;y<=v;y++){var R=0;this._align==="right"?R=p-o[y]:this._align==="center"?R=(p-o[y])/2:this._align==="justify"&&(R=h[y]<0?0:(p-o[y])/h[y]),z.push(R)}for(var st=a.length,mt={},F=[],U=this._activePagesMeshData,y=0;y<U.length;y++)ba.push(U[y]);for(var y=0;y<st;y++){var K=a[y].texture,xt=K.baseTexture.uid;if(!mt[xt]){var Y=ba.pop();if(!Y){var N=new Mi,B=new Li(it.EMPTY),tt=new Dr(N,B);Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:tt,vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var dt=this._textureCache;dt[xt]=dt[xt]||new it(K.baseTexture),Y.mesh.texture=dt[xt],Y.mesh.tint=this._tint,F.push(Y),mt[xt]=Y}mt[xt].total++}for(var y=0;y<U.length;y++)F.indexOf(U[y])===-1&&this.removeChild(U[y].mesh);for(var y=0;y<F.length;y++)F[y].mesh.parent!==this&&this.addChild(F[y].mesh);this._activePagesMeshData=F;for(var y in mt){var Y=mt[y],H=Y.total;if(!(((t=Y.indices)===null||t===void 0?void 0:t.length)>6*H)||Y.vertices.length<Dr.BATCHABLE_SIZE*2)Y.vertices=new Float32Array(4*2*H),Y.uvs=new Float32Array(4*2*H),Y.indices=new Uint16Array(6*H);else for(var at=Y.total,J=Y.vertices,ut=at*4*2;ut<J.length;ut++)J[ut]=0;Y.mesh.size=6*H}for(var y=0;y<st;y++){var L=a[y],ot=L.position.x+z[L.line]*(this._align==="justify"?L.prevSpaces:1);this._roundPixels&&(ot=Math.round(ot));var rt=ot*n,lt=L.position.y*n,K=L.texture,D=mt[K.baseTexture.uid],Q=K.frame,ft=K._uvs,k=D.index++;D.indices[k*6+0]=0+k*4,D.indices[k*6+1]=1+k*4,D.indices[k*6+2]=2+k*4,D.indices[k*6+3]=0+k*4,D.indices[k*6+4]=2+k*4,D.indices[k*6+5]=3+k*4,D.vertices[k*8+0]=rt,D.vertices[k*8+1]=lt,D.vertices[k*8+2]=rt+Q.width*n,D.vertices[k*8+3]=lt,D.vertices[k*8+4]=rt+Q.width*n,D.vertices[k*8+5]=lt+Q.height*n,D.vertices[k*8+6]=rt,D.vertices[k*8+7]=lt+Q.height*n,D.uvs[k*8+0]=ft.x0,D.uvs[k*8+1]=ft.y0,D.uvs[k*8+2]=ft.x1,D.uvs[k*8+3]=ft.y1,D.uvs[k*8+4]=ft.x2,D.uvs[k*8+5]=ft.y2,D.uvs[k*8+6]=ft.x3,D.uvs[k*8+7]=ft.y3}this._textWidth=p*n,this._textHeight=(s.y+r.lineHeight)*n;for(var y in mt){var Y=mt[y];if(this.anchor.x!==0||this.anchor.y!==0)for(var ht=0,bt=this._textWidth*this.anchor.x,pt=this._textHeight*this.anchor.y,gt=0;gt<Y.total;gt++)Y.vertices[ht++]-=bt,Y.vertices[ht++]-=pt,Y.vertices[ht++]-=bt,Y.vertices[ht++]-=pt,Y.vertices[ht++]-=bt,Y.vertices[ht++]-=pt,Y.vertices[ht++]-=bt,Y.vertices[ht++]-=pt;this._maxLineHeight=b*n;var fr=Y.mesh.geometry.getBuffer("aVertexPosition"),ue=Y.mesh.geometry.getBuffer("aTextureCoord"),Ye=Y.mesh.geometry.getIndex();fr.data=Y.vertices,ue.data=Y.uvs,Ye.data=Y.indices,fr.update(),ue.update(),Ye.update()}for(var y=0;y<a.length;y++)xa.push(a[y])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),i.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!xr.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t){var r=this._textureCache;for(var n in r){var s=r[n];s.destroy(),delete r[n]}this._textureCache=null,i.prototype.destroy.call(this,t)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e})(Wt);var Pv=function(){function i(){}return i.add=function(){ie.setExtensionXhrType("fnt",ie.XHR_RESPONSE_TYPE.TEXT)},i.use=function(e,t){var r=Zo(e.data);if(!r){t();return}for(var n=i.getBaseUrl(this,e),s=r.parse(e.data),a={},o=function(v){a[v.metadata.pageFile]=v.texture,Object.keys(a).length===s.page.length&&(e.bitmapFont=xr.install(s,a),t())},h=0;h<s.page.length;++h){var u=s.page[h].file,l=n+u,f=!1;for(var c in this.resources){var d=this.resources[c];if(d.url===l){d.metadata.pageFile=u,d.texture?o(d):d.onAfterMiddleware.add(o),f=!0;break}}if(!f){var p={crossOrigin:e.crossOrigin,loadType:ie.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,p,o)}}},i.getBaseUrl=function(e,t){var r=t.isDataUrl?"":i.dirname(t.url);return t.isDataUrl&&(r==="."&&(r=""),e.baseUrl&&r&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(r+="/")),r=r.replace(e.baseUrl,""),r&&r.charAt(r.length-1)!=="/"&&(r+="/"),r},i.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":t===""?"/":t},i}();/*!
 * @pixi/filter-alpha - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Wn=function(i,e){return Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Wn(i,e)};function Iv(i,e){Wn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Cv=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(i){Iv(e,i);function e(t){t===void 0&&(t=1);var r=i.call(this,Bd,Cv,{uAlpha:1})||this;return r.alpha=t,r}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e})(Pe);/*!
 * @pixi/filter-blur - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qn=function(i,e){return qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},qn(i,e)};function Ko(i,e){qn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Av=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Rv(i,e){var t=Math.ceil(i/2),r=Av,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<i;a++){var o=s.replace("%index%",a.toString());o=o.replace("%sampleIndex%",a-(t-1)+".0"),n+=o,n+=`
`}return r=r.replace("%blur%",n),r=r.replace("%size%",i.toString()),r}var Ov={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Lv=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function Mv(i){for(var e=Ov[i],t=e.length,r=Lv,n="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,o=0;o<i;o++){var h=s.replace("%index%",o.toString());a=o,o>=t&&(a=i-o-1),h=h.replace("%value%",e[a].toString()),n+=h,n+=`
`}return r=r.replace("%blur%",n),r=r.replace("%size%",i.toString()),r}var Ta;(function(i){i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2"})(Ta||(Ta={}));var wa;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS"})(wa||(wa={}));var Ea;(function(i){i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL"})(Ea||(Ea={}));var Sa;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR"})(Sa||(Sa={}));var Pa;(function(i){i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Pa||(Pa={}));var Ia;(function(i){i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ia||(Ia={}));var Ca;(function(i){i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ca||(Ca={}));var Aa;(function(i){i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT"})(Aa||(Aa={}));var Ra;(function(i){i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR"})(Ra||(Ra={}));var Oa;(function(i){i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Oa||(Oa={}));var La;(function(i){i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL"})(La||(La={}));var Ma;(function(i){i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Ma||(Ma={}));var Fr;(function(i){i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT"})(Fr||(Fr={}));var Da;(function(i){i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL"})(Da||(Da={}));var Fa;(function(i){i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp"})(Fa||(Fa={}));var Na;(function(i){i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE"})(Na||(Na={}));var Ua;(function(i){i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH"})(Ua||(Ua={}));var Ba=function(i){Ko(e,i);function e(t,r,n,s,a){r===void 0&&(r=8),n===void 0&&(n=4),s===void 0&&(s=Z.FILTER_RESOLUTION),a===void 0&&(a=5);var o=this,h=Rv(a,t),u=Mv(a);return o=i.call(this,h,u)||this,o.horizontal=t,o.resolution=s,o._quality=0,o.quality=n,o.blur=r,o}return e.prototype.apply=function(t,r,n,s){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/r.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,r,n,s);else{var a=t.getFilterTexture(),o=t.renderer,h=r,u=a;this.state.blend=!1,t.applyFilter(this,h,u,Fr.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(h,Fr.BLIT),this.uniforms.uSampler=u;var f=u;u=h,h=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,n,s),t.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+Math.abs(t)*2,this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Pe);(function(i){Ko(e,i);function e(t,r,n,s){t===void 0&&(t=8),r===void 0&&(r=4),n===void 0&&(n=Z.FILTER_RESOLUTION),s===void 0&&(s=5);var a=i.call(this)||this;return a.blurXFilter=new Ba(!0,t,r,n,s),a.blurYFilter=new Ba(!1,t,r,n,s),a.resolution=n,a.quality=r,a.blur=t,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(t,r,n,s){var a=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(a&&o){var h=t.getFilterTexture();this.blurXFilter.apply(t,r,h,Fr.CLEAR),this.blurYFilter.apply(t,h,n,s),t.returnFilterTexture(h)}else o?this.blurYFilter.apply(t,r,n,s):this.blurXFilter.apply(t,r,n,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e})(Pe);/*!
 * @pixi/filter-color-matrix - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zn=function(i,e){return Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Zn(i,e)};function Dv(i,e){Zn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Fv=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ka=function(i){Dv(e,i);function e(){var t=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return t=i.call(this,Bo,Fv,r)||this,t.alpha=1,t}return e.prototype._loadMatrix=function(t,r){r===void 0&&(r=!1);var n=t;r&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,r,n){return t[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],t[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],t[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],t[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],t[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],t[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],t[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],t[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],t[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],t[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],t[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],t[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],t[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],t[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],t[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],t[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],t[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],t[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],t[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],t[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],t},e.prototype._colorMatrix=function(t){var r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function(t,r){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.greyscale=function(t,r){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.blackAndWhite=function(t){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.hue=function(t,r){t=(t||0)/180*Math.PI;var n=Math.cos(t),s=Math.sin(t),a=Math.sqrt,o=1/3,h=a(o),u=n+(1-n)*o,l=o*(1-n)-h*s,f=o*(1-n)+h*s,c=o*(1-n)+h*s,d=n+o*(1-n),p=o*(1-n)-h*s,v=o*(1-n)-h*s,_=o*(1-n)+h*s,g=n+o*(1-n),m=[u,l,f,0,0,c,d,p,0,0,v,_,g,0,0,0,0,0,1,0];this._loadMatrix(m,r)},e.prototype.contrast=function(t,r){var n=(t||0)+1,s=-.5*(n-1),a=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(a,r)},e.prototype.saturate=function(t,r){t===void 0&&(t=0);var n=t*2/3+1,s=(n-1)*-.5,a=[n,s,s,0,0,s,n,s,0,0,s,s,n,0,0,0,0,0,1,0];this._loadMatrix(a,r)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.sepia=function(t){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.technicolor=function(t){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.polaroid=function(t){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.toBGR=function(t){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.kodachrome=function(t){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.browni=function(t){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.vintage=function(t){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.colorTone=function(t,r,n,s,a){t=t||.2,r=r||.15,n=n||16770432,s=s||3375104;var o=(n>>16&255)/255,h=(n>>8&255)/255,u=(n&255)/255,l=(s>>16&255)/255,f=(s>>8&255)/255,c=(s&255)/255,d=[.3,.59,.11,0,0,o,h,u,t,0,l,f,c,r,0,o-l,h-f,u-c,0,0];this._loadMatrix(d,a)},e.prototype.night=function(t,r){t=t||.1;var n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.predator=function(t,r){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.lsd=function(t){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Pe);ka.prototype.grayscale=ka.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kn=function(i,e){return Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Kn(i,e)};function Nv(i,e){Kn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Uv=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Bv=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(i){Nv(e,i);function e(t,r){var n=this,s=new Mt;return t.renderable=!1,n=i.call(this,Bv,Uv,{mapSampler:t._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,n.maskSprite=t,n.maskMatrix=s,r==null&&(r=20),n.scale=new Lt(r,r),n}return e.prototype.apply=function(t,r,n,s){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,o=Math.sqrt(a.a*a.a+a.b*a.b),h=Math.sqrt(a.c*a.c+a.d*a.d);o!==0&&h!==0&&(this.uniforms.rotation[0]=a.a/o,this.uniforms.rotation[1]=a.b/o,this.uniforms.rotation[2]=a.c/h,this.uniforms.rotation[3]=a.d/h),t.applyFilter(this,r,n,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e})(Pe);/*!
 * @pixi/filter-fxaa - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Jn=function(i,e){return Jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Jn(i,e)};function kv(i,e){Jn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zv=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Gv=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(i){kv(e,i);function e(){return i.call(this,zv,Gv)||this}return e})(Pe);/*!
 * @pixi/filter-noise - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Qn=function(i,e){return Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},Qn(i,e)};function $v(i,e){Qn(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xv=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(i){$v(e,i);function e(t,r){t===void 0&&(t=.5),r===void 0&&(r=Math.random());var n=i.call(this,Bo,Xv,{uNoise:0,uSeed:0})||this;return n.noise=t,n.seed=r,n}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e})(Pe);/*!
 * @pixi/mixin-cache-as-bitmap - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Jo=new Mt;Dt.prototype._cacheAsBitmap=!1;Dt.prototype._cacheData=null;Dt.prototype._cacheAsBitmapResolution=null;var Hv=function(){function i(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return i}();Object.defineProperties(Dt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(i){if(this._cacheAsBitmap!==i){this._cacheAsBitmap=i;var e;i?(this._cacheData||(this._cacheData=new Hv),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Dt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Dt.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;r.pad(n)}r.ceil(Z.RESOLUTION);var s=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),o=e.projection.transform,h=$e.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution}),u="cacheAsBitmap_"+hr();this._cacheData.textureCacheId=u,Et.addToCache(h.baseTexture,u),it.addToCache(h,u);var l=this.transform.localTransform.copyTo(Jo).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:l,skipUpdateTransform:!1}),e.projection.transform=o,e.renderTexture.bind(s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new Ve(h);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=t,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)}};Dt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Dt.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=e.context,s=e._projTransform;t.ceil(Z.RESOLUTION);var a=$e.create({width:t.width,height:t.height}),o="cacheAsBitmap_"+hr();this._cacheData.textureCacheId=o,Et.addToCache(a.baseTexture,o),it.addToCache(a,o);var h=Jo;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=t.x,h.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:h,skipUpdateTransform:!1}),e.context=n,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new Ve(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(t.x/t.width),u.anchor.y=-(t.y/t.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}};Dt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Dt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Dt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Et.removeFromCache(this._cacheData.textureCacheId),it.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Dt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Dt.prototype.name=null;Wt.prototype.getChildByName=function(e,t){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(var r=0,n=this.children.length;r<n;r++){var s=this.children[r];if(!!s.getChildByName){var a=this.children[r].getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Dt.prototype.getGlobalPosition=function(e,t){return e===void 0&&(e=new Lt),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ts=function(i,e){return ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},ts(i,e)};function lr(i,e){ts(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var jv=function(i){lr(e,i);function e(t,r,n,s){t===void 0&&(t=100),r===void 0&&(r=100),n===void 0&&(n=10),s===void 0&&(s=10);var a=i.call(this)||this;return a.segWidth=n,a.segHeight=s,a.width=t,a.height=r,a.build(),a}return e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,r=[],n=[],s=[],a=this.segWidth-1,o=this.segHeight-1,h=this.width/a,u=this.height/o,l=0;l<t;l++){var f=l%this.segWidth,c=l/this.segWidth|0;r.push(f*h,c*u),n.push(f/a,c/o)}for(var d=a*o,l=0;l<d;l++){var p=l%a,v=l/a|0,_=v*this.segWidth+p,g=v*this.segWidth+p+1,m=(v+1)*this.segWidth+p,b=(v+1)*this.segWidth+p+1;s.push(_,g,m,g,b,m)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Mi),Vv=function(i){lr(e,i);function e(t,r,n){t===void 0&&(t=200),n===void 0&&(n=0);var s=i.call(this,new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6))||this;return s.points=r,s._width=t,s.textureScale=n,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(!!t){var r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(t.length<1)){r.data.length/4!==t.length&&(r.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),s.data=new Uint16Array((t.length-1)*6));var a=n.data,o=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var h=0,u=t[0],l=this._width*this.textureScale,f=t.length,c=0;c<f;c++){var d=c*4;if(this.textureScale>0){var p=u.x-t[c].x,v=u.y-t[c].y,_=Math.sqrt(p*p+v*v);u=t[c],h+=_/l}else h=c/(f-1);a[d]=h,a[d+1]=0,a[d+2]=h,a[d+3]=1}for(var g=0,c=0;c<f-1;c++){var d=c*2;o[g++]=d,o[g++]=d+1,o[g++]=d+2,o[g++]=d+2,o[g++]=d+1,o[g++]=d+3}n.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var r=t[0],n,s=0,a=0,o=this.buffers[0].data,h=t.length,u=0;u<h;u++){var l=t[u],f=u*4;u<t.length-1?n=t[u+1]:n=l,a=-(n.x-r.x),s=n.y-r.y;var c=Math.sqrt(s*s+a*a),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=c,a/=c,s*=d,a*=d,o[f]=l.x+s,o[f+1]=l.y+a,o[f+2]=l.x-s,o[f+3]=l.y-a,r=l}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Mi);(function(i){lr(e,i);function e(t,r,n){n===void 0&&(n=0);var s=this,a=new Vv(t.height,r,n),o=new Li(t);return n>0&&(t.baseTexture.wrapMode=Te.REPEAT),s=i.call(this,a,o)||this,s.autoUpdate=!0,s}return e.prototype._render=function(t){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),i.prototype._render.call(this,t)},e})(Dr);var Yv=function(i){lr(e,i);function e(t,r,n){var s=this,a=new jv(t.width,t.height,r,n),o=new Li(it.WHITE);return s=i.call(this,a,o)||this,s.texture=t,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),i.prototype._render.call(this,t)},e.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),i.prototype.destroy.call(this,t)},e}(Dr);(function(i){lr(e,i);function e(t,r,n,s,a){t===void 0&&(t=it.EMPTY);var o=this,h=new Mi(r,n,s);h.getBuffer("aVertexPosition").static=!1;var u=new Li(t);return o=i.call(this,h,u,null,a)||this,o.autoUpdate=!0,o}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),i.prototype._render.call(this,t)},e})(Dr);var hi=10;(function(i){lr(e,i);function e(t,r,n,s,a){r===void 0&&(r=hi),n===void 0&&(n=hi),s===void 0&&(s=hi),a===void 0&&(a=hi);var o=i.call(this,it.WHITE,4,4)||this;return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=r,o._rightWidth=s,o._topHeight=n,o._bottomHeight=a,o.texture=t,o}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,r=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,r=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,r=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n,a=Math.min(r,s);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,r=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,s=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=s*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e})(Yv);/*!
 * @pixi/sprite-animated - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var es=function(i,e){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])},es(i,e)};function Wv(i,e){es(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}(function(i){Wv(e,i);function e(t,r){r===void 0&&(r=!0);var n=i.call(this,t[0]instanceof it?t[0]:t[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=t,n}return e.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Bt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Bt.shared.add(this.update,this,me.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var r=this.currentFrame;this._currentTime=t,r!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var r=this.currentFrame;this._currentTime=t,r!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(!!this._playing){var r=this.animationSpeed*t,n=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(t){this.stop(),i.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(it.from(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(it.from(t[n]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof it)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<t.length;r++)this._textures.push(t[r].texture),this._durations.push(t[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Bt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Bt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e})(Ve);/*!
 * pixi.js - v6.0.0
 * Compiled Tue, 02 Mar 2021 21:45:03 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ie.registerPlugin("accessibility",yc);Ie.registerPlugin("extract",Hd);Ie.registerPlugin("interaction",Sc);Ie.registerPlugin("particle",Np);Ie.registerPlugin("prepare",cv);Ie.registerPlugin("batch",$d);Ie.registerPlugin("tilingSprite",mv);ge.registerPlugin(Pv);ge.registerPlugin(fp);ge.registerPlugin(Cp);ge.registerPlugin(Mp);ge.registerPlugin(pv);Br.registerPlugin(bc);Br.registerPlugin(op);var Qo={exports:{}};(function(i,e){i.exports=t;function t(o,h){if(!(this instanceof t))return new t(o,h);this.x=o||0,this.y=h||0}t.fromArray=function(o){return new t(o[0]||0,o[1]||0)},t.fromObject=function(o){return new t(o.x||0,o.y||0)},t.prototype.addX=function(o){return this.x+=o.x,this},t.prototype.addY=function(o){return this.y+=o.y,this},t.prototype.add=function(o){return this.x+=o.x,this.y+=o.y,this},t.prototype.addScalar=function(o){return this.x+=o,this.y+=o,this},t.prototype.addScalarX=function(o){return this.x+=o,this},t.prototype.addScalarY=function(o){return this.y+=o,this},t.prototype.subtractX=function(o){return this.x-=o.x,this},t.prototype.subtractY=function(o){return this.y-=o.y,this},t.prototype.subtract=function(o){return this.x-=o.x,this.y-=o.y,this},t.prototype.subtractScalar=function(o){return this.x-=o,this.y-=o,this},t.prototype.subtractScalarX=function(o){return this.x-=o,this},t.prototype.subtractScalarY=function(o){return this.y-=o,this},t.prototype.divideX=function(o){return this.x/=o.x,this},t.prototype.divideY=function(o){return this.y/=o.y,this},t.prototype.divide=function(o){return this.x/=o.x,this.y/=o.y,this},t.prototype.divideScalar=function(o){return o!==0?(this.x/=o,this.y/=o):(this.x=0,this.y=0),this},t.prototype.divideScalarX=function(o){return o!==0?this.x/=o:this.x=0,this},t.prototype.divideScalarY=function(o){return o!==0?this.y/=o:this.y=0,this},t.prototype.invertX=function(){return this.x*=-1,this},t.prototype.invertY=function(){return this.y*=-1,this},t.prototype.invert=function(){return this.invertX(),this.invertY(),this},t.prototype.multiplyX=function(o){return this.x*=o.x,this},t.prototype.multiplyY=function(o){return this.y*=o.y,this},t.prototype.multiply=function(o){return this.x*=o.x,this.y*=o.y,this},t.prototype.multiplyScalar=function(o){return this.x*=o,this.y*=o,this},t.prototype.multiplyScalarX=function(o){return this.x*=o,this},t.prototype.multiplyScalarY=function(o){return this.y*=o,this},t.prototype.normalize=function(){var o=this.length();return o===0?(this.x=1,this.y=0):this.divide(t(o,o)),this},t.prototype.norm=t.prototype.normalize,t.prototype.limit=function(o,h){return Math.abs(this.x)>o&&(this.x*=h),Math.abs(this.y)>o&&(this.y*=h),this},t.prototype.randomize=function(o,h){return this.randomizeX(o,h),this.randomizeY(o,h),this},t.prototype.randomizeX=function(o,h){var u=Math.min(o.x,h.x),l=Math.max(o.x,h.x);return this.x=n(u,l),this},t.prototype.randomizeY=function(o,h){var u=Math.min(o.y,h.y),l=Math.max(o.y,h.y);return this.y=n(u,l),this},t.prototype.randomizeAny=function(o,h){return Math.round(Math.random())?this.randomizeX(o,h):this.randomizeY(o,h),this},t.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.prototype.toFixed=function(o){return typeof o>"u"&&(o=8),this.x=this.x.toFixed(o),this.y=this.y.toFixed(o),this},t.prototype.mixX=function(o,h){return typeof h>"u"&&(h=.5),this.x=(1-h)*this.x+h*o.x,this},t.prototype.mixY=function(o,h){return typeof h>"u"&&(h=.5),this.y=(1-h)*this.y+h*o.y,this},t.prototype.mix=function(o,h){return this.mixX(o,h),this.mixY(o,h),this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyX=function(o){return this.x=o.x,this},t.prototype.copyY=function(o){return this.y=o.y,this},t.prototype.copy=function(o){return this.copyX(o),this.copyY(o),this},t.prototype.zero=function(){return this.x=this.y=0,this},t.prototype.dot=function(o){return this.x*o.x+this.y*o.y},t.prototype.cross=function(o){return this.x*o.y-this.y*o.x},t.prototype.projectOnto=function(o){var h=(this.x*o.x+this.y*o.y)/(o.x*o.x+o.y*o.y);return this.x=h*o.x,this.y=h*o.y,this},t.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.horizontalAngleDeg=function(){return s(this.horizontalAngle())},t.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},t.prototype.verticalAngleDeg=function(){return s(this.verticalAngle())},t.prototype.angle=t.prototype.horizontalAngle,t.prototype.angleDeg=t.prototype.horizontalAngleDeg,t.prototype.direction=t.prototype.horizontalAngle,t.prototype.rotate=function(o){var h=this.x*Math.cos(o)-this.y*Math.sin(o),u=this.x*Math.sin(o)+this.y*Math.cos(o);return this.x=h,this.y=u,this},t.prototype.rotateDeg=function(o){return o=a(o),this.rotate(o)},t.prototype.rotateTo=function(o){return this.rotate(o-this.angle())},t.prototype.rotateToDeg=function(o){return o=a(o),this.rotateTo(o)},t.prototype.rotateBy=function(o){var h=this.angle()+o;return this.rotate(h)},t.prototype.rotateByDeg=function(o){return o=a(o),this.rotateBy(o)},t.prototype.distanceX=function(o){return this.x-o.x},t.prototype.absDistanceX=function(o){return Math.abs(this.distanceX(o))},t.prototype.distanceY=function(o){return this.y-o.y},t.prototype.absDistanceY=function(o){return Math.abs(this.distanceY(o))},t.prototype.distance=function(o){return Math.sqrt(this.distanceSq(o))},t.prototype.distanceSq=function(o){var h=this.distanceX(o),u=this.distanceY(o);return h*h+u*u},t.prototype.length=function(){return Math.sqrt(this.lengthSq())},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.magnitude=t.prototype.length,t.prototype.isZero=function(){return this.x===0&&this.y===0},t.prototype.isEqualTo=function(o){return this.x===o.x&&this.y===o.y},t.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},t.prototype.toArray=function(){return[this.x,this.y]},t.prototype.toObject=function(){return{x:this.x,y:this.y}};var r=180/Math.PI;function n(o,h){return Math.floor(Math.random()*(h-o+1)+o)}function s(o){return o*r}function a(o){return o/r}})(Qo);const kt=Qo.exports;function qv(i){let e;return{c(){e=S("main"),e.innerHTML=`<h1 class="svelte-141ke50">SETHLUPO</h1> 
    <div id="gradient" class="svelte-141ke50"></div>`,T(e,"class","svelte-141ke50")},m(t,r){V(t,e,r),i[1](e)},p:nt,i:nt,o:nt,d(t){t&&X(e),i[1](null)}}}function Zv(i,e,t){let r;is(()=>{let s=new Br({resizeTo:r,antialiasing:!1});r.appendChild(s.view);const a=new ha(9e3);s.stage.addChild(a);const o=new ha(9e3);s.stage.addChild(o),a.interactive=!0,o.interactive=13024185;let h=new Lr;h.beginFill(40959),h.drawCircle(0,0,3);let u=s.renderer.generateTexture(h),l=new Lr;l.beginFill(6226068),l.drawCircle(0,0,3);let f=s.renderer.generateTexture(l),c=(p,v,_,g)=>{let m=new Ve(v);m.anchor.set(.5),m.x=0;let b={pos:kt(s.renderer.width*Math.random(),s.renderer.height*Math.random()),vel:kt(5*(Math.random()-.5),5*(Math.random()-.5))},x=Math.random()*g+_;return m.width=x,m.height=x,m.data=b,p.addChild(m),m},d=[];d=d.concat(new Array(9e3).fill(null).map(()=>c(o,u,2,5))),d=d.concat(new Array(9e3).fill(null).map(()=>c(a,f,5,10))),s.ticker.maxFPS=s.ticker.add(p=>{let v=kt(s.renderer.plugins.interaction.mouse.global.x,s.renderer.plugins.interaction.mouse.global.y),_=v.x>0&&v.x<s.renderer.width,g=v.y>0&&v.y<s.renderer.height;d.map(m=>{if(_&&g){let b=m.data.pos.clone().subtract(v),x=.1/b.lengthSq();b.multiply(kt(x,x)),m.data.vel.add(b),m.data.vel.add(kt(-150*b.y,150*b.x))}m.data.vel.multiply(kt(.99,.99)),m.data.pos.add(m.data.vel),m.data.pos.x<0?m.data.pos.x=s.renderer.width:m.data.pos.x>s.renderer.width&&(m.data.pos.x=0),m.data.pos.y<0?m.data.pos.y=s.renderer.height:m.data.pos.y>s.renderer.height&&(m.data.pos.y=0),m.x=m.data.pos.x,m.y=m.data.pos.y})})});function n(s){ci[s?"unshift":"push"](()=>{r=s,t(0,r)})}return[r,n]}class Kv extends Pt{constructor(e){super(),St(this,e,Zv,qv,wt,{})}}function Jv(i){let e,t,r;return{c(){e=S("main"),e.innerHTML=`<div id="acc1" class="svelte-1jwilly"></div> 

    <h1 class="svelte-1jwilly">Let me introduce myself,</h1> 
    <h2 class="svelte-1jwilly">I&#39;m Seth!</h2> 
    <p class="svelte-1jwilly">You probably knew that from the title.</p> 
    <p class="svelte-1jwilly">I&#39;m a Senior at Innovation Academy Charter School in Tyngsboro, Massachusetts. As my high school career comes to a close, I would like to present a few of the projects I&#39;ve built so far. By doing so, I hope to show off my skills.</p> 
    <p class="svelte-1jwilly"><b class="svelte-1jwilly">If there is one thing you need to know about me...</b></p>`,T(e,"class","svelte-1jwilly"),W(e,"active",i[0])},m(n,s){V(n,e,s),t||(r=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[1])],t=!0)},p(n,[s]){s&1&&W(e,"active",n[0])},i:nt,o:nt,d(n){n&&X(e),t=!1,jt(r)}}}function Qv(i,e,t){let r=!1;return[r,()=>{t(0,r=!0)}]}class t_ extends Pt{constructor(e){super(),St(this,e,Qv,Jv,wt,{})}}function e_(i){let e,t,r;return{c(){e=S("main"),e.innerHTML=`<div id="header" class="svelte-1i9lkua"><div id="acc1" class="svelte-1i9lkua"></div> 
        <div id="acc2" class="svelte-1i9lkua"></div> 
        <h1 class="svelte-1i9lkua">Why do I love them?</h1></div> 
    <div id="divider" class="svelte-1i9lkua"><div id="math" class="svelte-1i9lkua"><h2 class="svelte-1i9lkua"><span id="c1" class="svelte-1i9lkua">Math</span> lets me solve problems.</h2></div> 
        <div id="cs" class="svelte-1i9lkua"><h2 class="svelte-1i9lkua"><span id="c2" class="svelte-1i9lkua">CS</span> lets me implement solutions.</h2></div></div>`,T(e,"class","svelte-1i9lkua"),W(e,"active",i[0])},m(n,s){V(n,e,s),t||(r=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[1])],t=!0)},p(n,[s]){s&1&&W(e,"active",n[0])},i:nt,o:nt,d(n){n&&X(e),t=!1,jt(r)}}}function r_(i,e,t){let r=!1;return[r,()=>{t(0,r=!0)}]}class i_ extends Pt{constructor(e){super(),St(this,e,r_,e_,wt,{})}}function n_(i){let e,t,r,n,s,a,o,h,u,l,f,c,d,p,v,_,g,m,b,x,y,E,L,M,C,A,z,R,st,mt,F,U,K,xt,Y,N,B,tt,dt,H,at,J,ut,ot,rt,lt,D,Q,ft,k,ht,bt,pt,gt,fr,ue,Ye,us;return{c(){e=S("main"),t=S("div"),r=S("h1"),r.textContent="Tech I know...",n=I(),s=S("p"),s.textContent="While I've used many programming languages and frameworks, these are the one's I use most commonly:",a=I(),o=S("ul"),h=S("span"),u=S("li"),l=S("a"),l.textContent="Java",f=I(),c=S("ul"),d=S("li"),p=S("a"),p.textContent="Processing",v=I(),_=S("li"),g=S("a"),g.textContent="JavaFX",m=I(),b=S("li"),x=S("a"),x.textContent="Maven",y=I(),E=S("span"),L=S("li"),M=S("a"),M.textContent="Python",C=I(),A=S("ul"),z=S("li"),R=S("a"),R.textContent="Numpy",st=I(),mt=S("li"),F=S("a"),F.textContent="Pandas",U=I(),K=S("li"),xt=S("a"),xt.textContent="Django",Y=I(),N=S("span"),B=S("li"),tt=S("a"),tt.textContent="Javascript",dt=I(),H=S("ul"),at=S("li"),J=S("a"),J.textContent="Node.js",ut=I(),ot=S("li"),rt=S("a"),rt.textContent="Svelte",lt=I(),D=S("li"),Q=S("a"),Q.textContent="React",ft=I(),k=S("li"),ht=S("a"),ht.textContent="P5.js",bt=I(),pt=S("li"),gt=S("a"),gt.textContent="Pixi.js",fr=I(),ue=S("div"),ue.innerHTML=`<div id="acc1" class="svelte-2bp604"></div> 
        <div id="acc2" class="svelte-2bp604"></div>`,T(r,"class","svelte-2bp604"),T(s,"class","svelte-2bp604"),T(l,"href","https://www.ibm.com/cloud/learn/java-explained"),T(l,"class","svelte-2bp604"),W(l,"on",i[1]=="Java"),T(u,"class","svelte-2bp604"),T(p,"href","https://processing.org/"),T(p,"class","svelte-2bp604"),W(p,"on",i[1]=="Processing"),T(d,"class","svelte-2bp604"),T(g,"href","https://openjfx.io/"),T(g,"class","svelte-2bp604"),W(g,"on",i[1]=="JavaFX"),T(_,"class","svelte-2bp604"),T(x,"href","https://maven.apache.org/"),T(x,"class","svelte-2bp604"),W(x,"on",i[1]=="Maven"),T(b,"class","svelte-2bp604"),T(c,"class","inner svelte-2bp604"),T(h,"class","lang svelte-2bp604"),T(M,"href","https://www.python.org/doc/essays/blurb/"),T(M,"class","svelte-2bp604"),W(M,"on",i[1]=="Python"),T(L,"class","svelte-2bp604"),T(R,"href","https://numpy.org/"),T(R,"class","svelte-2bp604"),W(R,"on",i[1]=="Numpy"),T(z,"class","svelte-2bp604"),T(F,"href","https://pandas.pydata.org/"),T(F,"class","svelte-2bp604"),W(F,"on",i[1]=="Pandas"),T(mt,"class","svelte-2bp604"),T(xt,"href","https://www.djangoproject.com/"),T(xt,"class","svelte-2bp604"),W(xt,"on",i[1]=="Django"),T(K,"class","svelte-2bp604"),T(A,"class","inner svelte-2bp604"),T(E,"class","lang svelte-2bp604"),T(tt,"href","https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript"),T(tt,"class","svelte-2bp604"),W(tt,"on",i[1]=="Javascript"),T(B,"class","svelte-2bp604"),T(J,"href","https://nodejs.org/en/"),T(J,"class","svelte-2bp604"),W(J,"on",i[1]=="Node"),T(at,"class","svelte-2bp604"),T(rt,"href","https://svelte.dev/"),T(rt,"class","svelte-2bp604"),W(rt,"on",i[1]=="Svelte"),T(ot,"class","svelte-2bp604"),T(Q,"href","https://reactjs.org/"),T(Q,"class","svelte-2bp604"),W(Q,"on",i[1]=="React"),T(D,"class","svelte-2bp604"),T(ht,"href","https://p5js.org/"),T(ht,"class","svelte-2bp604"),W(ht,"on",i[1]=="P5"),T(k,"class","svelte-2bp604"),T(gt,"href","https://pixijs.com/"),T(gt,"class","svelte-2bp604"),W(gt,"on",i[1]=="Pixi"),T(pt,"class","svelte-2bp604"),T(H,"class","inner svelte-2bp604"),T(N,"class","lang svelte-2bp604"),T(o,"class","outer svelte-2bp604"),T(t,"id","text"),T(t,"class","svelte-2bp604"),T(ue,"id","sketch"),T(ue,"class","svelte-2bp604"),T(e,"class","svelte-2bp604"),W(e,"active",i[0])},m(Ft,Nt){V(Ft,e,Nt),w(e,t),w(t,r),w(t,n),w(t,s),w(t,a),w(t,o),w(o,h),w(h,u),w(u,l),w(h,f),w(h,c),w(c,d),w(d,p),w(c,v),w(c,_),w(_,g),w(c,m),w(c,b),w(b,x),w(o,y),w(o,E),w(E,L),w(L,M),w(E,C),w(E,A),w(A,z),w(z,R),w(A,st),w(A,mt),w(mt,F),w(A,U),w(A,K),w(K,xt),w(o,Y),w(o,N),w(N,B),w(B,tt),w(N,dt),w(N,H),w(H,at),w(at,J),w(H,ut),w(H,ot),w(ot,rt),w(H,lt),w(H,D),w(D,Q),w(H,ft),w(H,k),w(k,ht),w(H,bt),w(H,pt),w(pt,gt),w(e,fr),w(e,ue),i[4](ue),Ye||(us=[_t(u,"mouseenter",i[3]("Java")),_t(u,"mouseleave",i[3]("")),_t(d,"mouseenter",i[3]("Processing")),_t(d,"mouseleave",i[3]("")),_t(_,"mouseenter",i[3]("JavaFX")),_t(_,"mouseleave",i[3]("")),_t(b,"mouseenter",i[3]("Maven")),_t(b,"mouseleave",i[3]("")),_t(L,"mouseenter",i[3]("Python")),_t(L,"mouseleave",i[3]("")),_t(z,"mouseenter",i[3]("Numpy")),_t(z,"mouseleave",i[3]("")),_t(mt,"mouseenter",i[3]("Pandas")),_t(mt,"mouseleave",i[3]("")),_t(K,"mouseenter",i[3]("Django")),_t(K,"mouseleave",i[3]("")),_t(B,"mouseenter",i[3]("Javascript")),_t(B,"mouseleave",i[3]("")),_t(at,"mouseenter",i[3]("Node")),_t(at,"mouseleave",i[3]("")),_t(ot,"mouseenter",i[3]("Svelte")),_t(ot,"mouseleave",i[3]("")),_t(D,"mouseenter",i[3]("React")),_t(D,"mouseleave",i[3]("")),_t(k,"mouseenter",i[3]("P5")),_t(k,"mouseleave",i[3]("")),_t(pt,"mouseenter",i[3]("Pixi")),_t(pt,"mouseleave",i[3]("")),Ee(Se.call(null,e)),_t(e,"enterViewport",i[5])],Ye=!0)},p(Ft,[Nt]){Nt&2&&W(l,"on",Ft[1]=="Java"),Nt&2&&W(p,"on",Ft[1]=="Processing"),Nt&2&&W(g,"on",Ft[1]=="JavaFX"),Nt&2&&W(x,"on",Ft[1]=="Maven"),Nt&2&&W(M,"on",Ft[1]=="Python"),Nt&2&&W(R,"on",Ft[1]=="Numpy"),Nt&2&&W(F,"on",Ft[1]=="Pandas"),Nt&2&&W(xt,"on",Ft[1]=="Django"),Nt&2&&W(tt,"on",Ft[1]=="Javascript"),Nt&2&&W(J,"on",Ft[1]=="Node"),Nt&2&&W(rt,"on",Ft[1]=="Svelte"),Nt&2&&W(Q,"on",Ft[1]=="React"),Nt&2&&W(ht,"on",Ft[1]=="P5"),Nt&2&&W(gt,"on",Ft[1]=="Pixi"),Nt&1&&W(e,"active",Ft[0])},i:nt,o:nt,d(Ft){Ft&&X(e),i[4](null),Ye=!1,jt(us)}}}function s_(i,e,t){let r=!1,n="",s=u=>()=>{t(1,n=u)},a;is(()=>{let u=new Br({resizeTo:a,antialias:!0});a.appendChild(u.view);const l=new Wt;u.stage.addChild(l);const f=new Wt;u.stage.addChild(f);let c=kt(u.renderer.plugins.interaction.mouse.global.x,u.renderer.plugins.interaction.mouse.global.y),d,v=[[80,!0,0,"logos/java.png","Java"],[80,!0,1,"logos/js.png","Javascript"],[80,!0,2,"logos/python.png","Python"],[40,!1,0,"logos/javafx.png","JavaFX"],[40,!1,0,"logos/pro.png","Processing"],[40,!1,0,"logos/maven.png","Maven"],[40,!1,1,"logos/svelte.png","Svelte"],[40,!1,1,"logos/react.png","React"],[40,!1,1,"logos/pixi.png","Pixi"],[40,!1,1,"logos/node.png","Node"],[40,!1,1,"logos/p5.png","P5"],[40,!1,2,"logos/django.png","Django"],[40,!1,2,"logos/numpy.png","Numpy"],[40,!1,2,"logos/pandas.png","Pandas"]].map(g=>{let m=Ve.from(g[3]);return m.anchor.set(.5),m.data={pos:kt(u.renderer.width*(Math.random()*.8+.1),u.renderer.height*(Math.random()*.8+.1)),vel:kt(0,0),size:g[0],currentSize:g[0],primary:g[1],type:g[2],selected:!1,name:g[4]},m.height=g[0],m.width=g[0]*(m.texture.baseTexture.width/m.texture.baseTexture.height),m.on("mousedown",b=>{m.data.pos=kt(b.data.global.x,b.data.global.y),m.data.selected=!0,t(1,n=m.data.name)}),m.on("mousemove",b=>{m.data.selected&&(m.data.pos=kt(b.data.global.x,b.data.global.y))}),m.on("mouseup",b=>{m.data.selected=!1,m.data.vel=d,m.data.vel.subtract(c),t(1,n="")}),m.interactive=!0,f.addChild(m),m}),_=[];for(let g of v)for(let m of v)if(g.data.primary&&!m.data.primary&&g.data.type==m.data.type){let b=new Lr;b.data={p1:g,p2:m},_.push(b),l.addChild(b)}u.ticker.add(g=>{c=d,d=kt(u.renderer.plugins.interaction.mouse.global.x,u.renderer.plugins.interaction.mouse.global.y),v.map(m=>{v.map(x=>{if(m!=x){let y=x.data.pos.clone();y.subtract(m.data.pos);let E=y.length();y.normalize();let L=y.clone(),M=y.clone(),C=y.clone(),A=100/E**2,z=-4e4/E**3,R=9e-4*E,st=-.35/E**.5;y.x*=A,y.y*=A,L.x*=z,L.y*=z,C.x*=R,C.y*=R,M.x*=st,M.y*=st,m.data.primary==!1&&x.data.primary==!0&&x.data.type==m.data.type&&m.data.vel.add(C),m.data.type!=x.data.type&&m.data.vel.add(M),m.data.vel.add(L)}});let b=m.data.primary?50:30;m.data.vel.add(kt(b/m.data.pos.x**1,b/m.data.pos.y**1)),m.data.vel.add(kt(b/(m.data.pos.x-u.renderer.width)**1,b/(m.data.pos.y-u.renderer.height)**1)),m.data.pos.x<-50?m.data.pos.x=u.renderer.width:m.data.pos.x>u.renderer.width+50&&(m.data.pos.x=0),m.data.pos.y<-50?m.data.pos.y=u.renderer.height:m.data.pos.y>u.renderer.height+50&&(m.data.pos.y=0)}),v.map(m=>{m.data.vel.multiply(kt(.98,.98)),m.data.vel.length()>20&&m.data.vel.normalize().multiply(kt(20,20)),m.data.selected||m.data.pos.add(m.data.vel),m.x=m.data.pos.x,m.y=m.data.pos.y,n==m.data.name?m.data.currentSize=120:m.data.currentSize=m.data.size;let x=m.data.currentSize;m.width=x*(m.texture.baseTexture.width/m.texture.baseTexture.height),m.height=x}),_.map(m=>{m.clear(),m.lineStyle(4,10682623).moveTo(m.data.p1.data.pos.x,m.data.p1.data.pos.y).lineTo(m.data.p2.data.pos.x,m.data.p2.data.pos.y)})})});function o(u){ci[u?"unshift":"push"](()=>{a=u,t(2,a)})}return[r,n,a,s,o,()=>{t(0,r=!0)}]}class a_ extends Pt{constructor(e){super(),St(this,e,s_,n_,wt,{})}}const He=()=>{let i={me:"Cornell",portfolio:"MIT",projects:"Tufts",stuff:"UMass Amherst"},e=new RegExp("(?<=#)\\w+","g"),r=window.location.href.match(e);if(r==null||r.length==0)return!1;{let n=r[0];return n in i?i[n]:!1}};function o_(i){let e;return{c(){e=Yt("Still, I remain excited to encounter what's next.")},m(t,r){V(t,e,r)},d(t){t&&X(e)}}}function h_(i){let e;return{c(){e=S("b"),e.textContent="However, I hope to get into my dream school...",T(e,"class","svelte-cqk1q1")},m(t,r){V(t,e,r)},d(t){t&&X(e)}}}function u_(i){let e,t,r,n,s,a,o,h,u,l,f,c,d;function p(g,m){return He()?h_:o_}let _=p()(i);return{c(){e=S("main"),t=S("div"),r=I(),n=S("h1"),n.textContent="Future Plans",s=I(),a=S("p"),a.innerHTML='I currently want to pursue a Doctorate in computer science. Specifically, I want to study <a href="https://en.wikipedia.org/wiki/Theoretical_computer_science" class="svelte-cqk1q1">theoretical computing</a> and <a href="https://en.wikipedia.org/wiki/Algorithmic_information_theory" class="svelte-cqk1q1">algorithmic information theory</a>. I don&#39;t want to just use computers; I want to study the limit of what is computationally possible.',o=I(),h=S("p"),h.textContent="After I earn my degree, I've been thinking about becoming a professor. I've always enjoyed teaching others. Also, being a professor will let me conduct my own research free from financial incentives. However, this plan is subject to change\u2014many things can happen in 6 years!",u=I(),l=S("p"),f=Yt(`I am currently in the process of applying colleges (odds are you're probably an admission officer). Because of that, my future is uncertain. \r
        \r
        `),_.c(),T(t,"id","acc1"),T(t,"class","svelte-cqk1q1"),T(n,"class","svelte-cqk1q1"),T(a,"class","svelte-cqk1q1"),T(h,"class","svelte-cqk1q1"),T(l,"class","svelte-cqk1q1"),T(e,"class","svelte-cqk1q1"),W(e,"active",i[0])},m(g,m){V(g,e,m),w(e,t),w(e,r),w(e,n),w(e,s),w(e,a),w(e,o),w(e,h),w(e,u),w(e,l),w(l,f),_.m(l,null),c||(d=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[1])],c=!0)},p(g,[m]){m&1&&W(e,"active",g[0])},i:nt,o:nt,d(g){g&&X(e),_.d(),c=!1,jt(d)}}}function l_(i,e,t){let r=!1;return[r,()=>{t(0,r=!0)}]}class f_ extends Pt{constructor(e){super(),St(this,e,l_,u_,wt,{})}}function c_(i){let e;return{c(){e=S("div"),T(e,"id","image"),T(e,"class","svelte-iiq2jt"),W(e,"normal",He()!="MIT"),W(e,"mit",He()=="MIT"),ao(e,"background-image","url(schools/"+i[1].split(" ").at(-1)+".png)")},m(t,r){V(t,e,r)},p:nt,d(t){t&&X(e)}}}function d_(i){let e,t,r,n,s,a,o,h,u,l,f=i[1]&&c_(i);return{c(){e=S("main"),t=S("div"),r=I(),n=S("div"),s=I(),a=S("div"),f&&f.c(),o=I(),h=S("h1"),h.textContent=`${i[1]}${He()=="MIT"?"":"!"}`,T(t,"id","acc1"),T(t,"class","svelte-iiq2jt"),T(n,"id","acc2"),T(n,"class","svelte-iiq2jt"),T(h,"class","svelte-iiq2jt"),T(a,"id","wrapper"),T(a,"class","svelte-iiq2jt"),T(e,"class","svelte-iiq2jt"),W(e,"active",i[0]),ao(e,"display",i[2])},m(c,d){V(c,e,d),w(e,t),w(e,r),w(e,n),w(e,s),w(e,a),f&&f.m(a,null),w(a,o),w(a,h),u||(l=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[3])],u=!0)},p(c,[d]){c[1]&&f.p(c,d),d&1&&W(e,"active",c[0])},i:nt,o:nt,d(c){c&&X(e),f&&f.d(),u=!1,jt(l)}}}function p_(i,e,t){let r=!1,n=He();return[r,n,n?"flex":"none",()=>{t(0,r=!0)}]}class v_ extends Pt{constructor(e){super(),St(this,e,p_,d_,wt,{})}}const Qe=[];function __(i,e=nt){let t;const r=new Set;function n(o){if(wt(i,o)&&(i=o,t)){const h=!Qe.length;for(const u of r)u[1](),Qe.push(u,i);if(h){for(let u=0;u<Qe.length;u+=2)Qe[u][0](Qe[u+1]);Qe.length=0}}}function s(o){n(o(i))}function a(o,h=nt){const u=[o,h];return r.add(u),r.size===1&&(t=e(n)||nt),o(i),()=>{r.delete(u),r.size===0&&(t(),t=null)}}return{set:n,update:s,subscribe:a}}const wi=__("");function za(i){let e,t;return{c(){e=S("img"),T(e,"class","langLogo svelte-1iq9nyn"),he(e.src,t="logos/"+i[2])||T(e,"src",t)},m(r,n){V(r,e,n)},p(r,n){n&4&&!he(e.src,t="logos/"+r[2])&&T(e,"src",t)},d(r){r&&X(e)}}}function Ga(i){let e,t;return{c(){e=S("img"),T(e,"class","langLogo svelte-1iq9nyn"),he(e.src,t="logos/"+i[3])||T(e,"src",t)},m(r,n){V(r,e,n)},p(r,n){n&8&&!he(e.src,t="logos/"+r[3])&&T(e,"src",t)},d(r){r&&X(e)}}}function $a(i){let e,t;return{c(){e=S("img"),T(e,"class","typeLogo svelte-1iq9nyn"),he(e.src,t="logos/"+i[5])||T(e,"src",t)},m(r,n){V(r,e,n)},p(r,n){n&32&&!he(e.src,t="logos/"+r[5])&&T(e,"src",t)},d(r){r&&X(e)}}}function Xa(i){let e,t;return{c(){e=S("img"),T(e,"class","typeLogo svelte-1iq9nyn"),he(e.src,t="logos/"+i[6])||T(e,"src",t)},m(r,n){V(r,e,n)},p(r,n){n&64&&!he(e.src,t="logos/"+r[6])&&T(e,"src",t)},d(r){r&&X(e)}}}function m_(i){let e,t,r,n,s,a,o,h,u,l,f,c,d,p,v=i[2]!=""&&za(i),_=i[3]!=""&&Ga(i),g=i[5]!=""&&$a(i),m=i[6]!=""&&Xa(i);return{c(){e=S("main"),t=S("a"),r=Yt(i[0]),n=Yt("th Grade"),s=I(),a=S("a"),o=Yt(i[1]),h=I(),v&&v.c(),u=I(),_&&_.c(),l=I(),f=S("a"),c=Yt(i[4]),d=I(),g&&g.c(),p=I(),m&&m.c(),T(t,"id","grade"),T(t,"class","svelte-1iq9nyn"),T(a,"id","lang"),T(a,"class","svelte-1iq9nyn"),T(f,"id","type"),T(f,"class","svelte-1iq9nyn"),T(e,"class","svelte-1iq9nyn")},m(b,x){V(b,e,x),w(e,t),w(t,r),w(t,n),w(e,s),w(e,a),w(a,o),w(a,h),v&&v.m(a,null),w(a,u),_&&_.m(a,null),w(e,l),w(e,f),w(f,c),w(f,d),g&&g.m(f,null),w(f,p),m&&m.m(f,null)},p(b,[x]){x&1&&ir(r,b[0]),x&2&&ir(o,b[1]),b[2]!=""?v?v.p(b,x):(v=za(b),v.c(),v.m(a,u)):v&&(v.d(1),v=null),b[3]!=""?_?_.p(b,x):(_=Ga(b),_.c(),_.m(a,null)):_&&(_.d(1),_=null),x&16&&ir(c,b[4]),b[5]!=""?g?g.p(b,x):(g=$a(b),g.c(),g.m(f,p)):g&&(g.d(1),g=null),b[6]!=""?m?m.p(b,x):(m=Xa(b),m.c(),m.m(f,null)):m&&(m.d(1),m=null)},i:nt,o:nt,d(b){b&&X(e),v&&v.d(),_&&_.d(),g&&g.d(),m&&m.d()}}}function g_(i,e,t){let{grade:r}=e,{language:n=""}=e,{languageLogo:s=""}=e,{languageLogo2:a=""}=e,{type:o=""}=e,{typeLogo:h=""}=e,{typeLogo2:u=""}=e;return i.$$set=l=>{"grade"in l&&t(0,r=l.grade),"language"in l&&t(1,n=l.language),"languageLogo"in l&&t(2,s=l.languageLogo),"languageLogo2"in l&&t(3,a=l.languageLogo2),"type"in l&&t(4,o=l.type),"typeLogo"in l&&t(5,h=l.typeLogo),"typeLogo2"in l&&t(6,u=l.typeLogo2)},[r,n,s,a,o,h,u]}class Zt extends Pt{constructor(e){super(),St(this,e,g_,m_,wt,{grade:0,language:1,languageLogo:2,languageLogo2:3,type:4,typeLogo:5,typeLogo2:6})}}function y_(i){let e,t,r,n,s,a;return{c(){e=S("main"),t=S("a"),r=Yt(i[1]),n=I(),s=S("a"),a=Yt("Github Repo"),T(t,"href",i[0]),T(t,"class","svelte-1vv9os2"),T(s,"href",i[2]),T(s,"class","svelte-1vv9os2"),T(e,"class","svelte-1vv9os2")},m(o,h){V(o,e,h),w(e,t),w(t,r),w(e,n),w(e,s),w(s,a)},p(o,[h]){h&2&&ir(r,o[1]),h&1&&T(t,"href",o[0]),h&4&&T(s,"href",o[2])},i:nt,o:nt,d(o){o&&X(e)}}}function b_(i,e,t){let{downloadLink:r}=e,{downloadLabel:n}=e,{sourceLink:s}=e;return i.$$set=a=>{"downloadLink"in a&&t(0,r=a.downloadLink),"downloadLabel"in a&&t(1,n=a.downloadLabel),"sourceLink"in a&&t(2,s=a.sourceLink)},[r,n,s]}class Kt extends Pt{constructor(e){super(),St(this,e,b_,y_,wt,{downloadLink:0,downloadLabel:1,sourceLink:2})}}function x_(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:T_,language:w_,languageLogo:E_,languageLogo2:S_,type:P_,typeLogo:I_,typeLogo2:C_}}),s=new Kt({props:{downloadLink:A_,downloadLabel:R_,sourceLink:O_}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This application automatically opens Zoom calls for you. All you do is navigate to the corresponding day of the week, enter a label, time, and link to the call, and it will open it automatically.</p> 

    <h1 class="svelte-7hzezz">Motivation</h1> 

    <p class="svelte-7hzezz">When the pandemic first began, I, like many other students, had to attend Zoom school. Me and my friends originally enjoyed this new-found freedom. We could get snacks in between classes, wake up exactly at 8:00, play video games during the down time\u2014we faced infinite distractions.</p><p class="svelte-7hzezz"></p><p class="svelte-7hzezz">I wanted to combat these distractions. I wanted get into Zoom class on time.</p> 

    <h1 class="svelte-7hzezz">In Practice</h1> 

    <p class="svelte-7hzezz">Out of all my projects, I&#39;ve used this one the most. I shared my application with me and my friends and we used for the entirety of the pandemic.</p> 

    <p class="svelte-7hzezz">In particular, we put this program in our start-up folder so that it would automatically open every time we turn on our PC. This means that, as long as our PC&#39;s were on, we didn&#39;t have to worry about being on time for zoom class&#39;s at all.</p> 

    <p class="svelte-7hzezz">I used it program so much that after a year, I was conditioned to hate the program&#39;s alarm. While the sound was originally soothing (a peaceful riff on a vibraphone) it soon was THE WORST SOUND KNOWN TO HUMANITY!!!</p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const T_=11,w_="Java",E_="java.png",S_="",P_="Desktop Application",I_="javafx.png",C_="",A_="/projects/Call Opener/app.jar",R_="Download JAR",O_="https://github.com/Seth-Lupo/Call-Opener";class L_ extends Pt{constructor(e){super(),St(this,e,null,x_,wt,{})}}function M_(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:D_,language:F_,languageLogo:N_,languageLogo2:U_,type:B_,typeLogo:k_,typeLogo2:z_}}),s=new Kt({props:{downloadLink:G_,downloadLabel:$_,sourceLink:X_}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This project lets you play against a simple connect 4 AI. At its hardest difficulty, it is nearly impossible to win against.</p> 

<h1 class="svelte-7hzezz">Background</h1> 

<p class="svelte-7hzezz">At school I remember my friend Dawson talking about min-max trees. He was trying to make a chess AI (which is infinitely harder). I wanted how min-max trees applied to something simpler.</p> 

<p class="svelte-7hzezz">My AI works by looking into the future. In order to find it&#39;s best move, it looks at your best response. It figures out your best response by trying to search for its best response. Each tier of the tree looks deeper and deeper into the future. Each node of the tree is associated with a score\u2014a rating it gives to each possible configuration of the board. A high score corresponds to the AI winning while a low score corresponds to the user winning.</p> 

<p class="svelte-7hzezz">The node is either the max value of all the subnodes or the min value of all the subnodes. It does this because it wants to assume that each player is acting rationally and would actually do the best move.</p> 

<p class="svelte-7hzezz">However, the amount of searching grows exponentially, so it can&#39;t look infinitely. At a certain point, the AI has to judge the position for itself. While there is some wiggle-room on how you do this, I opted to count the number of lines and weight them by length.</p> 

<p class="svelte-7hzezz">To also reduce the workload, I utilize something called alpha-beta pruning. In short, it reduces the amount of scenarios the AI check&#39;s through by asking &#39;why would I or the user move this when we know the other move is assured to be better?&#39;</p> 

<h1 class="svelte-7hzezz">Implementation</h1> 

<p class="svelte-7hzezz">I first tried to do this project by actually constructing a tree in memory. However, I realized that that is unnecessary and its better to just keep it functional (Java has made me to object oriented!!!)</p> 

<p class="svelte-7hzezz">I put this in a notebook because I was intending to write some documentation just like for my Newtonian fractal generator. However, as of now, I have not done that yet. :(</p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const D_=11,F_="Python",N_="python.png",U_="",B_="Notebook/Script",k_="notebook.png",z_="",G_="https://mybinder.org/v2/gh/Seth-Lupo/Connect-4-AI.git/HEAD",$_="Run Binder",X_="https://github.com/Seth-Lupo/Connect-4-AI";class H_ extends Pt{constructor(e){super(),St(this,e,null,M_,wt,{})}}function j_(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:V_,language:Y_,languageLogo:W_,languageLogo2:q_,type:Z_,typeLogo:K_,typeLogo2:J_}}),s=new Kt({props:{downloadLink:Q_,downloadLabel:tm,sourceLink:em}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This website attempts to visualize the shear amount of people killed by COVID-19. It does so by representing each 1000 deaths with a flag.</p> 

    <p class="svelte-7hzezz">When you press the button, the a large chunk of flags fall from the sky. The flags represent the quantity of deaths corresponding to the country. The countries are fall in order from the most deaths to the least deaths.</p> 

    <h1 class="svelte-7hzezz">Motivation</h1> 

    <p class="svelte-7hzezz">I made this project at the start of the summer of 2020. I remember talks about ending the lock-down. I thought this was absurd! Did people understand the death toll? I often heard politicians diminishing the lethality of the disease. They argued that 1%-2% mortality rate was such a low number that it wasn&#39;t worth the economic cost.</p> 

    <p class="svelte-7hzezz">In making this project, I sought to put that 1%-2% into perspective. I did so by using those <i>numbers</i> into a graphic.</p> 

    <h1 class="svelte-7hzezz">Data</h1> 

    <p class="svelte-7hzezz">I originally used <a href="https://covid19api.com/">Kyle Redelinghuys&#39; COVID-19 API</a>. However, when I came back to the site to put it on this portfolio, I noticed that he had put a paywall up. I opted to switch to a different source of data: <a href="https://github.com/pomber/covid19">a daily updated JSON file from Rodrigo Pomber.</a> However, this was a pain to integrate, because you could not search for the data with country codes (only by country name). Still, at least it works again!</p> 
        
    <h1 class="svelte-7hzezz">Design Choices</h1> 

    <p class="svelte-7hzezz">While I&#39;ve certainly improved as a frontend designer over the past four years, I still like some of the choices I made. In particular, I like the timing, dust, and thud: it really gives mass to the object.</p> 

    <p class="svelte-7hzezz"><i>Just to note: when I first made this, each flag represented 200 hundred people. Chillingly, I recently had to switch it to a 1000 because it scrolled for too long.</i></p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const V_=9,Y_="Javascript",W_="js.png",q_="",Z_="JQuery/p5.js Website",K_="jquery.png",J_="p5.png",Q_="https://seth-lupo.github.io/Coronavirus-Deaths-Visualization/",tm="Visit Site",em="https://github.com/Seth-Lupo/Coronavirus-Deaths-Visualization";class rm extends Pt{constructor(e){super(),St(this,e,null,j_,wt,{})}}function im(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:nm,language:sm,languageLogo:am,languageLogo2:om,type:hm,typeLogo:um,typeLogo2:lm}}),s=new Kt({props:{downloadLink:fm,downloadLabel:cm,sourceLink:dm}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This project shows a crystal solidifying at the atomic level. Particularly, it simulates ionic bonding.</p> 

    <h1 class="svelte-7hzezz">Controls</h1> 

    <p class="svelte-7hzezz">To rotate your view, you can use the WASD keys. To zoom in and out, use Z and X.</p><p class="svelte-7hzezz"></p><h1 class="svelte-7hzezz">Background</h1> 
    
    <p class="svelte-7hzezz">It does so with a simplified model: <a href="https://en.wikipedia.org/wiki/Lennard-Jones_potential">Lennard-Jones potential</a>. This model describes the force each atom applies on each other as a function of distance. This function can be split into two terms: attraction and repulsion. The attractive force increases with proximity. The repulsive force also increases with proximity, and eventually overtakes attraction. Because of this, these forces equal each other at a certain distance: the bond length.</p> 

    <p class="svelte-7hzezz">While the Lennard-Jones model is not the most scientifically accurate, it runs relatively quickly and produces fascinating visuals\u2014I&#39;m a programmer that likes fun looking things, not a chemist!</p> 

    <h1 class="svelte-7hzezz">Implementation</h1> 

    <p class="svelte-7hzezz">In this simulation, atoms with different colors attract and atoms with like colors repel. This simulates both positively and negatively charged ions.</p> 

    <p class="svelte-7hzezz">The simulation begins as a gas\u2014each particle is given a high initial velocity. However, over times, the particles slow and coalesce into cubic crystals.</p> 
    
    <p class="svelte-7hzezz">This simulation can be quickly modified to produce metallic bonding. All you would need to change is you would modify the code so that all ions attract each other. However, it becomes far more finicky when you attempt to simulate more complicated crystal lattices.</p> 

    <p class="svelte-7hzezz">I want to credit <a href="https://www.youtube.com/@NilsBerglund">Nils Berglund</a> as being the inspiration for this project; his channel introduced me to the Lennard-Jones potential through his 2D simulations.</p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const nm=11,sm="Java",am="java.png",om="",hm="Processing Application",um="pro.png",lm="",fm="/projects/Crystal Simulator/sim.jar",cm="Download JAR",dm="https://github.com/Seth-Lupo/CrystalSimulator";class pm extends Pt{constructor(e){super(),St(this,e,null,im,wt,{})}}function vm(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:_m,language:mm,languageLogo:gm,languageLogo2:ym,type:bm,typeLogo:xm,typeLogo2:Tm}}),s=new Kt({props:{downloadLink:wm,downloadLabel:Em,sourceLink:Sm}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This website attempts to visualize the shear amount of people killed by COVID-19. It does so by representing each 1000 deaths with a flag.</p> 

    <p class="svelte-7hzezz">When you press the button, the a large chunk of flags fall from the sky. The flags represent the quantity of deaths corresponding to the country. The countries are fall in order from the most deaths to the least deaths.</p> 

    <h1 class="svelte-7hzezz">Motivation</h1> 

    <p class="svelte-7hzezz">I made this project at the start of the summer of 2020. I remember talks about ending the lock-down. I thought this was absurd! Did people understand the death toll? I often heard politicians diminishing the lethality of the disease. They argued that 1%-2% mortality rate was such a low number that it wasn&#39;t worth the economic cost.</p> 

    <p class="svelte-7hzezz">In making this project, I sought to put that 1%-2% into perspective. I did so by using those <i>numbers</i> into a graphic.</p> 

    <h1 class="svelte-7hzezz">Data</h1> 

    <p class="svelte-7hzezz">I originally used <a href="https://covid19api.com/">Kyle Redelinghuys&#39; COVID-19 API</a>. However, when I came back to the site to put it on this portfolio, I noticed that he had put a paywall up. I opted to switch to a different source of data: <a href="https://github.com/pomber/covid19">a daily updated JSON file from Rodrigo Pomber.</a> However, this was a pain to integrate, because you could not search for the data with country codes (only by country name). Still, at least it works again!</p> 
        
    <h1 class="svelte-7hzezz">Design Choices</h1> 

    <p class="svelte-7hzezz">While I&#39;ve certainly improved as a frontend designer over the past four years, I still like some of the choices I made. In particular, I like the timing, dust, and thud: it really gives mass to the object.</p> 

    <p class="svelte-7hzezz"><i>Just to note: when I first made this, each flag represented 200 hundred people. Chillingly, I recently had to switch it to a 1000 because it scrolled for too long.</i></p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const _m=9,mm="Javascript",gm="js.png",ym="",bm="JQuery/p5.js Website",xm="jquery.png",Tm="p5.png",wm="https://seth-lupo.github.io/Coronavirus-Deaths-Visualization/",Em="Visit Site",Sm="https://github.com/Seth-Lupo/Coronavirus-Deaths-Visualization";class Pm extends Pt{constructor(e){super(),St(this,e,null,vm,wt,{})}}function Im(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:Cm,language:Am,languageLogo:Rm,languageLogo2:Om,type:Lm,typeLogo:Mm,typeLogo2:Dm}}),s=new Kt({props:{downloadLink:Fm,downloadLabel:Nm,sourceLink:Um}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This website seeks to teach people about graph algorithms by using an interactive example. It covers a few topics, namely</p> 

    <p class="svelte-7hzezz">When you press the button, the a large chunk of flags fall from the sky. The flags represent the quantity of deaths corresponding to the country. The countries are fall in order from the most deaths to the least deaths.</p> 

    <h1 class="svelte-7hzezz">Motivation</h1> 

    <p class="svelte-7hzezz">I made this project at the start of the summer of 2020. I remember talks about ending the lock-down. I thought this was absurd! Did people understand the death toll? I often heard politicians diminishing the lethality of the disease. They argued that 1%-2% mortality rate was such a low number that it wasn&#39;t worth the economic cost.</p> 

    <p class="svelte-7hzezz">In making this project, I sought to put that 1%-2% into perspective. I did so by using those <i>numbers</i> into a graphic.</p> 

    <h1 class="svelte-7hzezz">Data</h1> 

    <p class="svelte-7hzezz">I originally used <a href="https://covid19api.com/">Kyle Redelinghuys&#39; COVID-19 API</a>. However, when I came back to the site to put it on this portfolio, I noticed that he had put a paywall up. I opted to switch to a different source of data: <a href="https://github.com/pomber/covid19">a daily updated JSON file from Rodrigo Pomber.</a> However, this was a pain to integrate, because you could not search for the data with country codes (only by country name). Still, at least it works again!</p> 
        
    <h1 class="svelte-7hzezz">Design Choices</h1> 

    <p class="svelte-7hzezz">While I&#39;ve certainly improved as a frontend designer over the past four years, I still like some of the choices I made. In particular, I like the timing, dust, and thud: it really gives mass to the object.</p> 

    <p class="svelte-7hzezz"><i>Just to note: when I first made this, each flag represented 200 hundred people. Chillingly, I recently had to switch it to a 1000 because it scrolled for too long.</i></p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const Cm=11,Am="Javascript",Rm="js.png",Om="",Lm="JQuery/p5.js Website",Mm="jquery.png",Dm="p5.png",Fm="https://seth-lupo.github.io/Coronavirus-Deaths-Visualization/",Nm="Visit Site",Um="https://github.com/Seth-Lupo/Coronavirus-Deaths-Visualization";class Bm extends Pt{constructor(e){super(),St(this,e,null,Im,wt,{})}}function km(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:zm,language:Gm,languageLogo:$m,languageLogo2:Xm,type:Hm,typeLogo:jm,typeLogo2:Vm}}),s=new Kt({props:{downloadLink:Ym,downloadLabel:Wm,sourceLink:qm}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This program simulates an N-Body Pendulum. This means that you can use this to simulate single pendulums, double pendulums, triple pendulums, or even a pseudo-rope!</p> 

    <h1 class="svelte-7hzezz">Background</h1> 

    <p class="svelte-7hzezz">This simulation relies of <a href="https://en.wikipedia.org/wiki/Lagrangian_mechanics">Lagrangian mechanics</a>. In short, Langrangian mechanics don&#39;t just rely on forces like Newtonian Mechanics; instead, it relies on the principle of least action.</p> 

    <p class="svelte-7hzezz"><a href="https://en.wikipedia.org/wiki/Stationary-action_principle">The principle of least action</a> states that an object will take the path that minimizes a quantity called the Lagrangian\u2014kinetic energy minus potential energy.</p> 

    <p class="svelte-7hzezz">When dealing with complex systems, this is vastly more efficient than Newtonian mechanics. Instead of dealing with every force, you simply need be able to calculate an objects potential and kinetic energy to track it&#39;s path.</p> 

    <p class="svelte-7hzezz">To apply use this to be able to determine the angular acceleration of each, you must plug the Lagrangian into the <a href="https://en.wikipedia.org/wiki/Euler%E2%80%93Lagrange_equation">Lagrange equation.</a> While I was able complete the math for a single and double pendulum, I wasn&#39;t able to calculate a general solution. That&#39;s why I borrowed <a href="https://arxiv.org/pdf/1910.12610.pdf">Boran Yesilyurt&#39;s n-body generalization.</a></p> 

    <h1 class="svelte-7hzezz">Implementation</h1> 

    <p class="svelte-7hzezz">I want to note that simulation becomes less accurate more mass&#39;s you add. This is why you RK-4 integration is suitable for just a double pendulum but 100 integration steps are necessary for 5+ masses.</p> 

    <p class="svelte-7hzezz">In the demo JAR, I added 8 pendulums but slightly tweaked the initial angles. While they begin to move in the same path, they eventually scatter. They scatter faster more mass&#39;s you add.</p> 

    <p class="svelte-7hzezz">For aesthetics, I made the object change color as it moves. The faster a mass moves, more orange it appears. I also added a little blur cause who doesn&#39;t like a little motion blur???</p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const zm=10,Gm="Java",$m="java.png",Xm="",Hm="Processing Application",jm="pro.png",Vm="",Ym="/projects/N-Body Pendulum/sim.jar",Wm="Download JAR",qm="https://github.com/Seth-Lupo/NBodyPendulum";class Zm extends Pt{constructor(e){super(),St(this,e,null,km,wt,{})}}function Km(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:Jm,language:Qm,languageLogo:tg,languageLogo2:eg,type:rg,typeLogo:ig,typeLogo2:ng}}),s=new Kt({props:{downloadLink:sg,downloadLabel:ag,sourceLink:og}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This project generates <a href="https://en.wikipedia.org/wiki/Newton_fractal#:~:text=The%20Newton%20fractal%20is%20a,is%20given%20by%20Newton&#39;s%20method.">Newtonian fractals</a>. Effectively, it is a shape with multiple regions but zero edges\u2014when regions touch, every region touches simultaneously.</p> 

    <h1 class="svelte-7hzezz">Background</h1> 

    <p class="svelte-7hzezz">You can generate a Newtonian fractal by using a polynomial. Every n-degree polynomial is continuous and has n roots on the complex plane.</p> 

    <p class="svelte-7hzezz">When you take a random point on the complex plane, it could <i>ride</i> the polynomial down to one of these roots. Which root it arrives at depends on its particular position. If you color each of these points depending on which root it arrives at, you will create a Newtonian fractal.</p> 

    <p class="svelte-7hzezz">More specifics are written out in the notebook.</p> 

    <h1 class="svelte-7hzezz">Implementation</h1> 

    <p class="svelte-7hzezz">At first, I tried using <a href="https://www.sympy.org/en/index.html">Sympy</a>. This symbolic library was easy to use but incredibly slow. I then opted to use Numpy&#39;s polynomial library. This was far faster.</p> 

    <p class="svelte-7hzezz">However, I originally did all the processing synchronously. This ended up to be ridiculously slow. I optimized it by using <a href="https://www.ray.io/">Ray</a> to do async calculations. Still, for larger more detailed images (say about 2000x2000 px), generating the image became incredibly slow.</p> 

    <p class="svelte-7hzezz">Soon I hope to revisit this project and optimize it even further.</p> 

    <p class="svelte-7hzezz">Also, I would like to note that even though I add a link to a binder so that you can run it in the cloud, I highly recommend that you run it locally. Binder is RIDICULOUSLY SLOW!</p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const Jm=11,Qm="Python",tg="python.png",eg="",rg="Notebook/Script",ig="notebook.png",ng="",sg="https://mybinder.org/v2/gh/Seth-Lupo/Newtonian-Fractals/d219abdef41b51209b4ef1342b9d4a9c8b4bd0e3",ag="Run Binder",og="https://github.com/Seth-Lupo/Newtonian-Fractals/blob/master/Newtonian%20Fractals.ipynb";class hg extends Pt{constructor(e){super(),St(this,e,null,Km,wt,{})}}function ug(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:lg,language:fg,languageLogo:cg,languageLogo2:dg,type:pg,typeLogo:vg,typeLogo2:_g}}),s=new Kt({props:{downloadLink:mg,downloadLabel:gg,sourceLink:yg}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This application allows you to encrypt a small private message. You can send the encrypted message to someone else with application, and they will be able to decrypt it.</p> 

    <h1 class="svelte-7hzezz">Background</h1> 

    <p class="svelte-7hzezz">This application relies of on <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)">Rivest-Shamir-Adleman encryption</a> (RSA). This encryption scheme uses a public and a private key. This means that no private communication needs to be shared between both users. Instead, the sender uses the receiver&#39;s public key to encrypt a message, and the receiver uses their private key to decrypt it.</p> 

    <p class="svelte-7hzezz">In RSA encryption, the message is mapped to a large integer. The scheme utilizes <a href="https://en.wikipedia.org/wiki/Modular_arithmetic">modular arithmetic</a>. The sender first raises that integer to a number specified in the public key. The sender then finds its remainder relative to a certain base (another number in the public key). They then send it to the receiver. The receiver does the same thing with the private key: they raise it by their own private number and finds its remainder relative to the same base.</p> 
    
    <p class="svelte-7hzezz">This is mathematically assured to be the original message according to <a href="https://en.wikipedia.org/wiki/Euler%27s_theorem">Euler&#39;s Theorem.</a> Because the receiver generated that special base, they know its <a href="https://en.wikipedia.org/wiki/Euler%27s_totient_function">totient</a>. This totient can only be known by calculating the prime factorization of the base (A REALLY COMPUTATIONALLY HARD TASK!). However, the reciever know&#39;s its prime factorization because they generated it by multiplying together two very large primes.</p> 

    <h1 class="svelte-7hzezz">Usage</h1> 

    <p class="svelte-7hzezz">A user&#39;s public and private key are both generated when the application first runs and is saved immediately. For my application, the user only needs to worry about the public key, the private key is kept out of view.</p> 

    <p class="svelte-7hzezz">To send a message, you must first receive your friend&#39;s public key. Then copy and paste it into the corresponding textbox. There, you can input a message as well as a visible header.</p> 

    <p class="svelte-7hzezz">You then can click &#39;encrypt&#39; and out come&#39;s your encrypted message. Send it to a friend and they can copy and paste it into the &#39;decrypt&#39; textbox.</p> 

    <p class="svelte-7hzezz"><i>This is a prime way to Rick-roll someone because I purposely made it so links open automatically.</i></p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const lg=10,fg="Java",cg="java.png",dg="",pg="Desktop Application",vg="javafx.png",_g="",mg="/projects/RSA Encrypter/app.jar",gg="Download JAR",yg="https://github.com/Seth-Lupo/RSA-Encrypter";class bg extends Pt{constructor(e){super(),St(this,e,null,ug,wt,{})}}function xg(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:Tg,language:wg,languageLogo:Eg,languageLogo2:Sg,type:Pg,typeLogo:Ig,typeLogo2:Cg}}),s=new Kt({props:{downloadLink:Ag,downloadLabel:Rg,sourceLink:Og}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This project simulates energy waves. It darkens wave peaks and lightens wave troughs.</p> 

    <h1 class="svelte-7hzezz">Controls</h1> 

    <p class="svelte-7hzezz">You can click and drag to create ripples.</p> 
    
    <p class="svelte-7hzezz">However, you can also create linear and conic walls, but these must added through the constructor for the Mesh class.</p><p class="svelte-7hzezz"></p><p class="svelte-7hzezz">You can also turn this into a 3D simulation by setting Main.SPACIAL to true. If in 3D, you can change the angle your viewing the surface at by using the W and S keys.</p> 

    <h1 class="svelte-7hzezz">Background</h1> 

    <p class="svelte-7hzezz">As far as physics simulations, this one was relatively simply. The plane can be described as a two dimensional array of points. These points are associated with a certain height, vertical velocity, and vertical acceleration. The vertical acceleration is proportional to the points <i>relative height</i> when compared to nearby points. In calculus, this is formally known as the <a href="https://en.wikipedia.org/wiki/Laplace_operator#:~:text=In%20mathematics%2C%20the%20Laplace%20operator,scalar%20function%20on%20Euclidean%20space.">Laplacian</a>.</p> 

    <p class="svelte-7hzezz">This means that every point is being pulled towards nearby points\u2014each point applies tension to each other.</p> 

    <h1 class="svelte-7hzezz">Implementation</h1> 

    <p class="svelte-7hzezz">This physics simulation uses RK-4. It is rather stable as opposed to some other simulations (I&#39;M LOOKING AT YOU N-BODY PENDULUM!). It also runs relatively fast.</p> 

    <p class="svelte-7hzezz">The JAR below does not contain walls or initial disturbances. However, as mentioned before, you can put some in by going into the code. Use methods with &quot;excite&quot; to create disturbances and methods with &quot;raise&quot; to make walls. Just to note, parameters that describe X and Y don&#39;t want values in terms of pixels, but in terms of % width and height.</p> 

    <p class="svelte-7hzezz"><i>I suggest you play around with this one...</i></p> 

    <h2></h2>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const Tg=11,wg="Java",Eg="java.png",Sg="",Pg="Processing Application",Ig="pro.png",Cg="",Ag="/projects/Wave Simulator/sim.jar",Rg="Download JAR",Og="https://github.com/Seth-Lupo/WaveMaker";class th extends Pt{constructor(e){super(),St(this,e,null,xg,wt,{})}}function Lg(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:Mg,language:Dg,languageLogo:Fg,languageLogo2:Ng,type:Ug,typeLogo:Bg,typeLogo2:kg}}),s=new Kt({props:{downloadLink:zg,downloadLabel:Gg,sourceLink:$g}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This is a simple desktop app for playing Sodoku.</p> 

    <h1 class="svelte-7hzezz">Usage</h1> 

    <p class="svelte-7hzezz"><i>*there is also an additional GUI that explains this*</i></p> 

    <p class="svelte-7hzezz">Click on each square to select it. You can then type in a number.</p> 
    
    <p class="svelte-7hzezz">Press N to toggle note mode. This allows you to write possible numbers in the box before you have decided what it is for sure.</p> 

    <p class="svelte-7hzezz">You can change your puzzle by generating a new one. Change the difficulty by changing the number of blank boxes.</p> 

    <p class="svelte-7hzezz">You can press a certain button for hints. However, you can turn these on or off. You can only change if cheating is allowed before generating a puzzle.</p> 

    <h1 class="svelte-7hzezz">Design</h1> 

    <p class="svelte-7hzezz">Looking back, this seems like a very unorthodox application: it uses Processing for the display and JavaFX for the additional GUI. I&#39;m honestly not sure what I was thinking. However, it still works fine. While it isn&#39;t the cleanliest design I have ever made, there will always be a special place in my heart for it.</p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const Mg=9,Dg="Java",Fg="java.png",Ng="",Ug="Desktop Application",Bg="javafx.png",kg="pro.png",zg="/projects/Sudoku/app.jar",Gg="Download JAR",$g="https://github.com/Seth-Lupo/Sudoku";class Xg extends Pt{constructor(e){super(),St(this,e,null,Lg,wt,{})}}function Hg(i){let e,t,r,n,s,a;return e=new Zt({props:{grade:jg,language:Vg,languageLogo:Yg,languageLogo2:Wg,type:qg,typeLogo:Zg,typeLogo2:Kg}}),s=new Kt({props:{downloadLink:Jg,downloadLabel:Qg,sourceLink:ty}}),{c(){j(e.$$.fragment),t=I(),r=S("main"),r.innerHTML=`<p class="svelte-7hzezz">This website attempts to visualize the shear amount of people killed by COVID-19. It does so by representing each 1000 deaths with a flag.</p> 

    <p class="svelte-7hzezz">When you press the button, the a large chunk of flags fall from the sky. The flags represent the quantity of deaths corresponding to the country. The countries are fall in order from the most deaths to the least deaths.</p> 

    <h1 class="svelte-7hzezz">Motivation</h1> 

    <p class="svelte-7hzezz">I made this project at the start of the summer of 2020. I remember talks about ending the lock-down. I thought this was absurd! Did people understand the death toll? I often heard politicians diminishing the lethality of the disease. They argued that 1%-2% mortality rate was such a low number that it wasn&#39;t worth the economic cost.</p> 

    <p class="svelte-7hzezz">In making this project, I sought to put that 1%-2% into perspective. I did so by using those <i>numbers</i> into a graphic.</p> 

    <h1 class="svelte-7hzezz">Data</h1> 

    <p class="svelte-7hzezz">I originally used <a href="https://covid19api.com/">Kyle Redelinghuys&#39; COVID-19 API</a>. However, when I came back to the site to put it on this portfolio, I noticed that he had put a paywall up. I opted to switch to a different source of data: <a href="https://github.com/pomber/covid19">a daily updated JSON file from Rodrigo Pomber.</a> However, this was a pain to integrate, because you could not search for the data with country codes (only by country name). Still, at least it works again!</p> 
        
    <h1 class="svelte-7hzezz">Design Choices</h1> 

    <p class="svelte-7hzezz">While I&#39;ve certainly improved as a frontend designer over the past four years, I still like some of the choices I made. In particular, I like the timing, dust, and thud: it really gives mass to the object.</p> 

    <p class="svelte-7hzezz"><i>Just to note: when I first made this, each flag represented 200 hundred people. Chillingly, I recently had to switch it to a 1000 because it scrolled for too long.</i></p>`,n=I(),j(s.$$.fragment),T(r,"class","svelte-7hzezz")},m(o,h){G(e,o,h),V(o,t,h),V(o,r,h),V(o,n,h),G(s,o,h),a=!0},p:nt,i(o){a||(P(e.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){O(e.$$.fragment,o),O(s.$$.fragment,o),a=!1},d(o){$(e,o),o&&X(t),o&&X(r),o&&X(n),$(s,o)}}}const jg=9,Vg="Javascript",Yg="js.png",Wg="",qg="JQuery/p5.js Website",Zg="jquery.png",Kg="p5.png",Jg="https://seth-lupo.github.io/Coronavirus-Deaths-Visualization/",Qg="Visit Site",ty="https://github.com/Seth-Lupo/Coronavirus-Deaths-Visualization";class ey extends Pt{constructor(e){super(),St(this,e,null,Hg,wt,{})}}function Ha(i){let e,t;return e=new L_({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function ja(i){let e,t;return e=new H_({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Va(i){let e,t;return e=new rm({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Ya(i){let e,t;return e=new pm({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Wa(i){let e,t;return e=new Pm({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function qa(i){let e,t;return e=new Bm({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Za(i){let e,t;return e=new Zm({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Ka(i){let e,t;return e=new hg({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Ja(i){let e,t;return e=new ey({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function Qa(i){let e,t;return e=new bg({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function to(i){let e,t;return e=new th({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function eo(i){let e,t;return e=new Xg({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function ro(i){let e,t;return e=new th({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function ry(i){let e,t,r,n,s,a,o,h,u,l,f,c,d,p,v,_,g,m,b,x,y,E,L,M,C,A,z,R,st,mt,F,U,K,xt,Y,N,B,tt,dt,H=i[1]=="Call Opener"&&Ha(),at=i[1]=="Connect 4 AI"&&ja(),J=i[1]=="COVID-19 Visualizer"&&Va(),ut=i[1]=="Crystal Simulator"&&Ya(),ot=i[1]=="CSS Zen Garden"&&Wa(),rt=i[1]=="Graph Algorithm Explainer"&&qa(),lt=i[1]=="N-Body Pendulum"&&Za(),D=i[1]=="Newtonian Fractals"&&Ka(),Q=i[1]=="Maze Game"&&Ja(),ft=i[1]=="RSA Encrypter"&&Qa(),k=i[1]=="Save The World"&&to(),ht=i[1]=="Sudoku"&&eo(),bt=i[1]=="Wave Simulator"&&ro();return{c(){e=S("main"),t=S("div"),r=I(),n=S("div"),s=S("div"),a=I(),o=S("div"),h=I(),u=S("div"),l=I(),f=S("div"),c=I(),d=S("div"),p=S("div"),v=S("h1"),_=S("div"),g=I(),m=S("div"),b=I(),x=Yt(i[1]),y=I(),E=S("img"),M=I(),H&&H.c(),C=I(),at&&at.c(),A=I(),J&&J.c(),z=I(),ut&&ut.c(),R=I(),ot&&ot.c(),st=I(),rt&&rt.c(),mt=I(),lt&&lt.c(),F=I(),D&&D.c(),U=I(),Q&&Q.c(),K=I(),ft&&ft.c(),xt=I(),k&&k.c(),Y=I(),ht&&ht.c(),N=I(),bt&&bt.c(),T(t,"id","x"),T(t,"class","svelte-8jqi78"),T(s,"id","acc1"),T(s,"class","svelte-8jqi78"),T(o,"id","acc2"),T(o,"class","svelte-8jqi78"),T(u,"id","acc3"),T(u,"class","svelte-8jqi78"),T(f,"id","acc4"),T(f,"class","svelte-8jqi78"),T(_,"id","acc5"),T(_,"class","svelte-8jqi78"),T(m,"id","acc6"),T(m,"class","svelte-8jqi78"),T(v,"class","svelte-8jqi78"),he(E.src,L="/projects/"+i[1]+"/main.png")||T(E,"src",L),T(E,"class","svelte-8jqi78"),T(p,"id","headerDiv"),T(p,"class","svelte-8jqi78"),T(d,"id","innerDisplay"),T(d,"class","svelte-8jqi78"),T(n,"id","display"),T(n,"class","svelte-8jqi78"),W(n,"mountingDisplay",i[0]),W(n,"unmountingDisplay",!i[0]),T(e,"class","svelte-8jqi78"),W(e,"mountingMain",i[0]),W(e,"unmountingMain",!i[0])},m(pt,gt){V(pt,e,gt),w(e,t),w(e,r),w(e,n),w(n,s),w(n,a),w(n,o),w(n,h),w(n,u),w(n,l),w(n,f),w(n,c),w(n,d),w(d,p),w(p,v),w(v,_),w(v,g),w(v,m),w(v,b),w(v,x),w(p,y),w(p,E),w(d,M),H&&H.m(d,null),w(d,C),at&&at.m(d,null),w(d,A),J&&J.m(d,null),w(d,z),ut&&ut.m(d,null),w(d,R),ot&&ot.m(d,null),w(d,st),rt&&rt.m(d,null),w(d,mt),lt&&lt.m(d,null),w(d,F),D&&D.m(d,null),w(d,U),Q&&Q.m(d,null),w(d,K),ft&&ft.m(d,null),w(d,xt),k&&k.m(d,null),w(d,Y),ht&&ht.m(d,null),w(d,N),bt&&bt.m(d,null),B=!0,tt||(dt=_t(t,"click",i[2]),tt=!0)},p(pt,[gt]){(!B||gt&2)&&ir(x,pt[1]),(!B||gt&2&&!he(E.src,L="/projects/"+pt[1]+"/main.png"))&&T(E,"src",L),pt[1]=="Call Opener"?H?gt&2&&P(H,1):(H=Ha(),H.c(),P(H,1),H.m(d,C)):H&&(Gt(),O(H,1,1,()=>{H=null}),$t()),pt[1]=="Connect 4 AI"?at?gt&2&&P(at,1):(at=ja(),at.c(),P(at,1),at.m(d,A)):at&&(Gt(),O(at,1,1,()=>{at=null}),$t()),pt[1]=="COVID-19 Visualizer"?J?gt&2&&P(J,1):(J=Va(),J.c(),P(J,1),J.m(d,z)):J&&(Gt(),O(J,1,1,()=>{J=null}),$t()),pt[1]=="Crystal Simulator"?ut?gt&2&&P(ut,1):(ut=Ya(),ut.c(),P(ut,1),ut.m(d,R)):ut&&(Gt(),O(ut,1,1,()=>{ut=null}),$t()),pt[1]=="CSS Zen Garden"?ot?gt&2&&P(ot,1):(ot=Wa(),ot.c(),P(ot,1),ot.m(d,st)):ot&&(Gt(),O(ot,1,1,()=>{ot=null}),$t()),pt[1]=="Graph Algorithm Explainer"?rt?gt&2&&P(rt,1):(rt=qa(),rt.c(),P(rt,1),rt.m(d,mt)):rt&&(Gt(),O(rt,1,1,()=>{rt=null}),$t()),pt[1]=="N-Body Pendulum"?lt?gt&2&&P(lt,1):(lt=Za(),lt.c(),P(lt,1),lt.m(d,F)):lt&&(Gt(),O(lt,1,1,()=>{lt=null}),$t()),pt[1]=="Newtonian Fractals"?D?gt&2&&P(D,1):(D=Ka(),D.c(),P(D,1),D.m(d,U)):D&&(Gt(),O(D,1,1,()=>{D=null}),$t()),pt[1]=="Maze Game"?Q?gt&2&&P(Q,1):(Q=Ja(),Q.c(),P(Q,1),Q.m(d,K)):Q&&(Gt(),O(Q,1,1,()=>{Q=null}),$t()),pt[1]=="RSA Encrypter"?ft?gt&2&&P(ft,1):(ft=Qa(),ft.c(),P(ft,1),ft.m(d,xt)):ft&&(Gt(),O(ft,1,1,()=>{ft=null}),$t()),pt[1]=="Save The World"?k?gt&2&&P(k,1):(k=to(),k.c(),P(k,1),k.m(d,Y)):k&&(Gt(),O(k,1,1,()=>{k=null}),$t()),pt[1]=="Sudoku"?ht?gt&2&&P(ht,1):(ht=eo(),ht.c(),P(ht,1),ht.m(d,N)):ht&&(Gt(),O(ht,1,1,()=>{ht=null}),$t()),pt[1]=="Wave Simulator"?bt?gt&2&&P(bt,1):(bt=ro(),bt.c(),P(bt,1),bt.m(d,null)):bt&&(Gt(),O(bt,1,1,()=>{bt=null}),$t()),(!B||gt&1)&&W(n,"mountingDisplay",pt[0]),(!B||gt&1)&&W(n,"unmountingDisplay",!pt[0]),(!B||gt&1)&&W(e,"mountingMain",pt[0]),(!B||gt&1)&&W(e,"unmountingMain",!pt[0])},i(pt){B||(P(H),P(at),P(J),P(ut),P(ot),P(rt),P(lt),P(D),P(Q),P(ft),P(k),P(ht),P(bt),B=!0)},o(pt){O(H),O(at),O(J),O(ut),O(ot),O(rt),O(lt),O(D),O(Q),O(ft),O(k),O(ht),O(bt),B=!1},d(pt){pt&&X(e),H&&H.d(),at&&at.d(),J&&J.d(),ut&&ut.d(),ot&&ot.d(),rt&&rt.d(),lt&&lt.d(),D&&D.d(),Q&&Q.d(),ft&&ft.d(),k&&k.d(),ht&&ht.d(),bt&&bt.d(),tt=!1,dt()}}}function iy(i,e,t){let r;so(i,wi,a=>t(1,r=a));let n=!1;return is(()=>{t(0,n=!0),document.querySelector("html").style.overflowY="hidden"}),[n,r,()=>{t(0,n=!1),setTimeout(()=>{wi.set(0),document.querySelector("html").style.overflowY="scroll"},300)}]}class ny extends Pt{constructor(e){super(),St(this,e,iy,ry,wt,{})}}function sy(i){let e,t,r,n,s,a,o,h,u,l,f,c,d,p,v,_,g;return{c(){e=S("main"),t=S("div"),r=I(),n=S("div"),s=I(),a=S("div"),o=I(),h=S("div"),u=I(),l=S("div"),c=I(),d=S("div"),p=S("h1"),v=Yt(i[0]),T(t,"id","acc1"),T(t,"class","svelte-175plb"),T(n,"id","acc2"),T(n,"class","svelte-175plb"),T(a,"id","acc3"),T(a,"class","svelte-175plb"),T(h,"id","acc4"),T(h,"class","svelte-175plb"),T(l,"id","image"),T(l,"style",f="background-image: url('/projects/"+i[0]+"/icon.png');"),T(l,"class","svelte-175plb"),T(p,"class","svelte-175plb"),T(d,"id","header"),T(d,"class","svelte-175plb"),T(e,"class","svelte-175plb"),W(e,"active",i[1])},m(m,b){V(m,e,b),w(e,t),w(e,r),w(e,n),w(e,s),w(e,a),w(e,o),w(e,h),w(e,u),w(e,l),w(e,c),w(e,d),w(d,p),w(p,v),_||(g=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[3]),_t(e,"click",i[2])],_=!0)},p(m,[b]){b&1&&f!==(f="background-image: url('/projects/"+m[0]+"/icon.png');")&&T(l,"style",f),b&1&&ir(v,m[0]),b&2&&W(e,"active",m[1])},i:nt,o:nt,d(m){m&&X(e),_=!1,jt(g)}}}function ay(i,e,t){let r=!1,{tag:n="Crystal Simulator"}=e,s=()=>{wi.set(n)};const a=()=>{t(1,r=!0)};return i.$$set=o=>{"tag"in o&&t(0,n=o.tag)},[n,r,s,a]}class Xt extends Pt{constructor(e){super(),St(this,e,ay,sy,wt,{tag:0})}}function oy(i){let e,t,r,n,s,a,o,h,u,l,f,c,d,p,v,_,g,m,b,x,y,E,L,M,C,A,z;return t=new Xt({props:{tag:"Crystal Simulator"}}),n=new Xt({props:{tag:"N-Body Pendulum"}}),a=new Xt({props:{tag:"COVID-19 Visualizer"}}),h=new Xt({props:{tag:"RSA Encrypter"}}),l=new Xt({props:{tag:"Newtonian Fractals"}}),c=new Xt({props:{tag:"Wave Simulator"}}),p=new Xt({props:{tag:"Call Opener"}}),_=new Xt({props:{tag:"Graph Algorithm Explainer"}}),m=new Xt({props:{tag:"Sudoku"}}),x=new Xt({props:{tag:"Connect 4 AI"}}),E=new Xt({props:{tag:"Maze Game"}}),M=new Xt({props:{tag:"Save The World"}}),A=new Xt({props:{tag:"CSS Zen Garden"}}),{c(){e=S("main"),j(t.$$.fragment),r=I(),j(n.$$.fragment),s=I(),j(a.$$.fragment),o=I(),j(h.$$.fragment),u=I(),j(l.$$.fragment),f=I(),j(c.$$.fragment),d=I(),j(p.$$.fragment),v=I(),j(_.$$.fragment),g=I(),j(m.$$.fragment),b=I(),j(x.$$.fragment),y=I(),j(E.$$.fragment),L=I(),j(M.$$.fragment),C=I(),j(A.$$.fragment),T(e,"class","svelte-t0alvp")},m(R,st){V(R,e,st),G(t,e,null),w(e,r),G(n,e,null),w(e,s),G(a,e,null),w(e,o),G(h,e,null),w(e,u),G(l,e,null),w(e,f),G(c,e,null),w(e,d),G(p,e,null),w(e,v),G(_,e,null),w(e,g),G(m,e,null),w(e,b),G(x,e,null),w(e,y),G(E,e,null),w(e,L),G(M,e,null),w(e,C),G(A,e,null),z=!0},p:nt,i(R){z||(P(t.$$.fragment,R),P(n.$$.fragment,R),P(a.$$.fragment,R),P(h.$$.fragment,R),P(l.$$.fragment,R),P(c.$$.fragment,R),P(p.$$.fragment,R),P(_.$$.fragment,R),P(m.$$.fragment,R),P(x.$$.fragment,R),P(E.$$.fragment,R),P(M.$$.fragment,R),P(A.$$.fragment,R),z=!0)},o(R){O(t.$$.fragment,R),O(n.$$.fragment,R),O(a.$$.fragment,R),O(h.$$.fragment,R),O(l.$$.fragment,R),O(c.$$.fragment,R),O(p.$$.fragment,R),O(_.$$.fragment,R),O(m.$$.fragment,R),O(x.$$.fragment,R),O(E.$$.fragment,R),O(M.$$.fragment,R),O(A.$$.fragment,R),z=!1},d(R){R&&X(e),$(t),$(n),$(a),$(h),$(l),$(c),$(p),$(_),$(m),$(x),$(E),$(M),$(A)}}}class hy extends Pt{constructor(e){super(),St(this,e,null,oy,wt,{})}}function uy(i){let e,t,r,n,s,a,o,h,u;return a=new hy({}),{c(){e=S("main"),t=S("h1"),t.textContent="Welp... that's enough talk, time to show you my",r=I(),n=S("h3"),n.textContent="PROJECTS!",s=I(),j(a.$$.fragment),T(t,"class","svelte-1mmtwij"),T(n,"class","svelte-1mmtwij"),T(e,"class","svelte-1mmtwij"),W(e,"active",i[0])},m(l,f){V(l,e,f),w(e,t),w(e,r),w(e,n),w(e,s),G(a,e,null),o=!0,h||(u=[Ee(Se.call(null,e)),_t(e,"enterViewport",i[1])],h=!0)},p(l,[f]){(!o||f&1)&&W(e,"active",l[0])},i(l){o||(P(a.$$.fragment,l),o=!0)},o(l){O(a.$$.fragment,l),o=!1},d(l){l&&X(e),$(a),h=!1,jt(u)}}}function ly(i,e,t){let r=!1;return[r,()=>{t(0,r=!0)}]}class fy extends Pt{constructor(e){super(),St(this,e,ly,uy,wt,{})}}function io(i){let e,t;return e=new ny({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function cy(i){let e,t,r,n,s,a,o,h,u,l,f,c,d,p,v,_,g,m,b;t=new Kv({}),n=new t_({}),a=new dh({}),h=new i_({}),l=new a_({}),c=new f_({}),p=new v_({}),_=new fy({});let x=i[0]!=0&&io();return{c(){e=S("main"),j(t.$$.fragment),r=I(),j(n.$$.fragment),s=I(),j(a.$$.fragment),o=I(),j(h.$$.fragment),u=I(),j(l.$$.fragment),f=I(),j(c.$$.fragment),d=I(),j(p.$$.fragment),v=I(),j(_.$$.fragment),g=I(),x&&x.c(),m=ih(),T(e,"class","svelte-sxegmq"),W(e,"lockScroll",i[0]!=0)},m(y,E){V(y,e,E),G(t,e,null),w(e,r),G(n,e,null),w(e,s),G(a,e,null),w(e,o),G(h,e,null),w(e,u),G(l,e,null),w(e,f),G(c,e,null),w(e,d),G(p,e,null),w(e,v),G(_,e,null),V(y,g,E),x&&x.m(y,E),V(y,m,E),b=!0},p(y,[E]){(!b||E&1)&&W(e,"lockScroll",y[0]!=0),y[0]!=0?x?E&1&&P(x,1):(x=io(),x.c(),P(x,1),x.m(m.parentNode,m)):x&&(Gt(),O(x,1,1,()=>{x=null}),$t())},i(y){b||(P(t.$$.fragment,y),P(n.$$.fragment,y),P(a.$$.fragment,y),P(h.$$.fragment,y),P(l.$$.fragment,y),P(c.$$.fragment,y),P(p.$$.fragment,y),P(_.$$.fragment,y),P(x),b=!0)},o(y){O(t.$$.fragment,y),O(n.$$.fragment,y),O(a.$$.fragment,y),O(h.$$.fragment,y),O(l.$$.fragment,y),O(c.$$.fragment,y),O(p.$$.fragment,y),O(_.$$.fragment,y),O(x),b=!1},d(y){y&&X(e),$(t),$(n),$(a),$(h),$(l),$(c),$(p),$(_),y&&X(g),x&&x.d(y),y&&X(m)}}}function dy(i,e,t){let r;return so(i,wi,n=>t(0,r=n)),[r]}class py extends Pt{constructor(e){super(),St(this,e,dy,cy,wt,{})}}function vy(i){let e;return{c(){e=S("h1"),e.textContent="404 ERROR",T(e,"class","svelte-ytedgd")},m(t,r){V(t,e,r)},i:nt,o:nt,d(t){t&&X(e)}}}function _y(i){let e,t;return e=new py({}),{c(){j(e.$$.fragment)},m(r,n){G(e,r,n),t=!0},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){$(e,r)}}}function my(i){let e,t,r,n;const s=[_y,vy],a=[];function o(h,u){return He()?0:1}return t=o(),r=a[t]=s[t](i),{c(){e=S("main"),r.c(),T(e,"class","lock")},m(h,u){V(h,e,u),a[t].m(e,null),n=!0},p:nt,i(h){n||(P(r),n=!0)},o(h){O(r),n=!1},d(h){h&&X(e),a[t].d()}}}function gy(i){return console.log(He()),[]}class yy extends Pt{constructor(e){super(),St(this,e,gy,my,wt,{})}}new yy({target:document.getElementById("app")});
